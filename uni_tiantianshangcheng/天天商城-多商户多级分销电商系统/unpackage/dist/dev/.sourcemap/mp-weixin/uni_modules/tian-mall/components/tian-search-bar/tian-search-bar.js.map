{"version":3,"sources":["webpack:///D:/xiaochengxu/uni_tiantianshangcheng/天天商城-多商户多级分销电商系统/uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue?fba9","webpack:///D:/xiaochengxu/uni_tiantianshangcheng/天天商城-多商户多级分销电商系统/uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue?7764","webpack:///D:/xiaochengxu/uni_tiantianshangcheng/天天商城-多商户多级分销电商系统/uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue?89ef","webpack:///D:/xiaochengxu/uni_tiantianshangcheng/天天商城-多商户多级分销电商系统/uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue?fc11","uni-app:///uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue","webpack:///D:/xiaochengxu/uni_tiantianshangcheng/天天商城-多商户多级分销电商系统/uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue?c5de","webpack:///D:/xiaochengxu/uni_tiantianshangcheng/天天商城-多商户多级分销电商系统/uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue?0240"],"names":[],"mappings":"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","file":"uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tian-search-bar.vue?vue&type=template&id=7ff4445f&scoped=true&\"\nvar renderjs\nimport script from \"./tian-search-bar.vue?vue&type=script&lang=js&\"\nexport * from \"./tian-search-bar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tian-search-bar.vue?vue&type=style&index=0&id=7ff4445f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ff4445f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue\"\nexport default component.exports","export * from \"-!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-search-bar.vue?vue&type=template&id=7ff4445f&scoped=true&\"","var components\ntry {\n  components = {\n    tianIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-icons/tian-icons\" */ \"@/uni_modules/tian-mall/components/tian-icons/tian-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-search-bar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-search-bar.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"search-container\" :class=\"{fixed:configs.fixed,isSeat:configs.isSeat}\">\r\n\t\t<view class=\"uni-searchbar\">\r\n\t\t\t<view class=\"uni-searchbar-city\" v-if=\"configs.back\" @click=\"goBack\">\r\n\t\t\t\t<tian-icons size=\"24\" type=\"xiangzuo1\" class=\"margin-left-6\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-searchbar-city\" v-if=\"configs.selectCity\" @click=\"navTo('/pages/app/cities?save=1')\">\r\n\t\t\t\t<text class=\"uni-searchbar-city-result\" :style=\"{color:configs.cityColor}\">{{selectedCityName}}</text>\r\n\t\t\t\t<tian-icons :color=\"configs.cityColor\" size=\"14\" type=\"xiangxia1\" class=\"margin-left-6\" />\r\n\t\t\t</view>\r\n\t\t\t<view :style=\"{borderRadius:radius+'px',backgroundColor: bgColorText}\" class=\"uni-searchbar__box\"\r\n\t\t\t\t@click=\"searchClick\">\r\n\t\t\t\t<view class=\"uni-searchbar__box-icon-search\">\r\n\t\t\t\t\t<slot name=\"searchIcon\">\r\n\t\t\t\t\t\t<tian-icons color=\"#999999\" size=\"18\" type=\"sousuo\" />\r\n\t\t\t\t\t</slot>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input v-if=\"show || searchVal\" :focus=\"showSync\" :placeholder=\"placeholderText\" :maxlength=\"maxlength\"\r\n\t\t\t\t\tclass=\"uni-searchbar__box-search-input\" confirm-type=\"search\" type=\"text\" v-model=\"searchVal\"\r\n\t\t\t\t\t@confirm=\"confirm\" @blur=\"blur\" />\r\n\t\t\t\t<text v-else class=\"uni-searchbar__text-placeholder\">{{ placeholderText }}</text>\r\n\t\t\t\t<view v-if=\"show && (clearButton==='always'||clearButton==='auto'&&searchVal!=='')\"\r\n\t\t\t\t\tclass=\"uni-searchbar__box-icon-clear\" @click=\"clear\">\r\n\t\t\t\t\t<slot name=\"clearIcon\">\r\n\t\t\t\t\t\t<tian-icons color=\"#c0c4cc\" size=\"18\" type=\"shanchu\" />\r\n\t\t\t\t\t</slot>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<text @click=\"cancel\" class=\"uni-searchbar__cancel\"\r\n\t\t\t\tv-if=\"cancelButton ==='always' || show && cancelButton ==='auto'\">{{cancelText}}</text>\r\n\t\t</view>\r\n\t\t<view class=\"search-tmp\">\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst db = uniCloud.database();\r\n\t/**\r\n\t * SearchBar 搜索栏\r\n\t * @description 评分组件\r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?id=866\r\n\t * @property {Number} radius 搜索栏圆角\r\n\t * @property {Number} maxlength 输入最大长度\r\n\t * @property {String} placeholder 搜索栏Placeholder\r\n\t * @property {String} clearButton = [always|auto|none] 是否显示清除按钮\r\n\t * \t@value always 一直显示\r\n\t * \t@value auto 输入框不为空时显示\r\n\t * \t@value none 一直不显示\r\n\t * @property {String} cancelButton = [always|auto|none] 是否显示取消按钮\r\n\t * \t@value always 一直显示\r\n\t * \t@value auto 输入框不为空时显示\r\n\t * \t@value none 一直不显示\r\n\t * @property {String} cancelText 取消按钮的文字\r\n\t * @property {String} bgColor 输入框背景颜色\r\n\t * @property {Boolean} focus 是否自动聚焦\r\n\t * @property {Boolean} disabled 是否禁用\r\n\t * @property {Object} configs 自定义布局传递参数\r\n\t * @event {Function} confirm uniSearchBar 的输入框 confirm 事件，返回参数为uniSearchBar的value，e={value:Number}\r\n\t * @event {Function} input uniSearchBar 的 value 改变时触发事件，返回参数为uniSearchBar的value，e=value\r\n\t * @event {Function} cancel 点击取消按钮时触发事件，返回参数为uniSearchBar的value，e={value:Number}\r\n\t * @event {Function} clear 点击清除按钮时触发事件，返回参数为uniSearchBar的value，e={value:Number}\r\n\t * @event {Function} blur input失去焦点时触发事件，返回参数为uniSearchBar的value，e={value:Number}\r\n\t * @event {Function} click 禁用后，点击事件，e={value:Number}\r\n\t */\r\n\r\n\texport default {\r\n\t\tname: \"TianSearchBar\",\r\n\t\tprops: {\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"请输入搜索内容\"\r\n\t\t\t},\r\n\t\t\tradius: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 5\r\n\t\t\t},\r\n\t\t\tclearButton: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"auto\"\r\n\t\t\t},\r\n\t\t\tcancelButton: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"auto\"\r\n\t\t\t},\r\n\t\t\tcancelText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '取消'\r\n\t\t\t},\r\n\t\t\tbg_color: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"#F8F8F8\"\r\n\t\t\t},\r\n\t\t\tmaxlength: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 100\r\n\t\t\t},\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t},\r\n\t\t\tfocus: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tconfigs: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tselectCity: false, //选择城市\r\n\t\t\t\t\t\tfixed: false,\r\n\t\t\t\t\t\tisSeat: false,\r\n\t\t\t\t\t\tcityColor: \"#000000\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselectedCityName: \"\",\r\n\t\t\t\tselectCityKey: \"user_select_city\",\r\n\t\t\t\tshow: false,\r\n\t\t\t\tshowSync: false,\r\n\t\t\t\tback: false,\r\n\t\t\t\tsearchVal: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalue: {\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler(newVal) {\r\n\t\t\t\t\tthis.searchVal = newVal\r\n\t\t\t\t\tif (newVal) {\r\n\t\t\t\t\t\tthis.show = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfocus: {\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler(newVal) {\r\n\t\t\t\t\tif (newVal) {\r\n\t\t\t\t\t\tthis.show = true;\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.showSync = true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsearchVal(newVal, oldVal) {\r\n\t\t\t\tthis.$emit(\"input\", newVal)\r\n\t\t\t},\r\n\t\t\tuserInfo() {\r\n\t\t\t\tthis.getSelectedCityName();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tuserInfo() {\r\n\t\t\t\treturn this.$store.state.user.userInfo;\r\n\t\t\t},\r\n\t\t\tplaceholderText() {\r\n\t\t\t\tif (this.configs.placeholder) {\r\n\t\t\t\t\treturn this.configs.placeholder;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.placeholder;\r\n\t\t\t},\r\n\t\t\tbgColorText() {\r\n\t\t\t\tif (this.configs.bgColor) {\r\n\t\t\t\t\treturn this.configs.bgColor;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.bg_color;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getSelectedCityName();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloadData() {\r\n\t\t\t\tthis.getSelectedCityName();\r\n\t\t\t},\r\n\t\t\tgetSelectedCityName() {\r\n\t\t\t\tif (!this.configs.selectCity) {\r\n\t\t\t\t\t//不带城市，自动删除城市信息\r\n\t\t\t\t\t// console.log(\"删除分站城市信息\")\r\n\t\t\t\t\t//@TODO 2022-01-07很多页面都有在调用，分站信息需要重新规划\r\n\t\t\t\t\t// uni.removeStorage({\r\n\t\t\t\t\t// \tkey: this.selectCityKey\r\n\t\t\t\t\t// })\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//优先读取用户设定的地区，方便同步，小程序杀死后，没有缓存\r\n\t\t\t\tif (this.userInfo.selectCity) {\r\n\t\t\t\t\tthis.selectedCityName = this.userInfo.selectCity.name;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//与pages/app/cities搭配使用，固定key\r\n\t\t\t\t\tlet city = uni.getStorageSync(this.selectCityKey);\r\n\t\t\t\t\tconsole.log(\"city\", city)\r\n\t\t\t\t\tif (city) {\r\n\t\t\t\t\t\tthis.selectedCityName = city.name;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.selectedCityName = \"请选择\";\r\n\t\t\t\t\t\t//定位，需要配置定位权限，否则无法获得位置信息\r\n\t\t\t\t\t\tthis.getLocation();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getLocation() {\r\n\t\t\t\tlet zhixiashi = {\r\n\t\t\t\t\t\"北京市\": \"110000\",\r\n\t\t\t\t\t\"天津市\": \"120000\",\r\n\t\t\t\t\t\"重庆市\": \"500000\",\r\n\t\t\t\t\t\"上海市\": \"310000\",\r\n\t\t\t\t}\r\n\t\t\t\t//查询推荐的区县\r\n\t\t\t\tlet {\r\n\t\t\t\t\tresult\r\n\t\t\t\t} = await db.collection(\"opendb-city-china\").where(\"type==2 && is_recommend==true\").field(\r\n\t\t\t\t\t\"code,name\").get();\r\n\t\t\t\tlet districts = {};\r\n\t\t\t\tresult.data.map(e => {\r\n\t\t\t\t\tdistricts[e.name] = e.code;\r\n\t\t\t\t})\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\tconsole.log(\"getLocation\", e)\r\n\t\t\t\t\t\t//根据经纬度，获得城市\r\n\t\t\t\t\t\tthis.$request(\"utils/getLocationAddress\", {\r\n\t\t\t\t\t\t\tfromLatlng: [e.latitude, e.longitude].join()\r\n\t\t\t\t\t\t}).then(data => {\r\n\t\t\t\t\t\t\tconsole.log(\"data\", data)\r\n\t\t\t\t\t\t\tif (data.ad_info) {\r\n\t\t\t\t\t\t\t\tlet localCity = {}\r\n\t\t\t\t\t\t\t\tif (districts[data.ad_info.district]) {\r\n\t\t\t\t\t\t\t\t\t//处理区县\r\n\t\t\t\t\t\t\t\t\tlocalCity = {\r\n\t\t\t\t\t\t\t\t\t\tlatitude: e.latitude,\r\n\t\t\t\t\t\t\t\t\t\tlongitude: e.longitude,\r\n\t\t\t\t\t\t\t\t\t\tname: data.ad_info.district,\r\n\t\t\t\t\t\t\t\t\t\tcode: districts[data.ad_info.district]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (zhixiashi[data.ad_info.province]) {\r\n\t\t\t\t\t\t\t\t\t//需要处理直辖市\r\n\t\t\t\t\t\t\t\t\tlocalCity = {\r\n\t\t\t\t\t\t\t\t\t\tlatitude: e.latitude,\r\n\t\t\t\t\t\t\t\t\t\tlongitude: e.longitude,\r\n\t\t\t\t\t\t\t\t\t\tname: data.ad_info.province,\r\n\t\t\t\t\t\t\t\t\t\tcode: zhixiashi[data.ad_info.province]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t//普通城市\r\n\t\t\t\t\t\t\t\t\tlocalCity = {\r\n\t\t\t\t\t\t\t\t\t\tlatitude: e.latitude,\r\n\t\t\t\t\t\t\t\t\t\tlongitude: e.longitude,\r\n\t\t\t\t\t\t\t\t\t\tname: data.ad_info.city,\r\n\t\t\t\t\t\t\t\t\t\tcode: data.ad_info.adcode.substr(0, 4) + \"00\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey: this.selectCityKey,\r\n\t\t\t\t\t\t\t\t\tdata: localCity,\r\n\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"重新加载首页\", localCity)\r\n\t\t\t\t\t\t\t\t\t\t//重新加载首页\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$store.dispatch('app/init', {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcity: localCity\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.selectedCityName = localCity.name;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearchClick() {\r\n\t\t\t\tif (this.configs.disabled) {\r\n\t\t\t\t\t//直接跳转\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: this.configs.openUrl\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.disabled) {\r\n\t\t\t\t\tthis.$emit(\"click\")\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.show) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.show = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.showSync = true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclear() {\r\n\t\t\t\tthis.$emit(\"clear\", {\r\n\t\t\t\t\tvalue: this.searchVal\r\n\t\t\t\t})\r\n\t\t\t\tthis.searchVal = \"\"\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.$emit(\"cancel\", {\r\n\t\t\t\t\tvalue: this.searchVal\r\n\t\t\t\t});\r\n\t\t\t\tthis.searchVal = \"\"\r\n\t\t\t\tthis.show = false\r\n\t\t\t\tthis.showSync = false\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t\tuni.hideKeyboard()\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tplus.key.hideSoftKeybord()\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t\tuni.hideKeyboard();\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tplus.key.hideSoftKeybord()\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.$emit(\"confirm\", {\r\n\t\t\t\t\tvalue: this.searchVal\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tblur() {\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t\tuni.hideKeyboard();\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tplus.key.hideSoftKeybord()\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.$emit(\"blur\", {\r\n\t\t\t\t\tvalue: this.searchVal\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t$uni-searchbar-height: 36px;\r\n\r\n\t.search-container {\r\n\t\t&.fixed {\r\n\t\t\t.uni-searchbar {\r\n\t\t\t\tpadding-bottom: $uni-spacing-row-base;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\twidth: calc(100% - 44rpx);\r\n\t\t\t\tz-index: 90;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\tpadding-top: calc(var(--status-bar-height) + 22rpx);\r\n\t\t\t}\r\n\r\n\t\t\t.search-tmp {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: calc(var(--status-bar-height) + 104rpx);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.isSeat {\r\n\t\t\t.uni-searchbar {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\r\n\t\t\t.search-tmp {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: 84rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.search-tmp {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.uni-searchbar {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tposition: relative;\r\n\t\t// padding: $uni-spacing-col-base;\r\n\t\t// background-color: $uni-bg-color;\r\n\t\tpadding: 0 $uni-spacing-row-base 0;\r\n\t}\r\n\r\n\t.uni-searchbar-city {\r\n\t\tmargin-right: 16rpx;\r\n\t\theight: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.uni-searchbar-city-result {\r\n\t\tfont-size: 32rpx;\r\n\t\tmax-width: 80px;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t.uni-searchbar__box {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\r\n\t\t/* #endif */\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t\tflex: 1;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\theight: $uni-searchbar-height;\r\n\t\tpadding: 5px 8px 5px 0px;\r\n\t\tborder-width: 0.5px;\r\n\t\tborder-style: solid;\r\n\t\tborder-color: $uni-border-color;\r\n\t}\r\n\r\n\t.uni-searchbar__box-icon-search {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: row;\r\n\t\t// width: 32px;\r\n\t\tpadding: 0 8px;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tcolor: $uni-text-color-placeholder;\r\n\t}\r\n\r\n\t.uni-searchbar__box-search-input {\r\n\t\tflex: 1;\r\n\t\tfont-size: $uni-font-size-base;\r\n\t\tcolor: $uni-text-color;\r\n\t}\r\n\r\n\t.uni-searchbar__box-icon-clear {\r\n\t\talign-items: center;\r\n\t\tline-height: 24px;\r\n\t\tpadding-left: 8px;\r\n\t\t/* #ifdef H5 */\r\n\t\tcursor: pointer;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.uni-searchbar__text-placeholder {\r\n\t\tfont-size: $uni-font-size-base;\r\n\t\tcolor: $uni-text-color-placeholder;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\r\n\t.uni-searchbar__cancel {\r\n\t\tpadding-left: 10px;\r\n\t\tline-height: $uni-searchbar-height;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: $uni-text-color;\r\n\t\t/* #ifdef H5 */\r\n\t\tcursor: pointer;\r\n\t\t/* #endif */\r\n\t}\r\n</style>\n","import mod from \"-!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-search-bar.vue?vue&type=style&index=0&id=7ff4445f&lang=scss&scoped=true&\"; export default mod; export * from \"-!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\software\\\\小程序\\\\HBuilderX.3.4.7.20220422\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-search-bar.vue?vue&type=style&index=0&id=7ff4445f&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1650966475258\n      var cssReload = require(\"H:/software/小程序/HBuilderX.3.4.7.20220422/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}