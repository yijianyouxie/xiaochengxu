(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-confusion"],{4957:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={};(function(){function e(t){this.mode=o.MODE_8BIT_BYTE,this.data=t}function i(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},i.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=f.getRSBlocks(t,this.errorCorrectLevel),n=new d,i=0,o=0;o<e.length;o++)i+=e[o].dataCount;for(o=0;o<this.dataList.length;o++){var r=this.dataList[o];n.put(r.mode,4),n.put(r.getLength(),s.getLengthInBits(r.mode,t)),r.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=s.getLostPoint(this);(0==n||t>i)&&(t=i,e=n)}return e},createMovieClip:function(t,e,n){var i=t.createEmptyMovieClip(e,n),o=1;this.make();for(var r=0;r<this.modules.length;r++)for(var a=r*o,s=0;s<this.modules[r].length;s++){var u=s*o,l=this.modules[r][s];l&&(i.beginFill(0,100),i.moveTo(u,a),i.lineTo(u+o,a),i.lineTo(u+o,a+o),i.lineTo(u,a+o),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],o=t[n];if(null==this.modules[i][o])for(var r=-2;r<=2;r++)for(var a=-2;a<=2;a++)this.modules[i+r][o+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},setupTypeNumber:function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=s.getBCHTypeInfo(n),o=0;o<15;o++){var r=!t&&1==(i>>o&1);o<6?this.modules[o][8]=r:o<8?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(o=0;o<15;o++){r=!t&&1==(i>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=r:o<9?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,o=7,r=0,a=this.moduleCount-1;a>0;a-=2){6==a&&a--;while(1){for(var u=0;u<2;u++)if(null==this.modules[i][a-u]){var l=!1;r<t.length&&(l=1==(t[r]>>>o&1));var c=s.getMask(e,i,a-u);c&&(l=!l),this.modules[i][a-u]=l,o--,-1==o&&(r++,o=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}}}},i.PAD0=236,i.PAD1=17,i.createData=function(t,e,n){for(var o=f.getRSBlocks(t,e),r=new d,a=0;a<n.length;a++){var u=n[a];r.put(u.mode,4),r.put(u.getLength(),s.getLengthInBits(u.mode,t)),u.write(r)}var l=0;for(a=0;a<o.length;a++)l+=o[a].dataCount;if(r.getLengthInBits()>8*l)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*l+")");r.getLengthInBits()+4<=8*l&&r.put(0,4);while(r.getLengthInBits()%8!=0)r.putBit(!1);while(1){if(r.getLengthInBits()>=8*l)break;if(r.put(i.PAD0,8),r.getLengthInBits()>=8*l)break;r.put(i.PAD1,8)}return i.createBytes(r,o)},i.createBytes=function(t,e){for(var n=0,i=0,o=0,r=new Array(e.length),a=new Array(e.length),u=0;u<e.length;u++){var l=e[u].dataCount,f=e[u].totalCount-l;i=Math.max(i,l),o=Math.max(o,f),r[u]=new Array(l);for(var d=0;d<r[u].length;d++)r[u][d]=255&t.buffer[d+n];n+=l;var h=s.getErrorCorrectPolynomial(f),g=new c(r[u],h.getLength()-1),m=g.mod(h);a[u]=new Array(h.getLength()-1);for(d=0;d<a[u].length;d++){var v=d+m.getLength()-a[u].length;a[u][d]=v>=0?m.get(v):0}}var p=0;for(d=0;d<e.length;d++)p+=e[d].totalCount;var y=new Array(p),b=0;for(d=0;d<i;d++)for(u=0;u<e.length;u++)d<r[u].length&&(y[b++]=r[u][d]);for(d=0;d<o;d++)for(u=0;u<e.length;u++)d<a[u].length&&(y[b++]=a[u][d]);return y};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},r={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(s.getBCHDigit(e)-s.getBCHDigit(s.G15)>=0)e^=s.G15<<s.getBCHDigit(e)-s.getBCHDigit(s.G15);return(t<<10|e)^s.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(s.getBCHDigit(e)-s.getBCHDigit(s.G18)>=0)e^=s.G18<<s.getBCHDigit(e)-s.getBCHDigit(s.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return s.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case a.PATTERN000:return(e+n)%2==0;case a.PATTERN001:return e%2==0;case a.PATTERN010:return n%3==0;case a.PATTERN011:return(e+n)%3==0;case a.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case a.PATTERN101:return e*n%2+e*n%3==0;case a.PATTERN110:return(e*n%2+e*n%3)%2==0;case a.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new c([1],0),n=0;n<t;n++)e=e.multiply(new c([1,u.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var o=0;o<e;o++){for(var r=0,a=t.isDark(i,o),s=-1;s<=1;s++)if(!(i+s<0||e<=i+s))for(var u=-1;u<=1;u++)o+u<0||e<=o+u||0==s&&0==u||a==t.isDark(i+s,o+u)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<e-1;i++)for(o=0;o<e-1;o++){var l=0;t.isDark(i,o)&&l++,t.isDark(i+1,o)&&l++,t.isDark(i,o+1)&&l++,t.isDark(i+1,o+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(i,o)&&!t.isDark(i,o+1)&&t.isDark(i,o+2)&&t.isDark(i,o+3)&&t.isDark(i,o+4)&&!t.isDark(i,o+5)&&t.isDark(i,o+6)&&(n+=40);for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(i,o)&&!t.isDark(i+1,o)&&t.isDark(i+2,o)&&t.isDark(i+3,o)&&t.isDark(i+4,o)&&!t.isDark(i+5,o)&&t.isDark(i+6,o)&&(n+=40);var c=0;for(o=0;o<e;o++)for(i=0;i<e;i++)t.isDark(i,o)&&c++;var f=Math.abs(100*c/e/e-50)/5;return n+=10*f,n}},u={glog:function(t){if(t<1)throw new Error("glog("+t+")");return u.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return u.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)u.EXP_TABLE[l]=1<<l;for(l=8;l<256;l++)u.EXP_TABLE[l]=u.EXP_TABLE[l-4]^u.EXP_TABLE[l-5]^u.EXP_TABLE[l-6]^u.EXP_TABLE[l-8];for(l=0;l<255;l++)u.LOG_TABLE[u.EXP_TABLE[l]]=l;function c(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var n=0;while(n<t.length&&0==t[n])n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function f(t,e){this.totalCount=t,this.dataCount=e}function d(){this.buffer=new Array,this.length=0}function h(t){for(var e,n="",i=0;i<t.length;i++)e=t.charCodeAt(i),e>=1&&e<=127?n+=t.charAt(i):e>2047?(n+=String.fromCharCode(224|e>>12&15),n+=String.fromCharCode(128|e>>6&63),n+=String.fromCharCode(128|e>>0&63)):(n+=String.fromCharCode(192|e>>6&31),n+=String.fromCharCode(128|e>>0&63));return n}c.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=u.gexp(u.glog(this.get(n))+u.glog(t.get(i)));return new c(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=u.glog(this.get(0))-u.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=u.gexp(u.glog(t.get(i))+e);return new c(n,0).mod(t)}},f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(t,e){var n=f.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,o=new Array,r=0;r<i;r++)for(var a=n[3*r+0],s=n[3*r+1],u=n[3*r+2],l=0;l<a;l++)o.push(new f(s,u));return o},f.getRsBlockTable=function(t,e){switch(e){case r.L:return f.RS_BLOCK_TABLE[4*(t-1)+0];case r.M:return f.RS_BLOCK_TABLE[4*(t-1)+1];case r.Q:return f.RS_BLOCK_TABLE[4*(t-1)+2];case r.H:return f.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},d.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},n={errorCorrectLevel:r,defaults:{size:354,margin:0,backgroundColor:"#ffffff",foregroundColor:"#000000",fileType:"png",errorCorrectLevel:r.H,typeNumber:-1},make:function(e){var n=this;return new Promise((function(o,r){var a={canvasId:e.canvasId,componentInstance:e.componentInstance,text:e.text,size:n.defaults.size,margin:n.defaults.margin,backgroundColor:n.defaults.backgroundColor,foregroundColor:n.defaults.foregroundColor,fileType:n.defaults.fileType,errorCorrectLevel:n.defaults.errorCorrectLevel,typeNumber:n.defaults.typeNumber};if(e)for(var s in e)a[s]=e[s];function u(){var t=new i(e.typeNumber,e.errorCorrectLevel);t.addData(h(e.text)),t.make();var n=uni.createCanvasContext(e.canvasId,e.componentInstance);n.setFillStyle(e.backgroundColor),n.fillRect(0,0,e.size,e.size);for(var a=(e.size-2*e.margin)/t.getModuleCount(),s=a,u=0;u<t.getModuleCount();u++)for(var l=0;l<t.getModuleCount();l++){var c=t.isDark(u,l)?e.foregroundColor:e.backgroundColor;n.setFillStyle(c);var f=Math.round(l*a)+e.margin,d=Math.round(u*s)+e.margin,g=Math.ceil((l+1)*a)-Math.floor(l*a),m=Math.ceil((u+1)*a)-Math.floor(u*a);n.fillRect(f,d,g,m)}setTimeout((function(){n.draw(!1,function(){setTimeout((function(){uni.canvasToTempFilePath({canvasId:e.canvasId,fileType:e.fileType,width:e.size,height:e.size,destWidth:e.size,destHeight:e.size,success:function(t){var n,i=t.tempFilePath,r=plus.io.convertLocalFileSystemURL(i),a=new plus.io.FileReader;a.readAsDataURL(r),a.onloadend=function(t){n=t.target.result,e.success&&e.success(n),o(n)}},fail:function(t){e.fail&&e.fail(t),r(t)},complete:function(t){e.complete&&e.complete(t)}},e.componentInstance)}),e.text.length+100)}())}),150)}e=a,e.canvasId?u():t("error","uQRCode: Please set canvasId!"," at common/js/uqrcode.js:1323")}))}}})();var i=n;e.default=i}).call(this,n("0de9")["default"])},"681d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("fb22"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return{loaded:!1,adTimer:null}},watch:{barTitle:function(t){uni.setNavigationBarTitle({title:t})},adConfig:function(){this.loadVideoAd()}},computed:{videoAdWaittingTime:function(){return this.$store.state.app.customer.videoAdWaittingTime}},onLoad:function(){},onUnload:function(){clearTimeout(this.adTimer)},onShow:function(){t("log","ad onShow"," at common/mixin/ad.js:38")},methods:{loadVideoAd:function(){this.adConfig&&(this.adConfig.signin&&i.default.load({adpid:this.adConfig.signin,adType:"RewardedVideo"}),this.adConfig.video&&i.default.load({adpid:this.adConfig.video,adType:"FullScreenVideo"}),this.adConfig.interstitial&&i.default.load({adpid:this.adConfig.interstitial,adType:"Interstitial"}))},loadVideoAdByConfig:function(t){i.default.load(a({},t))},signin:function(e){return t("log","\u7b7e\u5230\u8d5a\u79ef\u5206"," at common/mixin/ad.js:84"),this.showRewardedVideoAd(e,"signin")},articleRead:function(e){return t("log","\u9605\u8bfb\u6587\u7ae0\u8d5a\u79ef\u5206"," at common/mixin/ad.js:91"),this.finishTask(e,"finish",{},!1)},view_aritcle:function(){uni.switchTab({url:"/pages/index/index"})},getDoubleScore:function(e,n){t("log","\u9605\u8bfb\u6587\u7ae0\u770b\u5e7f\u544a\u8d5a\u79ef\u5206"," at common/mixin/ad.js:100"),this.showRewardedVideoAd(e,"getdouble",{module:n})||this.showFullScreenVideoAd(e,"getdouble",{module:n})},shareToFriend:function(e){var n=this,i=this.$stringFormat(e.data,{my_invite_code:this.userInfo.my_invite_code});t("log","\u5206\u4eabapp\u83b7\u5f97\u79ef\u5206",i," at common/mixin/ad.js:116"),uni.share(a(a({provider:"weixin",scene:"WXSceneSession",type:0},JSON.parse(i)),{},{success:function(i){n.finishTask(e,"share",{},!1),t("log","success:"+JSON.stringify(i)," at common/mixin/ad.js:125")},fail:function(e){t("log","fail:"+JSON.stringify(e)," at common/mixin/ad.js:128")}}))},showRewardedVideoAd:function(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signin",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.adpid||this.adConfig.signin||this.$message("\u83b7\u53d6\u5e7f\u544a\u5931\u8d25");var a={adpid:e.adpid||this.adConfig.signin,adType:"RewardedVideo"};return i.default.show(a,(function(i){n.loadVideoAdByConfig(a),i&&i.isEnded||e.middle_getout?(n.finishTask(e,o,r),t("log","onClose "+i.isEnded," at common/mixin/ad.js:147")):(t("log","\u4e2d\u9014\u9000\u51faonClose "+i.isEnded," at common/mixin/ad.js:150"),uni.showToast({title:"\u4e2d\u9014\u9000\u51fa\uff0c\u65e0\u5956\u52b1",icon:"none"}))}),(function(i){t("log",i," at common/mixin/ad.js:158"),i.errMsg&&-1!=i.errMsg.indexOf("\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25")?(t("log","\u5e7f\u544a\u51fa\u9519\u4e86\uff0c\u5207\u6362\u4e3a\u89c6\u9891\u5e7f\u544a"," at common/mixin/ad.js:160"),n.showFullScreenVideoAd(e,o,r)):uni.showToast({title:i.errMsg||"\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25",icon:"none"})})),!0},showFullScreenVideoAd:function(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"finish",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.adpid&&!this.adConfig.video)return this.$message("\u83b7\u53d6\u5e7f\u544a\u5931\u8d25"),!1;var a={adpid:e.adpid||this.adConfig.video,adType:"FullScreenVideo"};return i.default.show(a,(function(i){n.loadVideoAdByConfig(a),i&&i.isEnded||e.middle_getout?(n.finishTask(e,o,r),t("log","onClose "+i.isEnded," at common/mixin/ad.js:187")):(t("log","\u4e2d\u9014\u9000\u51faonClose "+i.isEnded," at common/mixin/ad.js:190"),uni.showToast({title:"\u4e2d\u9014\u9000\u51fa\uff0c\u65e0\u5956\u52b1",icon:"none"}))}),(function(e){t("log",e," at common/mixin/ad.js:198"),uni.showToast({title:e.errMsg||"\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25",icon:"none"})})),!0},showInterstitialAd:function(){var e=this;if(!this.adConfig||!this.adConfig.interstitial)return!1;var n={adpid:this.adConfig.interstitial,adType:"Interstitial"};return i.default.show(n,(function(i){e.loadVideoAdByConfig(n),i&&i.isEnded?t("log","onClose "+i.isEnded," at common/mixin/ad.js:220"):t("log","onClose "+i.isEnded," at common/mixin/ad.js:223")}),(function(e){t("log",e," at common/mixin/ad.js:227")})),!0},finishTask:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"finish",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s="";e.log&&e.log._id&&(s=e.log._id),this.$request("user/task/"+i,a(a({data:e.data},o),{},{task_log_id:s,task_id:e._id}),{loading:!0}).then((function(e){t("log","finishTask",e," at common/mixin/ad.js:244"),n.$store.commit("user/UPDATE_TASK_LOG",e),n.showWaitAdTime(e,r?n.videoAdWaittingTime:0)}),(function(t){uni.hideLoading()}))},showWaitAdTime:function(t,e){var n=this;this.loaded=!1,e>0?(uni.showLoading({mask:!0,title:"".concat(e,"\u79d2\u51b7\u5374\u65f6\u95f4")}),this.adTimer=setTimeout((function(){n.showWaitAdTime(t,e-1)}),1e3)):(uni.hideLoading(),this.loaded=!0,this.finishTaskResult(t),this.buildTaskResult(t))},finishTaskResult:function(t){t.getDouble?this.$message("\u83b7\u5f97\u7ffb\u500d\u5956\u52b1 +".concat(t.task.bounty)):t.getScore?this.$message("\u83b7\u5f97\u5956\u52b1 +".concat(t.task.bounty)):t.needMore?this.$message("\u5df2\u5b8c\u6210".concat(t.amount,"\u6b21")):t.result?this.$message("\u5df2\u5b8c\u6210"):uni.hideLoading()},buildTaskResult:function(t){}}};e.default=u}).call(this,n("0de9")["default"])},"8bee":function(t,e,n){"use strict";var i=r(n("8bbf")),o=n("adf2");function r(t){return t&&t.__esModule?t:{default:t}}i.default.filter("dateFormat",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Y-m-d H:i";return t?(0,o.dateFormat)(e,t):""})),i.default.filter("formatDistance",(function(t){return t?t<1e3?t.toFixed(2)+"\u7c73":(t/1e3).toFixed(2)+"\u5343\u7c73":"0m"})),i.default.filter("formatDistanceTime",(function(t){if(!t)return"0m";if(t<10)return"5\u5206\u949f";if(t<100)return"15\u5206\u949f";if(t<1e3)return"30\u5206\u949f";var e="",n=parseInt(t/1e3*30);return n/60>1&&(e+=parseInt(n/60)+"\u5c0f\u65f6"),e+=n%60+"\u5206\u949f",e})),i.default.filter("price",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!t||isNaN(t)?0:e>0?parseFloat(t).toFixed(e):+parseFloat(t).toFixed(2)})),i.default.filter("substr",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return t?t.length>e?t.substr(0,e)+"...":t:""})),i.default.filter("genderAvatar",(function(t){return 1==t?"/static/img/default-head-female.jpg":"/static/img/default-head-male.jpg"})),i.default.filter("genderValue",(function(t){return 1==t?"\u5973":2==t?"\u7537":"\u672a\u77e5"})),i.default.filter("thumbImg",(function(t,e){return(0,o.thumbImg)(t,e)}))},9589:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("992a"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return d(t)||f(t)||c(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var g={data:function(){return{page:0,limit:20,loadingType:"loading",isSubmit:!1,share:{},barTitle:"",itemDataKey:"navigateToItemData",isShowLoginDialog:!1}},watch:{barTitle:function(t){uni.setNavigationBarTitle({title:t})}},onLoad:function(){this.barTitle&&uni.setNavigationBarTitle({title:this.barTitle})},methods:{log:function(e){t("log",JSON.parse(JSON.stringify(e))," at common/mixin/mixin.js:33")},navTo:function(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)if(t("log","url",e," at common/mixin/mixin.js:47"),!~e.indexOf("login=true")&&!o.login||this.$store.getters["user/isTokenValid"])if(~e.indexOf("mobile=true")&&!this.$store.state.user.userInfo.mobile&&(e="/pages/login/bindmobile"),-1==e.indexOf("miniProgram")){if(-1!=e.indexOf("http://")||-1!=e.indexOf("https://"))n=e,e="/pages/app/web";else if(-1!=e.indexOf("::")){var r=e.split(","),a=r.shift();try{this[a.substr(2)].apply(this,[n].concat(u(r)))}catch(l){t("log",l," at common/mixin/mixin.js:78"),uni.showToast({title:l.message||"\u7f51\u7edc\u5f02\u5e38",icon:"none"})}return}n?uni.setStorageSync(this.itemDataKey,n):uni.removeStorage({key:this.itemDataKey}),uni.navigateTo({url:e,events:{refreshData:function(){i.loadData()},addData:function(e){t("log","mixin addData",e," at common/mixin/mixin.js:101"),i.editData(e)}},fail:function(){t("log","navigateTo fail"," at common/mixin/mixin.js:107"),uni.switchTab({url:e,success:function(){if(-1!=e.indexOf("index/category")&&-1!=e.indexOf("id")){var t=e.substr(e.indexOf("id=")+3);uni.$emit("changeMainCid",t),setTimeout((function(){uni.$emit("changeMainCid",t)}),1e3)}}})}})}else{var s=e.split(",");uni.navigateToMiniProgram({appId:s[1],path:s[2],extraData:s[3]?JSON.parse(s[3]):{}})}else this.navToLoginNotice()},redirectToItem:function(t,e){e&&uni.setStorageSync(this.itemDataKey,e),uni.redirectTo({url:t})},navToLoginNotice:function(e){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isShowLoginDialog)return!1;var r="\u4e00\u952e\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u6253\u5f00\u624b\u673a\u6d41\u91cf",s=this.$store.getters["app/isMustUniverifyLogin"],u=this.$store.state.user.univerifyInit;uni.login({provider:"univerify",univerifyStyle:{fullScreen:i,otherLoginButton:{visible:!s}},success:function(i){uni.showLoading({title:"\u767b\u5f55\u4e2d"}),t("log",i.authResult," at common/mixin/mixin.js:163"),n.$request("user/login/univerify",a(a({},i.authResult),{},{inviteCode:n.$store.state.user.inviteCode,channelCode:n.$store.state.user.channelCode})).then((function(n){uni.hideLoading(),t("log","\u4e00\u952e\u767b\u5f55\u5b8c\u6210",n," at common/mixin/mixin.js:170"),e&&e(n)}),(function(t){uni.hideLoading(),n.$message(r)})).finally((function(){uni.closeAuthView()}))},fail:function(e){s?n.$message(r):40004==e.errCode||30003==e.errCode||(30002==e.errCode?o&&n.navToLogin():o||n.$message(r)),t("log",e.errCode," at common/mixin/mixin.js:200"),t("log",e.errMsg," at common/mixin/mixin.js:201"),uni.closeAuthView()}}),u||this.showLoginNotice()},showLoginNotice:function(){var t=this;uni.showModal({title:i.default.login.title,content:i.default.login.content,cancelText:i.default.login.cancelText,confirmText:i.default.login.confirmText,success:function(e){e.confirm&&t.navToLogin(),t.isShowLoginDialog=!1},fail:function(){t.isShowLoginDialog=!1}})},navToLogin:function(){uni.navigateTo({url:i.default.login.url})},navTimeBack:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];setTimeout((function(){if(e)try{n.getOpenerEventChannel().emit("refreshData")}catch(i){t("log","\u5237\u65b0\u4e0a\u4e00\u9875\u6570\u636e\u9519\u8bef"," at common/mixin/mixin.js:245")}uni.navigateBack({}),o&&o()}),i)},getItemData:function(t){var e=uni.getStorageSync(this.itemDataKey);if(t&&e){if("array"==typeof e)return e;for(var n in e)this[n]=e[n]}return e},setRootData:function(t){for(var e in t)this[e]=t[e]},navTimeTo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;setTimeout((function(){e.navTo(t,n)}),i)},imageOnLoad:function(t,e){var n=this;setTimeout((function(){n.$set(t,"loaded",!0)}),100)},showMyPopups:function(t){var e=this;this.$api.throttle((function(){e.$refs[t].open()}),200)},hideMyPopups:function(t){this.$refs[t].close()},stopPrevent:function(){},getShareContent:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,r="";return this.userInfo&&this.userInfo.my_invite_code&&i.push("u="+this.userInfo.my_invite_code),o&&(e="/pages/index/index",i.push("rdt=".concat(o))),this.share.title&&""!=this.share.title.trim()||(this.share=uni.getStorageSync("app_share")),this.share&&(this.share.pageLinkQuery&&i.push(this.share.pageLinkQuery),this.share.title&&(r=this.share.title),this.share.imageUrl&&(n=this.share.imageUrl)),t("log",{title:r,imageUrl:n,path:e+"?"+i.join("&")}," at common/mixin/mixin.js:333"),{title:r,imageUrl:n,path:e+"?"+i.join("&")}},confirmAction:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t("log","confirmAction"," at common/mixin/mixin.js:351"),uni.showModal({title:i,content:n,success:function(t){t.confirm&&e()}})},buildUserInfo:function(t){var e={balance:0,score:0,coupon:0,avatar:"/static/missing-face.png",nickname:"\u533f\u540d"};for(var n in e)t[n]||(t[n]=e[n])},buildMember:function(t){var e={balance:0,score:0,coupon:0,avatar:"/static/missing-face.png",nickname:"\u533f\u540d"};t.forEach((function(t){for(var n in e)t[n]||(t[n]=e[n])}))},checkBindMobile:function(e){var n=this,i=this.$store.state.user.userInfo;return!(this.$store.getters["user/isTokenValid"]&&this.$store.state.app&&this.$store.state.app.mustBindMobile&&!i.mobile)||(t("log","\u7ed1\u5b9a\u624b\u673a\u53f7"," at common/mixin/mixin.js:406"),uni.showModal({title:"\u7ed1\u5b9a\u624b\u673a",content:e,success:function(t){t.confirm&&n.navTo("/pages/login/bindmobile")}}),!1)},setGlobalShareContent:function(e){e||(e=this.$store.state.app.share);var n=this.$store.state.user.userInfo;if(e&&n&&n._id){for(var i in e)e[i]=this.$stringFormat(e[i],a({},n),!0);t("log","setGlobalShareContent share",e," at common/mixin/mixin.js:431"),this.share=e}},adLoad:function(e){t("log","adLoad: ",e," at common/mixin/mixin.js:436")},adError:function(t){},adClose:function(e){t("log","adClose: ",e," at common/mixin/mixin.js:442")}}};e.default=g}).call(this,n("0de9")["default"])},adf2:function(t,e,n){"use strict";(function(t){function n(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function i(t){return a(t)||r(t)||l(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t){if(Array.isArray(t))return c(t)}function s(t,e){return d(t)||f(t,e)||l(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(u){o=!0,r=u}finally{try{i||null==s["return"]||s["return"]()}finally{if(o)throw r}}return n}}function d(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.saveFile=e.repairImageSize=e.stringFormat=e.prePage=e.thumbImg=e.getQueryString=e.getUnique=e.dateFormat=e.throttle=void 0;var h=!1,g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;h||(h=!0,t(),setTimeout((function(){h=!1}),e))};e.throttle=g;var m=function(t,e){var n;e?(isNaN(e)||(e=""+e.length<=10?1e3*+e:+e),n=new Date(e)):n=new Date;var i=n.getFullYear(),o=n.getMonth()+1,r=n.getDate(),a=n.getHours(),s=n.getMinutes(),u=n.getSeconds(),l={0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"};return/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"\u661f\u671f":"\u5468":"")+l[n.getDay()+""])),o=o<10?"0"+o:o,r=r<10?"0"+r:r,a=a<10?"0"+a:a,s=s<10?"0"+s:s,u=u<10?"0"+u:u,t.replace(/[YmdHis]/g,(function(t){return{Y:i,m:o,d:r,H:a,i:s,s:u}[t]}))};e.dateFormat=m;var v=function(t){var e={};return t.filter((function(t,n){var i=t+JSON.stringify(t);return!e.hasOwnProperty(i)&&(e[i]=!0)}))};e.getUnique=v;var p=function(t,e){var n={};if(t.indexOf("?")>0)for(var i=t.split("?")[1].split("&"),o=0;o<i.length;o++){var r=i[o].split("=");if(r[0]==e)return r[1];n[r[0]]=r[1]}return e?"":n};e.getQueryString=p;var y=function(t,e){if(e||(e="200x200"),!t)return"/static/errorImage.jpg";if(t.indexOf("?")>0){var n=t.split("?"),o=s(n,2),r=o[0];o[1];t=r}if(e=e.toLowerCase(),t.indexOf("bspapp.com")>-1){var a=e.split("x");return e="w_".concat(a[0],",h_").concat(a[1]),[t,"?x-oss-process=image/resize,m_fill,",e].join("")}if(t.indexOf("qcloud.la")>-1)return[t,"?imageMogr2/crop/",e,"/gravity/center"].join("");if(t.indexOf("7.nbgaofang.cn")>-1){var u=e.split("x");return e="w/".concat(u[0],"/h/").concat(u[1]),[t,"?imageView2/1/",e,"/q/75"].join("")}if(t.indexOf("360buyimg.com")>-1)return t.replace(/s(\d+)x(\d+)/,"s".concat(e));if(t.indexOf("img.jxhh.com")>-1){var l=e.split("x"),c=Math.max.apply(Math,i(l));return[t,"?imageMogr2/thumbnail/",c,"x/strip/quality/75/format/jpg"].join("")}return t};e.thumbImg=y;var b=function(){var t=getCurrentPages(),e=t[t.length-2];return e.$vm};e.prePage=b;var T=function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?e.replace(/\{([a-zA-Z0-9$_\.]+)\}/g,(function(e){var r=e.replace(/[\{\}]/g,"");if(t("log","key1",r," at common/js/util.js:173"),void 0!==i[r])return i[r];var a=r.split(".");if(a.length>1){var s=i[a[0]];a.shift();var u,l=n(a);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(s=s[c],void 0===s)return r}}catch(f){l.e(f)}finally{l.f()}if(void 0!==s)return s}return o?"":e})):""};e.stringFormat=T;var w=function(e){if(!e)return"";var n=/<img.*?(?:>|\/>)/gi,i=/src=[\'\"]?([^\'\"]*)[\'\"]?/i;return e.replace(n,(function(e){t("log",e," at common/js/util.js:210");var n=e.match(i);return n[1]?'<img src="'.concat(n[1],'" width="100%"/>'):""}))};e.repairImageSize=w;var _=function(t,e,n){uni.downloadFile({url:t,success:function(t){e?uni.saveFile({tempFilePath:t.tempFilePath,success:function(t){n(t.savedFilePath)},fail:function(t){}}):n(t.tempFilePath)}})};e.saveFile=_}).call(this,n("0de9")["default"])},f8ad:function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.cloudUploadFile=e.uploadFiles=void 0;var i=function(e,n,i,r){var a=new Date,s=[e,a.getFullYear(),a.getMonth()+1,a.getDate()];uni.chooseImage({count:n,success:function(e){t("log",e," at common/mixin/upload.js:15"),uni.showLoading({title:"\u56fe\u7247\u4e0a\u4f20\u4e2d",mask:!0}),i&&i(e.tempFilePaths);var n=[];e.tempFilePaths.map((function(t){var e=(Math.random()+"").substr(2)+".jpg",i=s.join("/")+"/"+e,r=o(t,i);n.push(r)})),Promise.all(n).then((function(e){t("log",e," at common/mixin/upload.js:32"),uni.showToast({icon:"success",title:"\u4e0a\u4f20\u6210\u529f"}),uni.hideLoading(),r&&r(e)}))}})};e.uploadFiles=i;var o=function(e,i){if(!i){var o=new Date,r=uni.getStorageSync("avatarField");r||(r="user");var a=[r,"images",o.getFullYear(),o.getMonth()+1,o.getDate(),o.getTime()+".jpg"];i=a.join("/")}return new Promise((function(o,r){n.uploadFile({filePath:e,cloudPath:i,onUploadProgress:function(t){},success:function(e){t("log","cloudUploadFile",e," at common/mixin/upload.js:70"),-1!=e.fileID.indexOf("cloud://")?n.getTempFileURL({fileList:[e.fileID]}).then((function(t){o(t.fileList[0].tempFileURL)})):setTimeout((function(){o(e.fileID)}),200)},fail:function(){r(!1)}})}))};e.cloudUploadFile=o}).call(this,n("0de9")["default"],n("a9ff")["default"])},fb22:function(t,e,n){"use strict";function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function r(t){var e=u();return function(){var n,i=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h={RewardedVideo:"RewardedVideo",Interstitial:"Interstitial",FullScreenVideo:"FullScreenVideo"},g=function(){function t(){c(this,t),this._ads={}}return d(t,[{key:"load",value:function(t,e,n){var i=this._fixOldOptions(t),o=i.adpid;o&&!this.isBusy(o)?this.get(i).load(e,n):uni.showToast({title:"\u6b63\u5728\u52a0\u8f7d\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",icon:"none"})}},{key:"show",value:function(t,e,n){var i=this._fixOldOptions(t),o=i.adpid;if(o){uni.showLoading({mask:!0});var r=this.get(i);r.load((function(){uni.hideLoading(),r.show((function(t){e&&e(t)}))}),(function(t){uni.hideLoading(),n&&n(t)}))}}},{key:"isBusy",value:function(t){return this._ads[t]&&this._ads[t].isLoading}},{key:"get",value:function(t){var e=t.adpid;return this._ads[e]||(this._ads[e]=this._createAdInstance(t)),this._ads[e]}},{key:"_createAdInstance",value:function(t){var e=t.adType||h.RewardedVideo;delete t.adType;var n=null;return e===h.RewardedVideo?n=new b(t):e===h.FullScreenVideo?n=new T(t):e===h.Interstitial&&(n=new w(t)),n}},{key:"_fixOldOptions",value:function(t){return"string"===typeof t?{adpid:t}:t}}]),t}(),m=18e5,v={CSJ:"csj",GDT:"gdt"},p=1,y=function(){function t(e){var n=this;c(this,t),this._isLoad=!1,this._isLoading=!1,this._lastLoadTime=0,this._lastError=null,this._retryCount=0,this._loadCallback=null,this._closeCallback=null,this._errorCallback=null;var i=this._ad=e;i.onLoad((function(t){n._isLoading=!1,n._isLoad=!0,n._lastLoadTime=Date.now(),n.onLoad()})),i.onClose((function(t){n._isLoad=!1,n.onClose(t)})),i.onError((function(t){var e=t.code,i=t.message;n._isLoading=!1;var o={code:e,errMsg:i};if(-5008!==e){if(n._retryCount<p)return n._retryCount+=1,void n._loadAd();n._lastError=o,n.onError(o)}else n._loadAd()}))}return d(t,[{key:"getProvider",value:function(){return this._ad.getProvider()}},{key:"load",value:function(t,e){this._loadCallback=t,this._errorCallback=e,this._isLoading||(this._isLoad?this.onLoad():(this._retryCount=0,this._loadAd()))}},{key:"show",value:function(t){if(this._closeCallback=t,!this._isLoading&&this._isLoad)if(null===this._lastError){var e=this.getProvider();e===v.CSJ&&this.isExpired?this._loadAd():this._ad.show()}else this.onError(this._lastError)}},{key:"onLoad",value:function(t){null!=this._loadCallback&&this._loadCallback()}},{key:"onClose",value:function(t){null!=this._closeCallback&&this._closeCallback({isEnded:t.isEnded})}},{key:"onError",value:function(t){null!=this._errorCallback&&this._errorCallback(t)}},{key:"destroy",value:function(){this._ad.destroy()}},{key:"_loadAd",value:function(){this._isLoad=!1,this._isLoading=!0,this._lastError=null,this._ad.load()}},{key:"isExpired",get:function(){return 0!==this._lastLoadTime&&Math.abs(Date.now()-this._lastLoadTime)>m}},{key:"isLoading",get:function(){return this._isLoading}}]),t}(),b=function(t){i(n,t);var e=r(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(this,n),e.call(this,plus.ad.createRewardedVideoAd(t),t)}return n}(y),T=function(t){i(n,t);var e=r(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(this,n),e.call(this,plus.ad.createFullScreenVideoAd(t),t)}return n}(y),w=function(t){i(n,t);var e=r(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(this,n),e.call(this,plus.ad.createInterstitialAd(t),t)}return n}(y),_=new g;e.default=_}}]);