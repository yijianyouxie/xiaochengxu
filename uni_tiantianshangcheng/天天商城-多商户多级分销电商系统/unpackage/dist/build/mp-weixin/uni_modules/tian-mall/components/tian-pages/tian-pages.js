(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["uni_modules/tian-mall/components/tian-pages/tian-pages"],{"0372":function(n,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return e}));var e={tianBanner:function(){return i.e("uni_modules/tian-mall/components/tian-banner/tian-banner").then(i.bind(null,"a7da"))},tianMapLocation:function(){return i.e("uni_modules/tian-mall/components/tian-map-location/tian-map-location").then(i.bind(null,"f7cf"))},tianGrides:function(){return i.e("uni_modules/tian-mall/components/tian-grides/tian-grides").then(i.bind(null,"e69e"))},tianSearchBar:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/tian-mall/components/tian-search-bar/tian-search-bar")]).then(i.bind(null,"b221"))},tianArticle:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/tian-article/components/tian-article/tian-article")]).then(i.bind(null,"badd"))},tianBannerImage:function(){return i.e("uni_modules/tian-mall/components/tian-banner-image/tian-banner-image").then(i.bind(null,"68f9"))},tianGoodsList:function(){return i.e("uni_modules/tian-mall/components/tian-goods-list/tian-goods-list").then(i.bind(null,"84c4"))},tianGoodsLayout:function(){return i.e("uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout").then(i.bind(null,"b347"))},tianGoodsJoinList:function(){return i.e("uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list").then(i.bind(null,"47d8"))},uniNoticeBar:function(){return i.e("uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar").then(i.bind(null,"8a13"))},uniLink:function(){return i.e("uni_modules/uni-link/components/uni-link/uni-link").then(i.bind(null,"70d2"))},uniTitle:function(){return i.e("uni_modules/uni-title/components/uni-title/uni-title").then(i.bind(null,"2667"))},uniIcons:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(i.bind(null,"b0c4"))},tianGoodsSku:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku")]).then(i.bind(null,"6b96"))}},o=function(){var n=this,t=n.$createElement;n._self._c},a=[]},"3d7a":function(n,t,i){},"9e82":function(n,t,i){"use strict";i.r(t);var e=i("c95c"),o=i.n(e);for(var a in e)"default"!==a&&function(n){i.d(t,n,(function(){return e[n]}))}(a);t["default"]=o.a},c95c:function(n,t,i){"use strict";(function(n,i){function e(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.push.apply(i,e)}return i}function o(n){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach((function(t){a(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))}))}return n}function a(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n.database(),r={data:function(){return{goods:{},pageStyle:"",dataList:[]}},props:{configs:{type:Object,default:function(){return{}}},styles:{type:Object,default:function(){return{}}},items:{type:Array,default:function(){}},refresh:{type:Number,default:0},loadmore:{type:Number,default:0},preview:{type:Boolean,default:!1}},computed:{hasGoodsModule:function(){return!!this.dataList&&this.dataList.filter((function(n){return-1!=n.component.indexOf("goods")})).length>0},bgClassName:function(){if(this.configs&&this.configs.configs){var n=[];return this.configs.configs.bgClassName&&n.push(this.configs.configs.bgClassName),this.configs.configs.isImmersive&&n.push("immersive"),n.join(" ")}return""}},watch:{configs:function(n){this.buildPage(),n.children?this.preview?(console.log("page 重新加载"),this.dataList=[],setTimeout((function(){}),120),this.dataList=n.children):this.dataList=n.children:n.parent_id!=this.configs.parent_id&&this.loadData(),console.log("page newVal",n)},loadmore:function(){console.log("pages loadmore")}},created:function(){this.buildPage(),this.configs.children?this.dataList=this.checkData(this.configs.children):this.loadData()},mounted:function(){this.loaded=!0},methods:{clickPreview:function(n){this.$emit("click",n)},delItem:function(n,t){this.$emit("deletes",n,t)},buildPage:function(){var n=Object.assign({},o(o(o({},this.configs),this.configs.configs),{},{configs:void 0,children:void 0}));if(console.log("buildPage page config",n),n.title&&i.setNavigationBarTitle({title:n.title}),n.topbarColor&&n.topbarBgColor?i.setNavigationBarColor({backgroundColor:n.topbarBgColor,frontColor:n.topbarColor}):i.setNavigationBarColor({backgroundColor:"#ffffff",frontColor:"#000000"}),this.pageStyle="",n.backgroundImg&&(this.pageStyle="background-image:url(".concat(n.backgroundImg,") ;background-repeat:no-repeat;background-size: 100%;")),n.isImmersive){var t=this.systemInfo.custom.top;this.pageStyle+="padding-top:".concat(t,"px;")}},loadData:function(){var n=this;c.collection("tian-pages").where("state==1").orderBy("posid asc").get({getTree:{limitLevel:10,startWith:'parent_id=="'.concat(this.configs.parent_id,'"')}}).then((function(t){var i=t.result;n.dataList=n.checkData(i.data)}))},checkData:function(n){var t=this;return n||(n=[]),n.forEach((function(n){t.configs.city&&(n.configs.city=t.configs.city,n.configs.condition&&(n.configs.condition+=' && city_ids=="'.concat(t.configs.city,'"')),n.city=t.configs.city),t.configs.shop_id&&(n.configs.condition&&(n.configs.condition+=' && shop_id=="'.concat(t.configs.shop_id,'"')),n.shop_id=t.configs.shop_id),n.children&&t.checkData(n.children)})),n},openSku:function(n){console.log("openSku",n),this.goods=n,this.$refs.tianSkuPop.open()}}};t.default=r}).call(this,i("a9ff")["default"],i("543d")["default"])},e730:function(n,t,i){"use strict";var e=i("3d7a"),o=i.n(e);o.a},ed0f:function(n,t,i){"use strict";i.r(t);var e=i("0372"),o=i("9e82");for(var a in o)"default"!==a&&function(n){i.d(t,n,(function(){return o[n]}))}(a);i("e730");var c,r=i("f0c5"),s=Object(r["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],c);t["default"]=s.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'uni_modules/tian-mall/components/tian-pages/tian-pages-create-component',
    {
        'uni_modules/tian-mall/components/tian-pages/tian-pages-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("ed0f"))
        })
    },
    [['uni_modules/tian-mall/components/tian-pages/tian-pages-create-component']]
]);
