(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["uni_modules/tian-mall/components/tian-goods-list/tian-goods-list"],{"12b5":function(t,n,e){"use strict";function o(t,n){return l(t)||s(t,n)||i(t,n)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"===typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function s(t,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],o=!0,a=!1,i=void 0;try{for(var r,s=t[Symbol.iterator]();!(o=(r=s.next()).done);o=!0)if(e.push(r.value),n&&e.length===n)break}catch(l){a=!0,i=l}finally{try{o||null==s["return"]||s["return"]()}finally{if(a)throw i}}return e}}function l(t){if(Array.isArray(t))return t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u={data:function(){return{isItemClick:!1,bgStyle:"",goods:{}}},props:{configs:{type:Object,default:function(){return{checkLocation:!0,loadmore:!1,loading:!1,bgClassName:"none",itemClassName:"none",style:"",image_size:"260x260",page_size:20,scrollY:!1}}},condition:{type:String,default:""},withSku:{type:Boolean,default:!0},refresh:{type:Number,default:0},loadmore:{type:Number,default:0}},computed:{where:function(){var t=["is_on_sale==true"];return this.configs&&this.configs.condition&&t.push("(".concat(this.configs.condition,")")),this.condition&&t.push("(".concat(this.condition,")")),t.join(" && ")},orderby:function(){return this.configs&&this.configs.order?this.configs.order:"last_modify_date desc"}},watch:{loadmore:function(){this.scrolltolower()},configs:function(t){console.log("goods list configs",t)}},created:function(){},methods:{bgClick:function(){!this.isItemClick&&this.configs.top_url&&(console.log("bg click"),this.navTo(this.configs.top_url))},loadData:function(t){var n=this;console.log("goods list",this.configs,t),t.forEach((function(t){if(t.style="",t.hasCart=!0,t.hasSaleCount=!1,t.banner_path=n.$thumbImg(t.goods_thumb,n.configs.image_size||"260x260"),"style-big-image"==n.configs.style){if(t.goods_banner&&t.goods_banner.path){var e=t.goods_banner;if(n.configs.image_size){var a=n.configs.image_size.split("x"),i=o(a,1),r=i[0],s=parseInt(e.image.height*r/e.image.width);t.style="width:".concat(r,"rpx;height:").concat(s,"rpx;"),t.banner_path=n.$thumbImg(e.path,"".concat(r,"x").concat(s))}else t.banner_path=e.path,t.style="width:".concat(e.image.width,"rpx;height:").concat(e.image.height,"rpx;")}t.is_real||(t.hasCart=!1,t.hasSaleCount=!0)}else t.name=t.name?t.name.substr(0,30):""})),this.configs.background_img&&(this.bgStyle="background-image:url(".concat(this.configs.background_img,") ; background-repeat: no-repeat;    background-size: 100%;"))},scrolltolower:function(){console.log("goods scrolltolower"),this.configs.loadmore&&this.$refs.udb.loadMore()},loadMoreData:function(){console.log("goods loadmore"),this.$refs.udb.loadMore()},navToDetail:function(t){this.navTo("/pages/product/detail?id="+t._id,t)},openSku:function(t){var n=this;return this.withSku?(this.goods=t,this.$refs.tianSkuPop.open()):this.$emit("click",t),this.isItemClick=!0,setTimeout((function(){n.isItemClick=!1}),2e3),!1}}};n.default=u},"4f00":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return o}));var o={unicloudDb:function(){return Promise.all([e.e("common/vendor"),e.e("node-modules/@dcloudio/uni-cli-shared/components/unicloud-db")]).then(e.bind(null,"960d"))},tianEmpty:function(){return e.e("uni_modules/tian-mall/components/tian-empty/tian-empty").then(e.bind(null,"2789"))},tianGoodsPrice:function(){return e.e("uni_modules/tian-mall/components/tian-goods-price/tian-goods-price").then(e.bind(null,"956e"))},uniLoadMore:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(e.bind(null,"458a"))},tianGoodsSku:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku")]).then(e.bind(null,"5a97"))}},a=function(){var t=this,n=t.$createElement,e=(t._self._c,t.$hasScopedSlotsParams("72d23a8e-1")),o=e?!t.$getScopedSlotsParams("72d23a8e-1","default","loading")&&0==t.$getScopedSlotsParams("72d23a8e-1","default","data").length:null,a=e?t.$getScopedSlotsParams("72d23a8e-1","default","options"):null,i=e?t.$getScopedSlotsParams("72d23a8e-1","default","data"):null,r=e?t.$getScopedSlotsParams("72d23a8e-1","default","options"):null,s=e&&!r.loading?t.$getScopedSlotsParams("72d23a8e-1","default","options"):null,l=e&&!r.loading&&s.loadmore?t.$getScopedSlotsParams("72d23a8e-1","default","loading"):null,u=e&&!r.loading&&s.loadmore&&!l?t.$getScopedSlotsParams("72d23a8e-1","default","hasMore"):null;t._isMounted||(t.e0=function(n,e){var o=arguments[arguments.length-1].currentTarget.dataset,a=o.eventParams||o["event-params"];e=a.item;return n.stopPropagation(),t.navToDetail(e)},t.e1=function(n,e){var o=arguments[arguments.length-1].currentTarget.dataset,a=o.eventParams||o["event-params"];e=a.item;return n.stopPropagation(),t.navToDetail(e)},t.e2=function(n,e){var o=arguments[arguments.length-1].currentTarget.dataset,a=o.eventParams||o["event-params"];e=a.item;return t.openSku(e)}),t.$mp.data=Object.assign({},{$root:{m0:e,m1:o,m2:a,l0:i,m3:r,m4:s,m5:l,m6:u}})},i=[]},8011:function(t,n,e){"use strict";var o=e("efb2"),a=e.n(o);a.a},a209:function(t,n,e){"use strict";e.r(n);var o=e("4f00"),a=e("d5eb");for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("8011");var r,s=e("f0c5"),l=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);n["default"]=l.exports},d5eb:function(t,n,e){"use strict";e.r(n);var o=e("12b5"),a=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n["default"]=a.a},efb2:function(t,n,e){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'uni_modules/tian-mall/components/tian-goods-list/tian-goods-list-create-component',
    {
        'uni_modules/tian-mall/components/tian-goods-list/tian-goods-list-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("a209"))
        })
    },
    [['uni_modules/tian-mall/components/tian-goods-list/tian-goods-list-create-component']]
]);
