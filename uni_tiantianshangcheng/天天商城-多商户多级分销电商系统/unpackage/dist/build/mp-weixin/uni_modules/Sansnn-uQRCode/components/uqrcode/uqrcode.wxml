<view class="uqrcode"><block wx:if="{{options.mode==='view'}}"><view class="uqrcode-view" style="{{'width:'+(options.size+'px')+';'+('height:'+(options.size+'px')+';')+('padding:'+(options.margin+'px')+';')+('background-color:'+(options.backgroundColor)+';')}}"><block wx:for="{{modules.length}}" wx:for-item="row" wx:for-index="rowIndex" wx:key="rowIndex"><view class="uqrcode-view-row"><block wx:for="{{modules.length}}" wx:for-item="col" wx:for-index="colIndex" wx:key="colIndex"><view class="uqrcode-view-col" style="{{'width:'+(colSize+'px')+';'+('height:'+(colSize+'px')+';')+('background-color:'+(modules[rowIndex][colIndex]?options.foregroundColor:options.backgroundColor)+';')}}"></view></block></view></block></view></block><block wx:else><block wx:if="{{options.mode==='canvas'}}"><canvas class="uqrcode-canvas" style="{{'width:'+(options.size+'px')+';'+('height:'+(options.size+'px')+';')}}" id="{{options.canvasId}}" canvas-id="{{options.canvasId}}"></canvas></block></block></view>