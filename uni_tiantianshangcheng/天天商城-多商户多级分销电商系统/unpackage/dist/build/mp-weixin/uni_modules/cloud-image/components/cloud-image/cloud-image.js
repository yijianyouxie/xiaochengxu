(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["uni_modules/cloud-image/components/cloud-image/cloud-image"],{"0ff9":function(t,e,i){"use strict";var n=i("c8bd"),s=i.n(n);s.a},"18f4":function(t,e,i){"use strict";i.r(e);var n=i("b4bd"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},a428:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniIcons:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(i.bind(null,"b0c4"))}},s=function(){var t=this,e=t.$createElement;t._self._c},o=[]},b4bd:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"cloud-image",data:function(){return{val:"",srcList:[]}},props:{name:{type:String,default:"image"},title:{type:String,default:""},tips:{type:[String,Number],default:""},value:[Number,String,Array],suffixIcon:{type:String,default:"plusempty"},imageNumber:{type:Number,default:1},size:{type:String,default:""},iconSize:{type:Number,default:50},isWrap:{type:Boolean,default:!1},isHold:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},watch:{value:function(t){"object"==typeof t&&t?this.srcList=t:this.val=t,this.formItem&&this.formItem.setValue(t)}},computed:{isShowIcon:function(){return!this.disabled&&(!!this.suffixIcon&&(!!this.isHold||(this.imageNumber>1?this.imageNumber-this.srcList.length>0:!this.val)))},imageSizeStyle:function(){if(this.size){var t=this.size.split("x");return 1==t.length&&t.push(t[0]),"width:".concat(t[0],"rpx;height:").concat(t[1],"rpx;")}return""}},created:function(){console.log(typeof this.value),"object"==typeof this.value&&this.value?this.srcList=this.value:this.val=this.value,this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this))},methods:{init:function(){},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},uploadCallback:function(t){1==this.imageNumber?(this.val=t[0],this.$emit("input",this.val)):(this.srcList=this.srcList.concat(t),this.$emit("input",this.srcList))},del:function(t){this.srcList.splice(t,1),this.$emit("input",this.srcList)},previewImage:function(e){t.previewImage({current:e,urls:this.srcList})},upload:function(){var e=this;if(this.disabled)return this.previewImage(0),!1;new Date;function n(t,e,n){return new Promise((function(n,s){i.uploadFile({filePath:t,cloudPath:e,onUploadProgress:function(t){},success:function(t){console.log("cloudUploadFile",t),-1!=t.fileID.indexOf("cloud://")?i.getTempFileURL({fileList:[t.fileID]}).then((function(t){n(t.fileList[0].tempFileURL)})):setTimeout((function(){n(t.fileID)}),200)},fail:function(){s(!1)}})}))}t.chooseImage({count:this.imageNumber-this.srcList.length,success:function(i){console.log(i);var s=[];t.showLoading({title:"图片上传中"}),i.tempFilePaths.map((function(t,o){var u=["jpg"];console.log(i.tempFiles[o]),i.tempFiles[o].name&&i.tempFiles[o].name.indexOf(".")>0?u=i.tempFiles[o].name.split("."):i.tempFiles[o].path&&i.tempFiles[o].path.indexOf(".")>0&&(u=i.tempFiles[o].path.split("."));var a=(Math.random()+"").substr(2)+"."+u[u.length-1],l=e.name+"/"+a,r=n(t,l,o);s.push(r)})),Promise.all(s).then((function(i){console.log(i),t.hideLoading(),e.uploadCallback(i)}))}})}}};e.default=n}).call(this,i("543d")["default"],i("a9ff")["default"])},c8bd:function(t,e,i){},cd68:function(t,e,i){"use strict";i.r(e);var n=i("a428"),s=i("18f4");for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("0ff9");var u,a=i("f0c5"),l=Object(a["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=l.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'uni_modules/cloud-image/components/cloud-image/cloud-image-create-component',
    {
        'uni_modules/cloud-image/components/cloud-image/cloud-image-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("cd68"))
        })
    },
    [['uni_modules/cloud-image/components/cloud-image/cloud-image-create-component']]
]);
