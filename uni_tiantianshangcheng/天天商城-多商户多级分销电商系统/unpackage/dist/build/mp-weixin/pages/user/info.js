(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/info"],{1634:function(n,e,t){"use strict";t.r(e);var i=t("f7de"),o=t.n(i);for(var u in i)"default"!==u&&function(n){t.d(e,n,(function(){return i[n]}))}(u);e["default"]=o.a},"5c0c":function(n,e,t){"use strict";(function(n){t("566f");i(t("66fd"));var e=i(t("dcb0"));function i(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=t,n(e.default)}).call(this,t("543d")["createPage"])},b1eb:function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return u})),t.d(e,"a",(function(){return i}));var i={uniList:function(){return t.e("uni_modules/uni-list/components/uni-list/uni-list").then(t.bind(null,"52ab"))},uniListItem:function(){return t.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(t.bind(null,"908c"))},uniPopup:function(){return t.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(t.bind(null,"36ef"))},uniPopupDialog:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog")]).then(t.bind(null,"a92f"))}},o=function(){var n=this,e=n.$createElement;n._self._c},u=[]},dcb0:function(n,e,t){"use strict";t.r(e);var i=t("b1eb"),o=t("1634");for(var u in o)"default"!==u&&function(n){t.d(e,n,(function(){return o[n]}))}(u);var r,s=t("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},f7de:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t("f8ad");function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){u(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function u(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var r={data:function(){return{isBindWx:!1,info:{}}},onLoad:function(){n.setStorage({key:"avatarField",data:"avatar"}),console.log(this.cashoutTypes)},computed:{userInfo:function(){return this.$store.state.user.userInfo},cashoutTypes:function(){return this.userInfo.cashoutType},enableBank:function(){return this.cashoutTypes&&this.cashoutTypes.filter((function(n){return"bank"==n.value})).length>0},enableAlipay:function(){return this.cashoutTypes&&this.cashoutTypes.filter((function(n){return"alipay"==n.value})).length>0},customer:function(){return this.$store.state.app.customer},mobileStatusText:function(){return this.userInfo.mobile?this.userInfo.mobile:"去绑定"},bankStatusText:function(){return this.userInfo.bankinfo?this.userInfo.bankinfo.title:"去绑定"},alipayStatusText:function(){return this.userInfo.alipayinfo?this.userInfo.alipayinfo.name:"去绑定"},wxStatusText:function(){return this.userInfo.wx_openid&&this.userInfo.wx_openid["app-plus"]?(this.isBindWx=!0,"已绑定"):"去绑定"}},methods:{bindWeixinH5:function(){if(this.isBindWx)return!1;this.customer.wx_auth&&(window.location.href=this.customer.wx_auth)},bindWeixin:function(){var e=this;if(this.isBindWx)return!1;n.login({provider:"weixin",success:function(n){console.log("授权code",n),e.$request("user/info/bind_weixin",o({},n),{loading:!0}).then((function(n){console.log("bind_weixin",n),e.$store.dispatch("user/getUserInfo")}))}})},bind:function(e){var t=this;console.log("bind "+e),n.login({provider:e,success:function(n){console.log("授权code",n),t.$request("user/info/bind",o({provider:e},n),{loading:!0}).then((function(n){console.log("bind "+e,n),t.$store.dispatch("user/getUserInfo")}))},fail:function(n){console.log(n),t.$message("授权失败")}})},changeNickname:function(){this.$refs.nicknamePopup.open()},confirmEditNickname:function(n){this.editData({nickname:n})},changeAvatar:function(){n.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera","album"],crop:{quality:5,width:200,height:200},success:function(e){console.log(e),e.tempFilePaths.length>0&&(n.setStorage({key:"avatar",data:e.tempFilePaths[0]}),n.navigateTo({url:"/pages/user/avatar"}))}})},editData:function(n){var e=this;console.log("editData",n),this.$request("user/info/edit",n,{loading:!0}).then((function(n){e.$store.dispatch("user/getUserInfo")}))}}};e.default=r}).call(this,t("543d")["default"])}},[["5c0c","common/runtime","common/vendor"]]]);