(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0008":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.database(),n={data:function(){return{formData:{title:"",name:"",number:""}}},onLoad:function(){this.userInfo.bankinfo&&(this.formData=this.userInfo.bankinfo)},computed:{userInfo:function(){return this.$store.state.user.userInfo}},methods:{submit:function(){var t=this;this.confirmAction((function(){i.collection("uni-id-users").doc(t.userInfo._id).update({bankinfo:t.formData}).then((function(e){t.$success("\u4fee\u6539\u6210\u529f"),t.navTimeBack(),t.$store.dispatch("user/getUserInfo")}))}),"\u662f\u5426\u786e\u5b9a\u63d0\u4ea4\uff1f")}}};e.default=n}).call(this,i("a9ff")["default"])},"002c":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},onPullDownRefresh:function(){t("log","\u5237\u65b0\u6574\u9875"," at pages/product/visite.vue:19"),uni.stopPullDownRefresh(),this.$refs.tgjl.refresh()},onReachBottom:function(){t("log","\u4e0b\u4e00\u9875"," at pages/product/visite.vue:24"),this.$refs.tgjl.loadMore()},methods:{}};e.default=i}).call(this,i("0de9")["default"])},"00d1":function(t,e,i){"use strict";i.r(e);var n=i("82d8"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"00e1":function(t,e,i){"use strict";i.r(e);var n=i("b27c"),s=i("00d1");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"013b":function(t,e,i){"use strict";(function(t){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=null,r={name:"tian-map-location",data:function(){return{name:"\u5f53\u524d\u4f4d\u7f6e",address:"",timer:!1,latitude:39.909,longitude:116.39742,options:{display:"default",key:"tiantian-location-value",scale:16,width:710,height:440}}},props:{configs:{type:Object,default:function(){return{}}},value:[Number,String,Array,Object],location:{type:Object,default:function(){}}},mounted:function(){a=uni.createMapContext("map")},created:function(){this.configs&&(this.options=Object.assign(this.options,n({},this.configs))),t("log","this.value",this.value," at uni_modules/tian-mall/components/tian-map-location/tian-map-location.vue:60"),this.getLocation()},watch:{value:function(e){t("log","watch value",e," at uni_modules/tian-mall/components/tian-map-location/tian-map-location.vue:66"),e&&this.setValues(e)}},methods:{getLocation:function(){var e=this;uni.getLocation({type:"gcj02",success:function(i){t("log",i," at uni_modules/tian-mall/components/tian-map-location/tian-map-location.vue:77"),e.latitude=i.latitude,e.longitude=i.longitude,e.reverseGeocoder(i)}})},setValues:function(t){this.name=t.name,this.address=t.address,this.latitude=t.latitude,this.longitude=t.longitude},onRegionchange:function(e){var i=this;clearTimeout(this.timer),this.timer=setTimeout((function(){"end"!==e.type&&"regionchange"!==e.type||a.getCenterLocation({success:function(t){i.reverseGeocoder(t)},fail:function(e){t("log",e," at uni_modules/tian-mall/components/tian-map-location/tian-map-location.vue:107")},complete:function(e){t("log",e," at uni_modules/tian-mall/components/tian-map-location/tian-map-location.vue:110")}})}),500)},reverseGeocoder:function(t){var e=this,i=t.latitude,n=t.longitude;this.$request("utils/getLocationAddress",{fromLatlng:[i,n].join(",")}).then((function(t){e.selectAddress({address:t.address,title:t.formatted_addresses.recommend,latitude:t.location.lat,longitude:t.location.lng})})).catch((function(t){})).finally((function(t){}))},selectAddress:function(t){this.address=t.address,this.name=t.title,uni.setStorage({key:this.options.key,data:t}),this.$emit("input",t)}}};e.default=r}).call(this,i("0de9")["default"])},"0253":function(t,e,i){"use strict";i.r(e);var n=i("3290"),s=i("685b");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"02d8":function(t,e,i){"use strict";i.r(e);var n=i("0d14"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"034d":function(t,e,i){"use strict";i.r(e);var n=i("8a04"),s=i("fd66");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"a6a4ad9c",null,!1,n["a"],r);e["default"]=c.exports},"0388":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{source:"",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""}}},onLoad:function(t){t.source&&(this.source=t.source)},onPullDownRefresh:function(){this.$refs.udb.loadData({clear:!0},(function(){uni.stopPullDownRefresh()}))},onReachBottom:function(){this.$refs.udb.loadMore()},methods:{loadData:function(){this.$refs.udb.loadData({clear:!0})},navToEdit:function(t){"settlement"==this.source?(this.getOpenerEventChannel().emit("addData",{address:t}),setTimeout((function(){return uni.navigateBack()}),500)):this.navTo("./edit?id="+t._id,t)},fabClick:function(){this.navTo("./add")}}};e.default=n},"03ab":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","banner-image-container"),class:t._$s(0,"c",[t.options.display]),attrs:{_i:0}},[t._$s(1,"i",0==t.options.mode.indexOf("mode_1"))?i("view",[i("image",{staticClass:t._$s(2,"sc","image"),style:t._$s(2,"s",{height:t.firstImg.height+"rpx",width:t.firstImg.width+"rpx"}),attrs:{src:t._$s(2,"a-src",t.firstImg.url),_i:2}}),t._$s(3,"i","mode_1_1_2"==t.options.mode)?i("view",{staticClass:t._$s(3,"sc","ti-flex"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","flex-2"),attrs:{_i:4}},[i("image",{staticClass:t._$s(5,"sc","image "),style:t._$s(5,"s",{height:t.secondImg.height+"rpx",width:t.secondImg.width+"rpx"}),attrs:{src:t._$s(5,"a-src",t.secondImg.url),_i:5}})]),i("view",{staticClass:t._$s(6,"sc","flex-1"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(7,"f",{forIndex:s,key:n}),staticClass:t._$s("7-"+a,"sc","flex-1"),attrs:{_i:"7-"+a},on:{click:function(i){return t.navToItem(e,n)}}},[i("image",{staticClass:t._$s("8-"+a,"sc"," image"),style:t._$s("8-"+a,"s",{height:e.height+"rpx",width:e.width+"rpx"}),attrs:{src:t._$s("8-"+a,"a-src",e.url),_i:"8-"+a}})])})),0)]):t._$s(9,"e","mode_1_3"==t.options.mode)?i("view",{staticClass:t._$s(9,"sc","ti-flex"),attrs:{_i:9}},[i("view",{staticClass:t._$s(10,"sc","flex-1"),attrs:{_i:10}},[i("image",{staticClass:t._$s(11,"sc","image "),style:t._$s(11,"s",{height:t.secondImg.height+"rpx",width:t.secondImg.width+"rpx"}),attrs:{src:t._$s(11,"a-src",t.secondImg.url),_i:11}})]),t._l(t._$s(12,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(12,"f",{forIndex:s,key:n}),staticClass:t._$s("12-"+a,"sc","flex-1"),attrs:{_i:"12-"+a},on:{click:function(i){return t.navToItem(e,n)}}},[i("image",{staticClass:t._$s("13-"+a,"sc"," image"),style:t._$s("13-"+a,"s",{height:e.height+"rpx",width:e.width+"rpx"}),attrs:{src:t._$s("13-"+a,"a-src",e.url),_i:"13-"+a}})])}))],2):t._e()]):t._$s(14,"e",0==t.options.mode.indexOf("mode_2"))?i("view",[i("view",{staticClass:t._$s(15,"sc","ti-flex"),attrs:{_i:15}},[i("image",{staticClass:t._$s(16,"sc","image flex-1"),style:t._$s(16,"s",{height:t.firstImg.height+"rpx",width:t.firstImg.width+"rpx"}),attrs:{src:t._$s(16,"a-src",t.firstImg.url),_i:16}}),i("image",{staticClass:t._$s(17,"sc","image flex-1"),style:t._$s(17,"s",{height:t.secondImg.height+"rpx",width:t.secondImg.width+"rpx"}),attrs:{src:t._$s(17,"a-src",t.secondImg.url),_i:17}})]),i("view",{staticClass:t._$s(18,"sc","ti-flex"),attrs:{_i:18}},t._l(t._$s(19,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(19,"f",{forIndex:s,key:n}),staticClass:t._$s("19-"+a,"sc","flex-1"),attrs:{_i:"19-"+a},on:{click:function(i){return t.navToItem(e,n)}}},[i("image",{staticClass:t._$s("20-"+a,"sc"," image"),style:t._$s("20-"+a,"s",{height:e.height+"rpx",width:e.width+"rpx"}),attrs:{src:t._$s("20-"+a,"a-src",e.url),_i:"20-"+a}})])})),0)]):t._e()])},a=[]},"03bb":function(t,e,i){"use strict";i.r(e);var n=i("6392"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"03db":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniGridItem",inject:["grid"],props:{index:{type:Number,default:0}},data:function(){return{column:0,showBorder:!0,square:!0,highlight:!0,left:0,top:0,openNum:2,width:0,borderColor:"#e5e5e5"}},created:function(){this.column=this.grid.column,this.showBorder=this.grid.showBorder,this.square=this.grid.square,this.highlight=this.grid.highlight,this.top=0===this.hor?this.grid.hor:this.hor,this.left=0===this.ver?this.grid.ver:this.ver,this.borderColor=this.grid.borderColor,this.grid.children.push(this),this.width=this.grid.width},beforeDestroy:function(){var t=this;this.grid.children.forEach((function(e,i){e===t&&t.grid.children.splice(i,1)}))},methods:{_onClick:function(){this.grid.change({detail:{index:this.index}})}}};e.default=n},"03df":function(t,e,i){"use strict";i.r(e);var n=i("d3b4"),s=i("2262");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"0430":function(t,e){t.exports="/static/play.png"},"04c6":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}}};e.default=n},"0512":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i("26cb");var s=c(i("a963")),a=c(i("681d")),r=i("adf2"),o=c(i("fe4c"));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}t.database();var f={mixins:[s.default,o.default,a.default],data:function(){return{refresh:0,loadmore:0,configs:{component:"",parent_id:"",title:""},goods:{}}},onLoad:function(t){var e=this;if(t.q){var i=decodeURIComponent(t.q);Object.assign(t,l({},(0,r.getQueryString)(i))),delete t.q,n("log","options.query",t," at pages/index/index.vue:52")}this.midButton(),this.loadData(),this.loadVideoAd(),t.secondpage&&setTimeout((function(){var i=[];for(var n in t)"secondpage"!=n&&i.push("".concat(n,"=").concat(t[n]));e.navTo(t.secondpage+"?"+i.join("&"))}),t.time?t.time:2e3)},watch:{pageConfig:function(){n("log","watch pageConfig",this.pageConfig," at pages/index/index.vue:73"),this.configs=this.pageConfig,this.setGlobalShareContent()}},computed:{appConfig:function(){return this.$config.app},pageConfig:function(){return this.$store.state.app.pageConfig&&this.$store.state.app.pageConfig.home?this.$store.state.app.pageConfig.home:{}},adConfig:function(){return this.$store.state&&this.$store.state.app.adConfig&&this.$store.state.app.adConfig.tasks?this.$store.state.app.adConfig.tasks:{}},middleAdpid:function(){return!!(this.$store.state&&this.$store.state.app.adConfig&&this.$store.state.app.adConfig.middle)&&this.$store.state.app.adConfig.middle}},onPullDownRefresh:function(){n("log","\u5237\u65b0\u6574\u9875"," at pages/index/index.vue:103"),uni.stopPullDownRefresh(),this.refresh=Date.now()},onReachBottom:function(){n("log","\u52a0\u8f7d\u4e0b\u4e00\u9875"," at pages/index/index.vue:108"),this.loadmore=Date.now()},onNavigationBarSearchInputClicked:function(t){n("log","onNavigationBarSearchInputClicked"," at pages/index/index.vue:113"),uni.navigateTo({url:"/pages/search/search"})},methods:{loadData:function(){this.configs=this.pageConfig,this.$store.dispatch("mall/getCartTotal")},openSku:function(t){n("log","openSku",t," at pages/index/index.vue:130"),this.goods=t,this.$refs.tianSkuPop.open()},midButton:function(){var t=this;uni.onTabBarMidButtonTap((function(){t.middleAdpid&&plus.ad.showContentPage({adpid:t.middleAdpid},(function(t){}),(function(t){}))}))}}};e.default=f}).call(this,i("a9ff")["default"],i("0de9")["default"])},"0623":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._$s(1,"i",t.loaded||t.list.itemIndex<15)?i("view",{staticClass:t._$s(1,"sc","uni-indexed-list__title-wrapper"),attrs:{_i:1}},[t._$s(2,"i",t.list.items&&t.list.items.length>0)?i("text",{staticClass:t._$s(2,"sc","uni-indexed-list__title"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.list.key)))]):t._e()]):t._e(),t._$s(3,"i",(t.loaded||t.list.itemIndex<15)&&t.list.items&&t.list.items.length>0)?i("view",{staticClass:t._$s(3,"sc","uni-indexed-list__list"),attrs:{_i:3}},t._l(t._$s(4,"f",{forItems:t.list.items}),(function(e,n,s,a){return i("view",{key:t._$s(4,"f",{forIndex:s,key:n}),staticClass:t._$s("4-"+a,"sc","uni-indexed-list__item"),attrs:{_i:"4-"+a}},[i("view",{staticClass:t._$s("5-"+a,"sc","uni-indexed-list__item-container"),attrs:{_i:"5-"+a},on:{click:function(e){return t.onClick(t.idx,n)}}},[i("view",{staticClass:t._$s("6-"+a,"sc","uni-indexed-list__item-border"),class:t._$s("6-"+a,"c",{"uni-indexed-list__item-border--last":n===t.list.items.length-1}),attrs:{_i:"6-"+a}},[t._$s("7-"+a,"i",t.showSelect)?i("view",[i("uni-icons",{attrs:{type:e.checked?"checkbox-filled":"circle",color:e.checked?"#007aff":"#C0C0C0",size:"24",_i:"8-"+a}})],1):t._e(),i("text",{staticClass:t._$s("9-"+a,"sc","uni-indexed-list__item-content"),attrs:{_i:"9-"+a}},[t._v(t._$s("9-"+a,"t0-0",t._s(e.name)))])])])])})),0):t._e()])},a=[]},"0639":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniGoodsNav",props:{options:{type:Array,default:function(){return[{icon:"dianpu",text:"\u5e97\u94fa"},{icon:"biaoxing",text:"\u6536\u85cf"},{icon:"gouwuche",text:"\u8d2d\u7269\u8f66"}]}},buttonGroup:{type:Array,default:function(){return[{text:"\u52a0\u5165\u8d2d\u7269\u8f66",backgroundColor:"#ffa200",color:"#fff"},{text:"\u7acb\u5373\u8d2d\u4e70",backgroundColor:"#ff0000",color:"#fff"}]}},fill:{type:Boolean,default:!1}},watch:{options:{handler:function(e){t("log","options",e," at uni_modules/tian-mall/components/tian-goods-nav/tian-goods-nav.vue:84")},deep:!0}},created:function(){t("log",this.options," at uni_modules/tian-mall/components/tian-goods-nav/tian-goods-nav.vue:90")},methods:{onClick:function(t,e){this.$emit("click",{index:t,content:e})},buttonClick:function(e,i){uni.report&&uni.report(i.text,i.text),t("log","buttonClick",e,i," at uni_modules/tian-mall/components/tian-goods-nav/tian-goods-nav.vue:104"),this.$emit("buttonClick",{index:e,content:i})}}};e.default=i}).call(this,i("0de9")["default"])},"06dd":function(t,e,i){"use strict";i.r(e);var n=i("24fc"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"06de":function(t,e,i){"use strict";i.r(e);var n=i("d400"),s=i("f3bd");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"06f9":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var s=r(i("a34a")),a=r(i("b245"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function c(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){o(a,n,s,r,c,"next",t)}function c(t){o(a,n,s,r,c,"throw",t)}r(void 0)}))}}var u="__package_info__";function l(){return new Promise((function(e,i){(0,a.default)().then(function(){var a=c(s.default.mark((function a(r){var o,c,l,d,f,h,_;return s.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(r.result){s.next=2;break}return s.abrupt("return");case 2:if(o=r.result,c=o.code,l=o.message,d=o.is_silently,f=o.url,o.platform,o.type,!(c>0)){s.next=17;break}return s.next=6,t.getTempFileURL({fileList:[f]});case 6:if(h=s.sent,_=h.fileList,_[0].tempFileURL&&(r.result.url=_[0].tempFileURL),e(r),!d){s.next=13;break}return uni.downloadFile({url:r.result.url,success:function(t){200==t.statusCode&&plus.runtime.install(t.tempFilePath,{force:!1})}}),s.abrupt("return");case 13:uni.setStorageSync(u,r.result),uni.navigateTo({url:"/uni_modules/uni-upgrade-center-app/pages/upgrade-popup?local_storage_key=".concat(u),fail:function(t){n("error","\u66f4\u65b0\u5f39\u6846\u8df3\u8f6c\u5931\u8d25",t," at uni_modules/uni-upgrade-center-app/utils/check-update.js:63"),uni.removeStorageSync(u)}}),s.next=18;break;case 17:c<0&&(n("error",l," at uni_modules/uni-upgrade-center-app/utils/check-update.js:69"),i(r));case 18:case"end":return s.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){n("error",t.message," at uni_modules/uni-upgrade-center-app/utils/check-update.js:74"),i(t)}))}))}}).call(this,i("a9ff")["default"],i("0de9")["default"])},"0800":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view")},a=[]},"0851":function(t,e,i){"use strict";i.r(e);var n=i("476e"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"099e":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default,tianIcons:i("6439").default,cloudImage:i("2cc0").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","padding-lr-60 text-center font-36 padding-top-60"),attrs:{_i:1}},[i("text")]),i("view",{staticClass:t._$s(3,"sc","padding-lr-60 text-center padding-top-20 padding-bottom-60"),attrs:{_i:3}},[i("text")]),i("view",{staticClass:t._$s(5,"sc","padding-22"),attrs:{_i:5}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast",_i:6}},[t._$s(7,"i",0!=t.formData.state&&t.formData.apply_result)?i("view",{staticClass:t._$s(7,"sc","colorRed"),attrs:{_i:7}},[i("text",[t._v(t._$s(8,"t0-0",t._s(t.formData.apply_result)))])]):t._e(),i("uni-forms-item",{attrs:{name:"name",label:"\u5e97\u94fa\u540d\u79f0",_i:9}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u586b\u5199\u5e97\u94fa\u540d\u79f0 \u5982 \u5408\u5ddd\u4e94\u91d1",disabled:t.isDisable,_i:10},model:{value:t._$s(10,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"phone",label:"\u8054\u7cfb\u65b9\u5f0f",_i:11}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u8054\u7cfb\u624b\u673a\u53f7\u7801",disabled:t.isDisable,_i:12},model:{value:t._$s(12,"v-model",t.formData.phone),callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),i("uni-forms-item",{attrs:{name:"src",label:"\u5e97\u94fa\u5730\u5740",labelPosition:"top",_i:13}},[i("view",{staticClass:t._$s(14,"sc","ti-flex"),attrs:{_i:14},on:{click:t.chooseLocation}},[t._$s(15,"i",t.address.name)?i("view",{staticClass:t._$s(15,"sc","flex-1"),attrs:{_i:15}},[i("view",[i("text",[t._v(t._$s(17,"t0-0",t._s(t.address.name)))])]),i("view",{staticClass:t._$s(18,"sc","font-24 colorGray"),attrs:{_i:18}},[i("text",[t._v(t._$s(19,"t0-0",t._s(t.address.address)))])])]):i("text",{staticClass:t._$s(20,"sc","flex-1 colorGray"),attrs:{_i:20}}),t._$s(21,"i",!t.isDisable)?i("tian-icons",{attrs:{type:"zuobiao",size:"20",_i:21}}):t._e()],1)]),i("uni-forms-item",{attrs:{name:"src",label:"\u5e97\u94fa\u5934\u50cf",labelPosition:"top",_i:22}},[i("cloud-image",{attrs:{name:"src",value:t.formData.src,size:"200x200",disabled:t.isDisable,_i:23},model:{value:t._$s(23,"v-model",t.formData.src),callback:function(e){t.$set(t.formData,"src",e)},expression:"formData.src"}})],1),i("uni-forms-item",{attrs:{name:"business_license",label:"\u8425\u4e1a\u6267\u7167",labelPosition:"top",labelWidth:"200",_i:24}},[i("cloud-image",{attrs:{name:"business_license",size:"706x400",disabled:t.isDisable,value:t.formData.business_license,_i:25},model:{value:t._$s(25,"v-model",t.formData.business_license),callback:function(e){t.$set(t.formData,"business_license",e)},expression:"formData.business_license"}})],1),i("uni-forms-item",{attrs:{name:"food_license",label:"\u98df\u54c1\u7ecf\u8425\u8bb8\u53ef",labelPosition:"top",labelWidth:"200",_i:26}},[i("cloud-image",{attrs:{name:"food_license",value:t.formData.food_license,disabled:t.isDisable,size:"706x400",tips:"\u9910\u996e/\u8d85\u5e02\u7c7b\u578b\u5e97\u94fa\u5fc5\u4f20,\u5176\u4ed6\u9009\u586b",_i:27},model:{value:t._$s(27,"v-model",t.formData.food_license),callback:function(e){t.$set(t.formData,"food_license",e)},expression:"formData.food_license"}})],1),i("uni-forms-item",{attrs:{name:"legal_person_license",label:"\u6cd5\u4eba\u8eab\u4efd\u8bc1\u4eba\u50cf\u9762\u7167\u7247",labelPosition:"top",labelWidth:"200",_i:28}},[i("cloud-image",{attrs:{name:"legal_person_license",disabled:t.isDisable,value:t.formData.legal_person_license,size:"706x400",_i:29},model:{value:t._$s(29,"v-model",t.formData.legal_person_license),callback:function(e){t.$set(t.formData,"legal_person_license",e)},expression:"formData.legal_person_license"}})],1),i("uni-forms-item",{attrs:{name:"legal_person_license_back",label:"\u6cd5\u4eba\u8eab\u4efd\u8bc1\u56fd\u5fbd\u9762\u7167\u7247",labelPosition:"top",labelWidth:"200",_i:30}},[i("cloud-image",{attrs:{name:"legal_person_license_back",disabled:t.isDisable,value:t.formData.legal_person_license_back,size:"706x400",_i:31},model:{value:t._$s(31,"v-model",t.formData.legal_person_license_back),callback:function(e){t.$set(t.formData,"legal_person_license_back",e)},expression:"formData.legal_person_license_back"}})],1),i("uni-forms-item",{attrs:{name:"bank_card",label:"\u6536\u6b3e\u94f6\u884c\u5361",labelPosition:"top",labelWidth:"200",_i:32}},[i("cloud-image",{attrs:{name:"bank_card",size:"706x400",disabled:t.isDisable,tips:"\u4f01\u4e1a\u5bf9\u516c\u8d26\u6237\u6216\u8005\u4e2a\u4f53\u6237\u6cd5\u4eba\u94f6\u884c\u5361",_i:33},model:{value:t._$s(33,"v-model",t.formData.bank_card),callback:function(e){t.$set(t.formData,"bank_card",e)},expression:"formData.bank_card"}})],1),i("uni-forms-item",{attrs:{name:"bank_no",label:"\u6536\u6b3e\u94f6\u884c\u5361\u53f7",labelPosition:"top",labelWidth:"200",_i:34}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u6536\u6b3e\u94f6\u884c\u5361\u53f7",disabled:t.isDisable,_i:35},model:{value:t._$s(35,"v-model",t.formData.bank_no),callback:function(e){t.$set(t.formData,"bank_no",e)},expression:"formData.bank_no"}}),i("view",{staticClass:t._$s(36,"sc","colorGray font-24"),attrs:{_i:36}},[i("text")])],1),i("uni-forms-item",{attrs:{name:"bank_deposit",label:"\u94f6\u884c\u5361\u5f00\u6237\u884c",labelPosition:"top",labelWidth:"200",_i:38}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u5f00\u6237\u884c,\u7cbe\u786e\u5230\u652f\u884c",disabled:t.isDisable,_i:39},model:{value:t._$s(39,"v-model",t.formData.bank_deposit),callback:function(e){t.$set(t.formData,"bank_deposit",e)},expression:"formData.bank_deposit"}})],1),i("uni-forms-item",{attrs:{name:"store_face",label:"\u95e8\u5e97\u95e8\u8138\u7167\u7247",labelPosition:"top",labelWidth:"200",_i:40}},[i("cloud-image",{attrs:{name:"store_face",disabled:t.isDisable,size:"706x400",tips:"\u8bf7\u4e0a\u4f20\u771f\u5b9e\u7684\u95e8\u5e97\u95e8\u8138\u7167\u7247,\u5982\u4e0d\u7b26\u5408\u8981\u6c42\u5c06\u65e0\u6cd5\u901a\u8fc7\u8ba4\u8bc1,\u9700\u8981\u91cd\u65b0\u63d0\u4ea4.",_i:41},model:{value:t._$s(41,"v-model",t.formData.store_face),callback:function(e){t.$set(t.formData,"store_face",e)},expression:"formData.store_face"}})],1),i("uni-forms-item",{attrs:{name:"store_imgs",label:"\u95e8\u5e97\u5185\u90e8\u7167\u7247",labelPosition:"top",labelWidth:"200",_i:42}},[i("cloud-image",{attrs:{name:"store_imgs",disabled:t.isDisable,size:"706x400",tips:"\u8bf7\u4e0a\u4f20\u771f\u5b9e\u7684\u95e8\u5e97\u7167\u7247,\u5982\u4e0d\u7b26\u5408\u8981\u6c42\u5c06\u65e0\u6cd5\u901a\u8fc7\u8ba4\u8bc1,\u9700\u8981\u91cd\u65b0\u63d0\u4ea4.",_i:43},model:{value:t._$s(43,"v-model",t.formData.store_imgs),callback:function(e){t.$set(t.formData,"store_imgs",e)},expression:"formData.store_imgs"}})],1),i("uni-forms-item",{attrs:{name:"food_menu",label:"\u83dc\u5355/\u98df\u8c31",labelPosition:"top",labelWidth:"200",_i:44}},[i("cloud-image",{attrs:{name:"food_menu",disabled:t.isDisable,size:"706x400",tips:"\u9910\u996e\u83dc\u5355,\u65b9\u4fbf\u4e00\u952e\u5f00\u901a\u5546\u54c1\u529f\u80fd",imageNumber:10,_i:45},model:{value:t._$s(45,"v-model",t.formData.food_menu),callback:function(e){t.$set(t.formData,"food_menu",e)},expression:"formData.food_menu"}})],1)],1)],1),i("view",{staticClass:t._$s(46,"sc","uni-button-group"),attrs:{_i:46}},[i("button",{staticClass:t._$s(47,"sc","uni-button"),attrs:{disabled:t._$s(47,"a-disabled",t.isDisable),_i:47},on:{click:t.submit}})])])},a=[]},"0a4f":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","markdown-body"),attrs:{_i:1},domProps:{innerHTML:t._s(t._$s(1,"v-html",t.content))}})])},a=[]},"0b4e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm"],model:{prop:"modelValue",event:"update:modelValue"},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:String,placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:15},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!0},passwordIcon:{type:Boolean,default:!0},styles:{type:Object,default:function(){return{color:"#333",disableColor:"#F7F6F6",borderColor:"#e5e5e5"}}},errorMessage:{type:[String,Boolean],default:""}},data:function(){return{focused:!1,errMsg:"",val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1}},computed:{msg:function(){return this.errorMessage||this.errMsg},inputMaxlength:function(){return Number(this.maxlength)}},watch:{value:function(t){this.errMsg&&(this.errMsg=""),this.val=t,this.form&&this.formItem&&!this.is_reset&&(this.is_reset=!1,this.formItem.setValue(t))},modelValue:function(t){this.errMsg&&(this.errMsg=""),this.val=t,this.form&&this.formItem&&!this.is_reset&&(this.is_reset=!1,this.formItem.setValue(t))},focus:function(t){var e=this;this.$nextTick((function(){e.focused=e.focus}))}},created:function(){this.value||(this.val=this.modelValue),this.modelValue||(this.val=this.value),this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.form&&this.formItem&&this.formItem.name&&(this.is_reset||(this.is_reset=!1,this.formItem.setValue(this.val)),this.rename=this.formItem.name,this.form.inputChildrens.push(this))},mounted:function(){var t=this;this.$nextTick((function(){t.focused=t.focus}))},methods:{init:function(){},onClickIcon:function(t){this.$emit("iconClick",t)},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},onEyes:function(){this.showPassword=!this.showPassword},onInput:function(t){var e=t.detail.value;this.trim&&("boolean"===typeof this.trim&&this.trim&&(e=this.trimStr(e)),"string"===typeof this.trim&&(e=this.trimStr(e,this.trim))),this.errMsg&&(this.errMsg=""),this.val=e,this.$emit("input",e),this.$emit("update:modelValue",e)},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){t.detail.value;this.$emit("blur",t)},onConfirm:function(t){this.$emit("confirm",t.detail.value)},onClear:function(t){this.val="",this.$emit("input",""),this.$emit("update:modelValue","")},fieldClick:function(){this.$emit("click")},trimStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return"both"===e?t.trim():"left"===e?t.trimLeft():"right"===e?t.trimRight():"start"===e?t.trimStart():"end"===e?t.trimEnd():"all"===e?t.replace(/\s+/g,""):t}}};e.default=n},"0ba1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{key:"serviceShopInfo",dataList:[]}},computed:{customer:function(){return this.$store.state.app.customer}},methods:{tel:function(){""!=this.customer.telephone&&uni.makePhoneCall({phoneNumber:this.customer.telephone})}}};e.default=n},"0bbf":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view")},a=[]},"0c09":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view")},a=[]},"0cc0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}}};e.default=n},"0d14":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("06f9"));function s(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{name:"\u6c38\u798f\u5e02\u573a",version:"1.0.0"}},computed:{appConfig:function(){return this.$config.app}},onLoad:function(){var t=this;this.name=this.$store.state.app.appName,plus.runtime.getProperty(plus.runtime.appid,(function(e){t.name=e.name,t.version=e.version}))},methods:{checkVersion:function(){t("log","\u5f00\u59cb\u68c0\u67e5\u66f4\u65b0"," at pages/app/about.vue:56"),(0,n.default)().then((function(e){t("log","result",e," at pages/app/about.vue:58")}),(function(t){uni.showToast({icon:"none",title:t.message||"\u6682\u65e0\u65b0\u7248"})}))}}};e.default=a}).call(this,i("0de9")["default"])},"0d1f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},onReachBottom:function(){this.$refs.udb.loadMore()},methods:{loadData:function(t){t.forEach((function(t){t.score=t.score.toFixed(2),t.balance=t.balance.toFixed(2)}))}}};e.default=n},"0de9":function(t,e,i){"use strict";function n(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function s(){return"string"===typeof __channelId__&&__channelId__}function a(t,e){switch(n(e)){case"Function":return"function() { [native code] }";default:return e}}function r(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];console[t].apply(console,i)}function o(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.shift();if(s())return e.push(e.pop().replace("at ","uni-app:///")),console[r].apply(console,e);var o=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,a)+"---END:JSON---"}catch(s){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var i=n(t).toUpperCase();t="NUMBER"===i||"BOOLEAN"===i?"---BEGIN:"+i+"---"+t+"---END:"+i+"---":String(t)}return t})),c="";if(o.length>1){var u=o.pop();c=o.join("---COMMA---"),0===u.indexOf(" at ")?c+=u:c+="---COMMA---"+u}else c=o[0];console[r](c)}i.r(e),i.d(e,"log",(function(){return r})),i.d(e,"default",(function(){return o}))},"0e3c":function(t,e,i){"use strict";i.r(e);var n=i("3270"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"0f3b":function(t,e,i){"use strict";i.r(e);var n=i("4ec5"),s=i("32b0");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"3e1d66e4",null,!1,n["a"],r);e["default"]=c.exports},"0f80":function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{level:"",limit:100,dataList:[]}},onLoad:function(){this.loadData()},methods:{loadData:function(){var t=this,e=this.$store.state.user.userInfo._id;n.collection("uni-id-users").where("score>0").field("avatar,nickname,score").orderBy("score desc,register_date asc").limit(this.limit).get().then((function(n){var s=n.result;i("log",s.data," at pages/user/score/ranking.vue:44"),t.buildMember(s.data),s.data.forEach((function(i,n){i.score=parseInt(i.score),i._id==e&&(t.level="\u7b2c".concat(n+1,"\u540d"))})),t.level||(t.level="\u8d85\u8fc7".concat(t.limit,"\u540d")),t.dataList=s.data}))}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},"113d":function(t,e,i){"use strict";i.r(e);var n=i("47d0"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"11d2":function(t,e,i){"use strict";i.r(e);var n=i("9b17"),s=i("9a4a"),a=i("52fd"),r=i("e0e4"),o=i("68f3");e["default"]={en:n,es:s,fr:a,"zh-Hans":r,"zh-Hant":o}},"11f4":function(t,e,i){"use strict";i.r(e);var n=i("e4f9"),s=i("21b8");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"ab728566",null,!1,n["a"],r);e["default"]=c.exports},1306:function(t,e,i){"use strict";i.r(e);var n=i("a2bc1"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"133a":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniList:i("52ab").default,uniListItem:i("908c").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-list",{attrs:{_i:1}},[i("uni-list-item",{attrs:{title:"\u603b\u4eba\u6570",rightText:t.statistics.total,_i:2}}),i("uni-list-item",{attrs:{title:"\u4eca\u65e5\u65b0\u589e\u4eba\u6570",showArrow:!0,clickable:!0,rightText:t.statistics.todayUser,_i:3}}),i("uni-list-item",{attrs:{title:"\u4eca\u65e5\u65b0\u589e\u79ef\u5206",showArrow:!0,clickable:!0,rightText:t.statistics.todayScore,_i:4}})],1)],1)},a=[]},1438:function(t,e,i){"use strict";i.r(e);var n=i("9e3e"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"144d":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-list uni-border-top-bottom"),attrs:{_i:0}},[t._$s(1,"i",t.border)?i("view",{staticClass:t._$s(1,"sc","uni-list--border-top"),attrs:{_i:1}}):t._e(),t._t("default",null,{_i:2}),t._$s(3,"i",t.border)?i("view",{staticClass:t._$s(3,"sc","uni-list--border-bottom"),attrs:{_i:3}}):t._e()],2)},a=[]},"14b1":function(t,e,i){"use strict";i.r(e);var n=i("44fc"),s=i("2d3f");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"14b3":function(t,e,i){"use strict";i.r(e);var n=i("b6d8"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"14f2":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniDateformat:i("3a22").default,uniLoadMore:i("458a").default,tianIcons:i("6439").default,uniEasyinput:i("549f").default,tianEmpty:i("2789").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","title"),attrs:{_i:1}},[i("text",[t._v(t._$s(2,"t0-0",t._s(t.item.title)))]),i("view",{staticClass:t._$s(3,"sc","sub-title"),attrs:{_i:3}},[t._$s(4,"i",t.isFav)?i("text",{staticClass:t._$s(4,"sc","st-fav"),attrs:{_i:4},on:{click:t.unFav}}):i("text",{staticClass:t._$s(5,"sc","st-fav"),attrs:{_i:5},on:{click:t.fav}}),i("uni-dateformat",{staticClass:t._$s(6,"sc","font-20 margin-left-20"),attrs:{date:t.item.publish_date,format:"yyyy/MM/dd",threshold:[6e4,36e5],_i:6}}),i("text",{staticClass:t._$s(7,"sc","st-item"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.item.view_count)))]),t._$s(8,"i",t.item.source_from)?i("text",{staticClass:t._$s(8,"sc","st-item"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.item.source_from)))]):t._$s(9,"e",t.item.user_id)?i("text",{staticClass:t._$s(9,"sc","st-item"),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s(t.item.user_id)))]):t._e()],1)]),t._$s(10,"i",!t.loaded)?i("uni-load-more",{staticClass:t._$s(10,"sc","margin-top-60"),attrs:{status:"loading",_i:10}}):t._e(),t._$s(11,"i",t.loaded)?[t._$s(12,"i",t.topAdpid)?i("ad",{attrs:{adpid:t._$s(12,"a-adpid",t.topAdpid),"unit-id":t._$s(12,"a-unit-id",t.topAdpid),_i:12},on:{load:t.adLoad,error:t.adError,close:t.adClose}}):t._e(),i("view",{staticClass:t._$s(13,"sc","content"),attrs:{_i:13}},[i("rich-text",{attrs:{nodes:t._$s(14,"a-nodes",t.item.content),_i:14}})]),t._$s(15,"i",t.bottomAdpid)?i("ad",{attrs:{adpid:t._$s(15,"a-adpid",t.bottomAdpid),"unit-id":t._$s(15,"a-unit-id",t.bottomAdpid),_i:15},on:{load:t.adLoad,error:t.adError,close:t.adClose}}):t._e()]:t._e(),t._$s(16,"i",t.canGetDoubleScore)?i("view",{staticClass:t._$s(16,"sc","text-center padding-40"),attrs:{_i:16},on:{click:function(e){return t.getDoubleScore(t.item.task,"article")}}},[i("tian-icons",{attrs:{type:"chakanshipin",size:"40",color:"#eb4e38",_i:17}},[i("text",{staticClass:t._$s(18,"sc","font-36"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.item.task.name)))])])],1):t._e(),t._$s(19,"i",t.item.comment_status)?[i("view",{staticClass:t._$s(20,"sc","ti-flex padding-22"),attrs:{_i:20}},[i("image",{staticClass:t._$s(21,"sc","image-width-60 bg-white border-radius padding-2"),attrs:{src:t._$s(21,"a-src",t.userInfo.avatar),_i:21}}),i("uni-easyinput",{staticClass:t._$s(22,"sc","margin-left-16 flex-1"),attrs:{placeholder:"\u5199\u4e0b\u60a8\u7684\u8bc4\u8bba...",_i:22},scopedSlots:t._u([{key:"right",fn:function(e,n,s){return[i("button",{staticClass:n._$s("24-"+s,"sc","cuboid"),attrs:{type:"primary",_i:"24-"+s},on:{click:function(e){return t.submitComment()}}},[t._v("\u8bc4\u8bba")])]}}],null,!1,1975530019),model:{value:t._$s(22,"v-model",t.content),callback:function(e){t.content=e},expression:"content"}})],1),i("view",[t._l(t._$s(26,"f",{forItems:t.commentList}),(function(e,n,s,a){return i("view",{key:t._$s(26,"f",{forIndex:s,key:n}),staticClass:t._$s("26-"+a,"sc","comments bg-white border-radius padding-22 "),attrs:{_i:"26-"+a}},[i("image",{staticClass:t._$s("27-"+a,"sc","image-width-60 bg-white border-radius padding-2"),attrs:{src:t._$s("27-"+a,"a-src",e.user.avatar),_i:"27-"+a}}),i("view",{staticClass:t._$s("28-"+a,"sc","margin-left-18 flex-1"),attrs:{_i:"28-"+a}},[i("view",[i("text",[t._v(t._$s("30-"+a,"t0-0",t._s(e.user.nickname)))]),i("uni-dateformat",{staticClass:t._$s("31-"+a,"sc","font-20 margin-left-20 colorGray"),attrs:{date:e.comment_date,format:"yyyy/MM/dd",threshold:[6e4,36e5],_i:"31-"+a}})],1),i("view",{staticClass:t._$s("32-"+a,"sc","font-24"),attrs:{_i:"32-"+a}},[i("text",[t._v(t._$s("33-"+a,"t0-0",t._s(e.comment_content)))])])])])})),t._$s(34,"i",0==t.commentList.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u8bc4\u8bba",marginTop:"200",mode:"liuyan",paddingBottom:"200",_i:34}}):i("uni-load-more",{attrs:{status:t.loadingType,_i:35}})],2)]:t._e()],2)},a=[]},1503:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianGoodsJoinList:i("99f2").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("tian-goods-join-list",{ref:"tgjl",attrs:{condition:"user_id==$cloudEnv_uid",collection:"opendb-mall-goods-visite",field:"_id as visite_id,dateToString(timestampToDate(update_date),'%Y-%m-%d') as updated_date",configs:{withDel:!1,style:"style-padding"},withGroupTime:!0,_i:1}})],1)},a=[]},1511:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("f8ad");function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a={data:function(){return{imageSrc:"",isShowImg:!1,SCREEN_WIDTH:0,SCREEN_HEIGHT:0,cropperInitW:0,cropperInitH:0,cropperW:0,cropperH:0,cropperL:0,cropperT:0,transL:0,transT:0,scaleP:0,imageW:0,imageH:0,cutL:0,cutT:0,cutB:0,cutR:"100%",qualityWidth:0,innerAspectRadio:1,ratio:1,pageinfo:{PAGE_X:0,PAGE_Y:0,PR:0,T_PAGE_X:0,T_PAGE_Y:0,CUT_L:0,CUT_T:0,CUT_R:0,CUT_B:0,CUT_W:0,CUT_H:0,IMG_RATIO:0,IMG_REAL_W:0,IMG_REAL_H:0,DRAFG_MOVE_RATIO:1,INIT_DRAG_POSITION:100,DRAW_IMAGE_W:0}}},onLoad:function(t){var e=this.systemInfo;this.qualityWidth=this.pageinfo.DRAW_IMAGE_W=this.cutB=this.cropperW=this.cropperInitW=this.SCREEN_WIDTH=e.screenWidth,this.cropperH=this.cropperInitH=this.SCREEN_HEIGHT=e.safeArea.height-e.navigationBarHeight,this.pageinfo.PR=e.pixelRatio},onReady:function(){var e=this;uni.getStorage({key:"avatar",success:function(i){t("log",i," at pages/user/avatar.vue:129"),e.imageSrc=i.data,e.loadImage()}})},methods:{setData:function(t){var e=this;Object.keys(t).forEach((function(i){e.$set(e.$data,i,t[i])}))},loadImage:function(){var e=this,i=this;uni.showLoading({title:"\u56fe\u7247\u52a0\u8f7d\u4e2d..."}),uni.getImageInfo({src:i.imageSrc,success:function(n){e.pageinfo.IMG_RATIO=n.width/n.height,e.pageinfo.IMG_RATIO>=1?(e.pageinfo.IMG_REAL_W=e.SCREEN_WIDTH,e.pageinfo.IMG_REAL_H=e.SCREEN_WIDTH/e.pageinfo.IMG_RATIO):e.SCREEN_WIDTH/e.SCREEN_HEIGHT<e.pageinfo.IMG_RATIO?(t("log","SCREEN_WIDTH/this.SCREEN_HEIGHT,this.pageinfo.IMG_RATIO",e.SCREEN_WIDTH/e.SCREEN_HEIGHT,e.pageinfo.IMG_RATIO," at pages/user/avatar.vue:156"),e.pageinfo.IMG_REAL_W=e.SCREEN_WIDTH,e.pageinfo.IMG_REAL_H=e.SCREEN_WIDTH/e.pageinfo.IMG_RATIO):(e.pageinfo.IMG_REAL_H=e.SCREEN_HEIGHT,e.pageinfo.IMG_REAL_W=e.SCREEN_HEIGHT*e.pageinfo.IMG_RATIO);var s=e.pageinfo.IMG_REAL_W<e.pageinfo.IMG_REAL_H?e.pageinfo.IMG_REAL_W:e.pageinfo.IMG_REAL_H;if(e.pageinfo.INIT_DRAG_POSITION=s>e.pageinfo.INIT_DRAG_POSITION?e.pageinfo.INIT_DRAG_POSITION:s,t("log","\u5b9e\u9645\u5bbd\u9ad8",n.width,n.height," at pages/user/avatar.vue:172"),t("log","\u663e\u793a\u5bbd\u9ad8",e.pageinfo.IMG_REAL_W,e.pageinfo.IMG_REAL_H," at pages/user/avatar.vue:173"),e.pageinfo.IMG_RATIO>=1){var a=0,r=a,o=(e.pageinfo.IMG_REAL_W-e.pageinfo.IMG_REAL_H)/2,c=o;i.setData({cropperW:e.SCREEN_WIDTH,cropperH:e.SCREEN_WIDTH/e.pageinfo.IMG_RATIO,cropperL:0,cropperT:(e.SCREEN_HEIGHT-e.pageinfo.IMG_REAL_H)/2,cutL:o,cutT:a,cutR:c,cutB:r,imageW:e.pageinfo.IMG_REAL_W,imageH:e.pageinfo.IMG_REAL_H,scaleP:e.pageinfo.IMG_REAL_W/e.SCREEN_WIDTH,qualityWidth:e.pageinfo.DRAW_IMAGE_W,innerAspectRadio:e.pageinfo.IMG_RATIO})}else{var u=0,l=u,d=(e.pageinfo.IMG_REAL_H-e.pageinfo.IMG_REAL_W)/2,f=d;t("log",d," at pages/user/avatar.vue:202"),i.setData({cropperW:e.pageinfo.IMG_REAL_W,cropperH:e.pageinfo.IMG_REAL_H,cropperL:(e.SCREEN_WIDTH-e.pageinfo.IMG_REAL_W)/2,cropperT:(e.SCREEN_HEIGHT-e.pageinfo.IMG_REAL_H)/2,cutL:u,cutT:d,cutR:l,cutB:f,imageW:e.pageinfo.IMG_REAL_W,imageH:e.pageinfo.IMG_REAL_H,scaleP:e.pageinfo.IMG_REAL_W/e.SCREEN_WIDTH,qualityWidth:e.pageinfo.DRAW_IMAGE_W,innerAspectRadio:e.pageinfo.IMG_RATIO})}i.setData({isShowImg:!0}),uni.hideLoading()}})},contentStartMove:function(t){this.pageinfo.PAGE_X=t.touches[0].pageX,this.pageinfo.PAGE_Y=t.touches[0].pageY},contentMoveing:function(t){var e=(this.pageinfo.PAGE_X-t.touches[0].pageX)*this.pageinfo.DRAFG_MOVE_RATIO,i=(this.pageinfo.PAGE_Y-t.touches[0].pageY)*this.pageinfo.DRAFG_MOVE_RATIO;e>0?this.cutL-e<0&&(e=this.cutL):this.cutR+e<0&&(e=-this.cutR),i>0?this.cutT-i<0&&(i=this.cutT):this.cutB+i<0&&(i=-this.cutB),this.setData({cutL:this.cutL-e,cutT:this.cutT-i,cutR:this.cutR+e,cutB:this.cutB+i}),this.pageinfo.PAGE_X=t.touches[0].pageX,this.pageinfo.PAGE_Y=t.touches[0].pageY},contentTouchEnd:function(){},getImageInfo:function(){var e=this,i=this;if(uni.showLoading({title:"\u56fe\u7247\u751f\u6210\u4e2d",mask:!0}),!this.isSubmit){this.isSubmit=!0;var a=uni.createCanvasContext("myCanvas");a.drawImage(i.imageSrc,0,0,this.pageinfo.IMG_REAL_W,this.pageinfo.IMG_REAL_H),a.draw(!0,(function(){var a=(i.cropperW-i.cutL-i.cutR)/i.cropperW*e.pageinfo.IMG_REAL_W,r=(i.cropperH-i.cutT-i.cutB)/i.cropperH*e.pageinfo.IMG_REAL_H,o=i.cutL/i.cropperW*e.pageinfo.IMG_REAL_W,c=i.cutT/i.cropperH*e.pageinfo.IMG_REAL_H;uni.canvasToTempFilePath({x:o,y:c,width:a,height:r,destWidth:a,destHeight:r,quality:.8,fileType:"jpg",canvasId:"myCanvas",success:function(i){var a=new Date,r=uni.getStorageSync("avatarField");r||(r="user");var o=[r,"images",a.getFullYear(),a.getMonth()+1,a.getDate(),a.getTime()+".jpg"],c=o.join("/");uni.showLoading({title:"\u56fe\u7247\u4e0a\u4f20\u4e2d"}),(0,n.cloudUploadFile)(i.tempFilePath,c).then((function(i){t("log","url",i," at pages/user/avatar.vue:312");try{e.$prePage().editData(s({},r,i))}catch(n){t("log","getOpenerEventChannel fail",n," at pages/user/avatar.vue:322")}e.$success("\u4e0a\u4f20\u6210\u529f"),setTimeout((function(){uni.navigateBack({delta:1})}),1500)}),(function(t){e.isSubmit=!1,uni.showModal({title:"\u4e0a\u4f20\u5931\u8d25",showCancel:!1})}))}})}))}},dragStart:function(t){this.pageinfo.T_PAGE_X=t.touches[0].pageX,this.pageinfo.T_PAGE_Y=t.touches[0].pageY,this.pageinfo.CUT_L=this.cutL,this.pageinfo.CUT_R=this.cutR,this.pageinfo.CUT_B=this.cutB,this.pageinfo.CUT_T=this.cutT},dragMove:function(t){var e=t.target.dataset.drag;switch(e){case"right":var i=(this.pageinfo.T_PAGE_X-t.touches[0].pageX)*this.pageinfo.DRAFG_MOVE_RATIO;this.pageinfo.CUT_R+i<0&&(i=-this.pageinfo.CUT_R),this.pageinfo.CUT_B+i<0&&(i=-this.pageinfo.CUT_B),this.setData({cutR:this.pageinfo.CUT_R+i,cutB:this.pageinfo.CUT_B+i});break;case"left":i=(this.pageinfo.T_PAGE_X-t.touches[0].pageX)*this.pageinfo.DRAFG_MOVE_RATIO;this.pageinfo.CUT_L-i<0&&(i=this.pageinfo.CUT_L),this.pageinfo.CUT_L-i>this.cropperW-this.cutR&&(i=this.pageinfo.CUT_L-(this.cropperW-this.cutR)),this.pageinfo.CUT_B-i<0&&(i=this.pageinfo.CUT_B),this.setData({cutL:this.pageinfo.CUT_L-i,cutB:this.pageinfo.CUT_B-i});break;case"top":i=(this.pageinfo.T_PAGE_Y-t.touches[0].pageY)*this.pageinfo.DRAFG_MOVE_RATIO;this.pageinfo.CUT_T-i<0&&(i=this.pageinfo.CUT_T),this.pageinfo.CUT_T-i>this.cropperH-this.cutB&&(i=this.pageinfo.CUT_T-(this.cropperH-this.cutB)),this.pageinfo.CUT_R-i<0&&(i=this.pageinfo.CUT_R),this.setData({cutT:this.pageinfo.CUT_T-i,cutR:this.pageinfo.CUT_R-i});break;case"bottom":i=(this.pageinfo.T_PAGE_Y-t.touches[0].pageY)*this.pageinfo.DRAFG_MOVE_RATIO;this.pageinfo.CUT_B+i<0&&(i=-this.pageinfo.CUT_B),this.pageinfo.CUT_L+i<0&&(i=-this.pageinfo.CUT_L),this.setData({cutB:this.pageinfo.CUT_B+i,cutL:this.pageinfo.CUT_L+i});break;case"rightBottom":break;default:break}}}};e.default=a}).call(this,i("0de9")["default"])},"15b7":function(t,e,i){"use strict";i.r(e);var n=i("b7e8"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"18a1":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function o(t){r(a,n,s,o,c,"next",t)}function c(t){r(a,n,s,o,c,"throw",t)}o(void 0)}))}}var c=t.database(),u={data:function(){return{localCity:{},limit:500,save:!1,codeList:{},dataList:[],hotLetter:"\u70ed\u95e8",zhixiashi:{"\u5317\u4eac\u5e02":"110000","\u5929\u6d25\u5e02":"120000","\u91cd\u5e86\u5e02":"500000","\u4e0a\u6d77\u5e02":"310000"}}},onLoad:function(t){t.save&&(this.save=t.save),this.loadData()},computed:{isLogin:function(){return this.$store.getters["user/isTokenValid"]}},methods:{loadData:function(){var t=this;c.collection("opendb-city-china").where("(type==1) || (type==2 && is_recommend==true)").field("code,name,first_letter,is_recommend").orderBy("first_letter asc,name asc").limit(this.limit).get().then((function(e){var i=e.result;n("log",i," at pages/app/cities.vue:47");var s="",a=[],r=["\u7701\u76f4\u8f96\u53bf\u7ea7\u884c\u653f\u533a\u5212","\u81ea\u6cbb\u533a\u76f4\u8f96\u53bf\u7ea7\u884c\u653f\u533a\u5212","\u53bf"],o=[];i.data.map((function(e){e.first_letter!=s&&(s&&t.dataList.push({letter:s,data:a}),s=e.first_letter,a=[]),-1==r.indexOf(e.name)&&(a.push(e.name),e.is_recommend&&o.push(e.name),t.zhixiashi[e.name]?t.codeList[e.name]=t.zhixiashi[e.name]:t.codeList[e.name]=e.code)})),o.length>0&&t.dataList.unshift({letter:t.hotLetter,data:o}),t.dataList.push({letter:s,data:a}),t.getLocation()}))},getLocation:function(){var t=this;uni.getLocation({success:function(e){n("log","getLocation",e," at pages/app/cities.vue:98"),t.$request("utils/getLocationAddress",{fromLatlng:[e.latitude,e.longitude].join()}).then((function(e){if(n("log","data",e," at pages/app/cities.vue:103"),e.ad_info){t.codeList[e.ad_info.district]?t.localCity={name:e.ad_info.district+"\uff08\u5f53\u524d\u5b9a\u4f4d\uff09",realName:e.ad_info.district,code:t.codeList[e.ad_info.district]}:t.zhixiashi[e.ad_info.province]?t.localCity={name:e.ad_info.province+"\uff08\u5f53\u524d\u5b9a\u4f4d\u57ce\u5e02\uff09",realName:e.ad_info.province,code:t.zhixiashi[e.ad_info.province]}:t.localCity={name:e.ad_info.city+"\uff08\u5f53\u524d\u5b9a\u4f4d\u57ce\u5e02\uff09",realName:e.ad_info.city,code:t.codeList[e.ad_info.city]},n("log","this.localCity",t.localCity," at pages/app/cities.vue:127");var i=t.dataList[0].letter==t.hotLetter;if(t.codeList[t.localCity.name]=t.localCity.code,i){var s=t.dataList[0].data.findIndex((function(e){return 0==t.localCity.name.indexOf(e)}));-1!=s&&t.dataList[0].data.splice(s,1),t.dataList[0].data.unshift(t.localCity.name)}else t.dataList.unshift({letter:t.hotLetter,data:[t.localCity.name]})}}))}})},chooseCity:function(t){var e=this;return o(s.default.mark((function i(){var a;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n("log","chooseCity",t,e.codeList[t.item.name]," at pages/app/cities.vue:153"),a={code:e.codeList[t.item.name],name:t.item.name},e.localCity&&e.localCity.code==a.code&&(a.name=e.localCity.realName),uni.setStorage({key:"user_select_city",data:a}),!e.save||!e.isLogin){i.next=8;break}return i.next=7,c.collection("uni-id-users").where("_id==$cloudEnv_uid").update({select_city:a});case 7:e.$store.dispatch("user/getUserInfo");case 8:e.$success("\u8bbe\u7f6e\u6210\u529f"),e.navTimeBack(!0,1500,(function(){e.$store.dispatch("app/init",{city:a})}));case 10:case"end":return i.stop()}}),i)})))()}}};e.default=u}).call(this,i("a9ff")["default"],i("0de9")["default"])},"18a3":function(t,e,i){"use strict";i.r(e);var n=i("895c"),s=i("1a7c");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"1a45":function(t,e,i){"use strict";i.r(e);var n=i("69c4"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"1a7c":function(t,e,i){"use strict";i.r(e);var n=i("9f56"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"1aaa":function(t,e,i){"use strict";function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{timerId:null,amount:1,item:{}}},props:{value:{type:Object,default:function(){return{price:0,market_price:0,member:{}}}},hasCart:{type:Boolean,default:!0},hasAmount:{type:Boolean,default:!1},hasSaleCount:{type:Boolean,default:!1},readAmount:{type:Boolean,default:!1},size:{type:String,default:""}},watch:{value:function(t){this.buildPrice(t)}},computed:{scoreName:function(){return this.$store.state.app.customer.scoreName}},created:function(){this.buildPrice(this.value)},methods:{buildPrice:function(t){this.item=s({},t),this.amount=+this.item.amount,t.is_vip&&t.member&&t.member.rate&&(this.item.member=s({},t.member),this.item.member.price=parseInt(t.price*parseInt(100*t.member.rate)/100))},openSku:function(){this.$emit("click")},changeAmount:function(){var t=this;clearTimeout(this.timerId),this.timerId=setTimeout((function(){t.$emit("change",{_id:t.item._id,amount:t.amount})}),500)}}};e.default=r},"1bae":function(t,e,i){"use strict";i.r(e);var n=i("abe9"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"1bdd":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniLoadMore:i("458a").default,uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-data-tree"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-data-tree-input"),attrs:{_i:1},on:{click:t.handleInput}},[t._t("default",[i("view",{staticClass:t._$s(3,"sc","input-value"),class:t._$s(3,"c",{"input-value-border":t.border}),attrs:{_i:3}},[t._$s(4,"i",t.errorMessage)?i("text",{staticClass:t._$s(4,"sc","selected-area error-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.errorMessage)))]):t._$s(5,"e",t.loading&&!t.isOpened)?i("view",{staticClass:t._$s(5,"sc","selected-area"),attrs:{_i:5}},[i("uni-load-more",{staticClass:t._$s(6,"sc","load-more"),attrs:{contentText:t.loadMore,status:"loading",_i:6}})],1):t._$s(7,"e",t.inputSelected.length)?i("scroll-view",{staticClass:t._$s(7,"sc","selected-area"),attrs:{_i:7}},[i("view",{staticClass:t._$s(8,"sc","selected-list"),attrs:{_i:8}},t._l(t._$s(9,"f",{forItems:t.inputSelected}),(function(e,n,s,a){return i("view",{key:t._$s(9,"f",{forIndex:s,key:n}),staticClass:t._$s("9-"+a,"sc","selected-item"),attrs:{_i:"9-"+a}},[i("text",[t._v(t._$s("10-"+a,"t0-0",t._s(e.text)))]),t._$s("11-"+a,"i",n<t.inputSelected.length-1)?i("text",{staticClass:t._$s("11-"+a,"sc","input-split-line"),attrs:{_i:"11-"+a}},[t._v(t._$s("11-"+a,"t0-0",t._s(t.split)))]):t._e()])})),0)]):i("text",{staticClass:t._$s(12,"sc","selected-area placeholder"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.placeholder)))]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(13,"v-show",t.clearIcon&&!t.readonly&&t.inputSelected.length),expression:"_$s(13,'v-show',clearIcon && !readonly && inputSelected.length)"}],staticClass:t._$s(13,"sc","icon-clear"),attrs:{_i:13},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}},[i("uni-icons",{attrs:{type:"clear",color:"#e1e1e1",size:"14",_i:14}})],1),t._$s(15,"i",(!t.clearIcon||!t.inputSelected.length)&&!t.readonly)?i("view",{staticClass:t._$s(15,"sc","arrow-area"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","input-arrow"),attrs:{_i:16}})]):t._e()])],{options:t.options,data:t.inputSelected,error:t.errorMessage,_i:2})],2),t._$s(17,"i",t.isOpened)?i("view",{staticClass:t._$s(17,"sc","uni-data-tree-cover"),attrs:{_i:17},on:{click:t.handleClose}}):t._e(),t._$s(18,"i",t.isOpened)?i("view",{staticClass:t._$s(18,"sc","uni-data-tree-dialog"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","uni-popper__arrow"),attrs:{_i:19}}),i("view",{staticClass:t._$s(20,"sc","dialog-caption"),attrs:{_i:20}},[i("view",{staticClass:t._$s(21,"sc","title-area"),attrs:{_i:21}},[i("text",{staticClass:t._$s(22,"sc","dialog-title"),attrs:{_i:22}},[t._v(t._$s(22,"t0-0",t._s(t.popupTitle)))])]),i("view",{staticClass:t._$s(23,"sc","dialog-close"),attrs:{_i:23},on:{click:t.handleClose}},[i("view",{staticClass:t._$s(24,"sc","dialog-close-plus"),attrs:{_i:24}}),i("view",{staticClass:t._$s(25,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:25}})])]),i("data-picker-view",{ref:"pickerView",staticClass:t._$s(26,"sc","picker-view"),attrs:{localdata:t.localdata,preload:t.preload,collection:t.collection,field:t.field,orderby:t.orderby,where:t.where,"step-searh":t.stepSearh,"self-field":t.selfField,"parent-field":t.parentField,"managed-mode":!0,map:t.map,ellipsis:t.ellipsis,_i:26},on:{change:t.onchange,datachange:t.ondatachange,nodeclick:t.onnodeclick},model:{value:t._$s(26,"v-model",t.dataValue),callback:function(e){t.dataValue=e},expression:"dataValue"}})],1):t._e()])},a=[]},"1c28":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"tian-user",data:function(){return{item:{}}},props:{value:{type:Object,default:function(){return{}}},size:{type:Number,default:"80"}},watch:{value:function(t){this.item=t}},created:function(){this.item=this.value},methods:{tel:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=n},"1c3c":function(t,e,i){"use strict";i.r(e);var n=i("6e2e"),s=i("32ae");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"1c53":function(t,e,i){"use strict";i.r(e);var n=i("23fc"),s=i("fcf7");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"1d30":function(t,e,i){"use strict";i.r(e);var n=i("5acc"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"1f19":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianSearchBar:i("6c81").default,tianGoodsSku:i("5a97").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","flex-column container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","search under-line padding-bottom-12"),style:t._$s(1,"s",t.searchStyle),attrs:{id:"search",_i:1}},[i("tian-search-bar",{attrs:{placeholder:"\u641c\u7d22\u5546\u54c1",bg_color:"#f5f5f5",disabled:!0,_i:2},on:{click:function(e){return t.navTo("/pages/search/search")}}})],1),i("view",{staticClass:t._$s(3,"sc","main-category-panel-all padding-top-12"),attrs:{_i:3}},[i("view",[i("scroll-view",{staticClass:t._$s(5,"sc","scroll-view_W"),attrs:{_i:5}},t._l(t._$s(6,"f",{forItems:t.categories}),(function(e,n,s,a){return i("view",{key:t._$s(6,"f",{forIndex:s,key:n}),staticClass:t._$s("6-"+a,"sc","item"),class:t._$s("6-"+a,"c",[e.className]),attrs:{id:t._$s("6-"+a,"a-id","sub_"+e._id),_i:"6-"+a},on:{click:function(i){return t.changeMainCategory(e)}}},[i("view",{staticClass:t._$s("7-"+a,"sc","font-26 text"),attrs:{_i:"7-"+a}},[i("text",[t._v(t._$s("8-"+a,"t0-0",t._s(e.name)))])])])})),0)]),i("view",{staticClass:t._$s(9,"sc","flex-1 content"),class:t._$s(9,"c",["main-index"+t.mainCategory.index]),attrs:{_i:9}},[i("view",{staticClass:t._$s(10,"sc","padding-left-32"),attrs:{_i:10}},[i("image",{staticClass:t._$s(11,"sc","cate-ad"),attrs:{src:t._$s(11,"a-src",t.mainCategory.ad_banner),_i:11},on:{click:t.adClick}})]),i("view",{staticClass:t._$s(12,"sc","sub-category"),attrs:{_i:12}},[i("scroll-view",{staticClass:t._$s(13,"sc","scroll-view_H"),attrs:{_i:13}},t._l(t._$s(14,"f",{forItems:t.subCategories}),(function(e,n,s,a){return i("view",{key:t._$s(14,"f",{forIndex:s,key:n}),staticClass:t._$s("14-"+a,"sc","scroll-view-item_H item"),attrs:{_i:"14-"+a}},[i("text",[t._v(t._$s("15-"+a,"t0-0",t._s(e.name)))])])})),0)]),i("scroll-view",{staticClass:t._$s(16,"sc","scroll-h3 padding-left-20"),attrs:{_i:16},on:{scroll:t.subCategoryScroll}},[i("view",{staticClass:t._$s(17,"sc","third-category"),attrs:{_i:17}},t._l(t._$s(18,"f",{forItems:t.subCategories}),(function(e,n,s,a){return i("view",{key:t._$s(18,"f",{forIndex:s,key:n}),staticClass:t._$s("18-"+a,"sc","item"),attrs:{_i:"18-"+a}},[i("view",{staticClass:t._$s("19-"+a,"sc","title"),attrs:{_i:"19-"+a}},[i("text",[t._v(t._$s("20-"+a,"t0-0",t._s(e.name)))])]),i("view",{staticClass:t._$s("21-"+a,"sc","sub-items"),attrs:{_i:"21-"+a}},t._l(t._$s("22-"+a,"f",{forItems:e.children}),(function(e,n,s,r){return i("view",{key:t._$s("22-"+a,"f",{forIndex:s,key:n}),staticClass:t._$s("22-"+a+"-"+r,"sc","sub-item"),attrs:{_i:"22-"+a+"-"+r},on:{click:function(i){return t.loadList(e.name)}}},[i("image",{staticClass:t._$s("23-"+a+"-"+r,"sc","image"),attrs:{src:t._$s("23-"+a+"-"+r,"a-src",e.icon),_i:"23-"+a+"-"+r}}),i("text",[t._v(t._$s("24-"+a+"-"+r,"t0-0",t._s(e.name)))])])})),0)])})),0)])])]),i("tian-goods-sku",{ref:"tianSkuPop",attrs:{value:t.goods,_i:25}})],1)},a=[]},"1f71":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}}};e.default=n},2006:function(t,e,i){"use strict";i.r(e);var n=i("c588"),s=i("21ff");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"208c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,s=i("37dc"),a=r(i("b5a8"));function r(t){return t&&t.__esModule?t:{default:t}}setTimeout((function(){n=uni.getSystemInfoSync().platform}),16);var o=(0,s.initVueI18n)(a.default),c=o.t,u={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!0}},data:function(){return{webviewHide:!1,platform:n,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth:function(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText:function(){return this.contentText.contentdown||c("uni-load-more.contentdown")},contentrefreshText:function(){return this.contentText.contentrefresh||c("uni-load-more.contentrefresh")},contentnomoreText:function(){return this.contentText.contentnomore||c("uni-load-more.contentnomore")}},mounted:function(){var t=this,e=getCurrentPages(),i=e[e.length-1],n=i.$getAppWebview();n.addEventListener("hide",(function(){t.webviewHide=!0})),n.addEventListener("show",(function(){t.webviewHide=!1}))},methods:{onClick:function(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};e.default=u},"20da":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniGrid:i("f48b").default,uniGridItem:i("61c7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","gride-container"),class:t._$s(0,"c",[t.options.display]),attrs:{_i:0}},[i("uni-grid",{attrs:{column:t.options.column,showBorder:!1,square:!1,_i:1}},t._l(t._$s(2,"f",{forItems:t.items}),(function(e,n,s,a){return i("uni-grid-item",{key:t._$s(2,"f",{forIndex:s,key:n}),attrs:{_i:"2-"+a}},[i("view",{staticClass:t._$s("3-"+a,"sc","item"),class:t._$s("3-"+a,"c",t.options.itemClassName),attrs:{_i:"3-"+a},on:{click:function(i){return t.itemNavTo(e.open_url,n)}}},[i("image",{staticClass:t._$s("4-"+a,"sc","image image-width-84"),style:t._$s("4-"+a,"s",t.imageStyle),attrs:{src:t._$s("4-"+a,"a-src",t.thumbImg(e.src)),_i:"4-"+a}}),t._$s("5-"+a,"i",e.text)?i("text",{staticClass:t._$s("5-"+a,"sc","font-24"),attrs:{_i:"5-"+a}},[t._v(t._$s("5-"+a,"t0-0",t._s(e.text)))]):t._e()])])})),1)],1)},a=[]},"211f":function(t,e,i){"use strict";i.r(e);var n=i("331d"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"21b8":function(t,e,i){"use strict";i.r(e);var n=i("9d0f"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"21ff":function(t,e,i){"use strict";i.r(e);var n=i("e153"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},2262:function(t,e,i){"use strict";i.r(e);var n=i("54fa"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},2313:function(t,e,i){"use strict";i.r(e);var n=i("6f57"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"232d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("43bc")),s=a(i("6569"));function a(t){return t&&t.__esModule?t:{default:t}}var r={name:"UniDataPicker",emits:["popupopened","popupclosed","nodeclick","input","change","update:modelValue"],mixins:[n.default],components:{DataPickerView:s.default},props:{options:{type:[Object,Array],default:function(){return{}}},popupTitle:{type:String,default:"\u8bf7\u9009\u62e9"},placeholder:{type:String,default:"\u8bf7\u9009\u62e9"},heightMobile:{type:String,default:""},readonly:{type:Boolean,default:!1},clearIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!0},split:{type:String,default:"/"},ellipsis:{type:Boolean,default:!0}},data:function(){return{isOpened:!1,inputSelected:[]}},created:function(){var t=this;this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this)),this.$nextTick((function(){t.load()}))},methods:{clear:function(){this.inputSelected.splice(0),this._dispatchEvent([])},onPropsChange:function(){this._treeData=[],this.selectedIndex=0,this.load()},load:function(){var t=this;this.readonly?this._processReadonly(this.localdata,this.dataValue):this.isLocaldata?(this.loadData(),this.inputSelected=this.selected.slice(0)):this.parentField||this.selfField||!this.hasValue?this.hasValue&&this.getTreePath((function(){t.inputSelected=t.selected.slice(0)})):this.getNodeData((function(){t.inputSelected=t.selected.slice(0)}))},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},show:function(){var t=this;this.isOpened=!0,this.$nextTick((function(){t.$refs.pickerView.updateData({treeData:t._treeData,selected:t.selected,selectedIndex:t.selectedIndex})})),this.$emit("popupopened")},hide:function(){this.isOpened=!1,this.$emit("popupclosed")},handleInput:function(){this.readonly||this.show()},handleClose:function(t){this.hide()},onnodeclick:function(t){this.$emit("nodeclick",t)},ondatachange:function(t){this._treeData=this.$refs.pickerView._treeData},onchange:function(t){this.hide(),this.inputSelected=t,this._dispatchEvent(t)},_processReadonly:function(t,e){var i,n=t.findIndex((function(t){return t.children}));if(n>-1)return Array.isArray(e)?(i=e[e.length-1],"object"===typeof i&&i.value&&(i=i.value)):i=e,void(this.inputSelected=this._findNodePath(i,this.localdata));if(this.hasValue){for(var s=[],a=0;a<e.length;a++){var r=e[a],o=t.find((function(t){return t.value==r}));o&&s.push(o)}s.length&&(this.inputSelected=s)}else this.inputSelected=[]},_filterForArray:function(t,e){for(var i=[],n=0;n<e.length;n++){var s=e[n],a=t.find((function(t){return t.value==s}));a&&i.push(a)}return i},_dispatchEvent:function(t){var e={};if(t.length){for(var i=new Array(t.length),n=0;n<t.length;n++)i[n]=t[n].value;e=t[t.length-1]}else e.value="";this.formItem&&this.formItem.setValue(e.value),this.$emit("input",e.value),this.$emit("update:modelValue",e.value),this.$emit("change",{detail:{value:t}})}}};e.default=r},2369:function(t,e,i){"use strict";i.r(e);var n=i("0f80"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"23fc":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default,uniList:i("52ab").default,uniListItem:i("908c").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",[t._l(t._$s(2,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(2,"f",{forIndex:s,key:n}),staticClass:t._$s("2-"+a,"sc","ti-flex bg-white padding-22 margin-top-22"),attrs:{_i:"2-"+a},on:{click:function(i){return t.changeAccount(e)}}},[i("image",{staticClass:t._$s("3-"+a,"sc","image-width-100 bg-white border-radius padding-2"),attrs:{src:t._$s("3-"+a,"a-src",e.avatar),_i:"3-"+a}}),i("view",{staticClass:t._$s("4-"+a,"sc","flex-1 margin-left-18"),attrs:{_i:"4-"+a}},[i("text",[t._v(t._$s("5-"+a,"t0-0",t._s(e.nickname)))]),i("view",{staticClass:t._$s("6-"+a,"sc","font-24"),attrs:{_i:"6-"+a}},[i("text",[t._v(t._$s("7-"+a,"t0-0",t._s(e.mobile)))])])]),t._$s("8-"+a,"i",e.checked)?i("view",[i("tian-icons",{attrs:{type:"xuanze",color:"#55aa00",size:"20",_i:"9-"+a}})],1):t._e()])})),t._$s(10,"i",!t.isMustUniverifyLogin&&t.dataList&&t.dataList.length<t.multipleAccount)?i("view",{staticClass:t._$s(10,"sc","ti-flex bg-white padding-22 margin-top-22"),attrs:{_i:10},on:{click:t.navToLogin}},[i("tian-icons",{attrs:{type:"jiahao1",color:"#0099ff",size:"22",_i:11}}),i("view",{staticClass:t._$s(12,"sc","flex-1 margin-left-18 colorBlue"),attrs:{_i:12}},[i("text")])],1):t._e()],2),i("uni-list",{staticClass:t._$s(14,"sc","margin-top-22"),attrs:{_i:14}},[i("uni-list-item",{attrs:{clickable:!0,_i:15},on:{click:t.logout}},[i("view",{slot:"body"},[i("view",[i("text")])])])],1)],1)},a=[]},"24c6":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{userInfo:{balance:0,score:0},formData:{amount:"",mode:""}}},computed:{scoreName:function(){return this.$store.state.app.customer.scoreName?this.$store.state.app.customer.scoreName:"\u79ef\u5206"},score_cashout:function(){return this.userInfo.score_cashout?this.userInfo.score_cashout:{}}},onLoad:function(){this.userInfo=this.$store.state.user.userInfo,this.loadData()},methods:{loadData:function(e){var i=this;this.$request("user/score/cashout_info").then((function(e){t("log","user cashout_info",e," at pages/user/score/cashout.vue:112"),i.userInfo=e}),(function(e){t("log","getStatistics err",e," at pages/user/score/cashout.vue:115")}))},submit:function(){var t=this;this.$request("user/score/cashout",{},{loading:!0}).then((function(e){t.$success("\u5151\u6362\u6210\u529f",1500,!0),t.navTimeBack()}),(function(e){t.$message("\u5151\u6362\u5931\u8d25")}))},loadedData:function(t){}}};e.default=i}).call(this,i("0de9")["default"])},"24fc":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{maxGoodsLength:3,type:"all",where:"user_id==$cloudEnv_uid && is_delete==0",order:{},tabList:[],options:{}}},onLoad:function(t){this.type=t.type,this.initTabs(),this.buildCondition()},onReady:function(){this.$refs.udb.loadData()},onPullDownRefresh:function(){this.$refs.udb.loadData({clear:!0},(function(){uni.stopPullDownRefresh()}))},onReachBottom:function(){this.$refs.udb.loadMore()},computed:{scoreName:function(){return this.$store.state.app.customer.scoreName}},methods:{loadData:function(t){var e=this;t.forEach((function(t){t.goods&&(t.goods.forEach((function(t){t.goods_thumb=e.$thumbImg(t.goods_thumb,"168x168")})),t.hasMoreGoods=!1,t.goods.length>3&&(t.origin_goods=t.goods,t.goods=t.goods.filter((function(t,i){return i<e.maxGoodsLength})),t.hasMoreGoods=!0,t.showGoodsType=0))}))},showMore:function(t,e){var i=this;t.goods=e?t.origin_goods:t.goods.filter((function(t,e){return e<i.maxGoodsLength})),t.showGoodsType=e},buildCondition:function(){var e=this,i="user_id==$cloudEnv_uid && is_delete==0",n=this.tabList.filter((function(t){return t.type==e.type}));n&&n.length>0&&n[0].condition&&(i+=" &&"+n[0].condition),t("log",i," at pages/order/order.vue:173"),this.where=i},changeTab:function(t){this.type=t.type,this.tabList.forEach((function(e){e.checked=e.type==t.type})),this.buildCondition()},initTabs:function(){var t=this,e=[{type:"all",text:"\u5168\u90e8",condition:""},{type:"unpay",text:"\u5f85\u4ed8\u6b3e",condition:"state==0"},{type:"undelivery",text:"\u5f85\u53d1\u8d27",condition:"state==1"},{type:"unreceived",text:"\u5f85\u6536\u8d27",condition:"state==2"},{type:"finish",text:"\u5df2\u5b8c\u6210",condition:"state==3"}];this.tabList=e.map((function(e){return e.checked=e.type==t.type,e}))},payOrder:function(t){t.module="mall",this.order=t,this.$refs.payment.open()},finishOrder:function(t){var e=this;this.confirmAction((function(){e.$request("mall/order/finish",{id:t._id},{loading:!0}).then((function(t){e.$success("\u8ba2\u5355\u6536\u8d27\u6210\u529f"),e.reLoadData()}))}),"\u662f\u5426\u786e\u5b9a\u6536\u5230\u8d27\u7269\uff1f\u5426\u5219\u94b1\u8d22\u4e24\u7a7a\u3002")},deleteOrder:function(t){var e=this;this.$refs.udb.remove(t._id,{action:"backup",success:function(t){e.$success("\u8ba2\u5355\u5220\u9664\u6210\u529f"),e.reLoadData()}})},cancelOrder:function(t){var e=this;this.confirmAction((function(){e.$request("payment/cancel",{id:t._id,module:"mall"}).then((function(t){e.$message("\u53d6\u6d88\u6210\u529f"),e.reLoadData()}))}),"\u662f\u5426\u786e\u5b9a\u53d6\u6d88\u8ba2\u5355\uff1f")},closePayment:function(){},paymentSuccess:function(e){t("log","\u652f\u4ed8\u6210\u529f\uff0c\u5237\u65b0\u5217\u8868"," at pages/order/order.vue:251"),this.$refs.udb.loadData({clear:!0})},reLoadData:function(){var t=this;setTimeout((function(){t.$refs.udb.loadData({clear:!0})}),2e3)}}};e.default=i}).call(this,i("0de9")["default"])},"25b0":function(t){t.exports=JSON.parse('{"uni-popup.cancel":"\u53d6\u6d88","uni-popup.ok":"\u786e\u5b9a","uni-popup.placeholder":"\u8bf7\u8f93\u5165","uni-popup.title":"\u63d0\u793a","uni-popup.shareTitle":"\u5206\u4eab\u5230"}')},"261e":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default,tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","login-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,_i:1}},[i("uni-forms-item",{attrs:{required:!0,name:"mobile",_i:2}},[i("view",{staticClass:t._$s(3,"sc"," "),attrs:{_i:3}},[i("uni-easyinput",{attrs:{type:"number",maxlength:"11",inputBorder:!1,placeholder:"\u8f93\u5165\u624b\u673a\u53f7\u7801(\u65b0\u624b\u673a\u53f7\u81ea\u52a8\u6ce8\u518c)",_i:4},on:{confirm:t.login},model:{value:t._$s(4,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1)]),i("uni-forms-item",{attrs:{required:!0,name:"code",_i:5}},[i("view",{staticClass:t._$s(6,"sc","  ti-flex"),attrs:{_i:6}},[i("uni-easyinput",{attrs:{type:"number",maxlength:"6",inputBorder:!1,placeholder:"\u8f93\u5165\u9a8c\u8bc1\u7801",_i:7},on:{confirm:t.login},model:{value:t._$s(7,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),i("button",{attrs:{_i:8},on:{click:t.sendSmsCode}},[t._v(t._$s(8,"t0-0",t._s(t.codeDuration?t.codeDuration+"s":"\u83b7\u53d6\u9a8c\u8bc1\u7801")))])],1)]),i("checkbox-group",{attrs:{_i:9},on:{change:t.changeRead}},[i("view",{staticClass:t._$s(10,"sc","colorGray font-26 margin-top-40"),attrs:{_i:10}},[i("label",[i("checkbox",{attrs:{checked:t._$s(12,"a-checked",t.read),_i:12}}),i("text")]),i("text",{attrs:{_i:14},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.fwxy)}}}),i("text",{attrs:{_i:15},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.yszc)}}})])]),i("view",{staticClass:t._$s(16,"sc","margin-top-40"),attrs:{_i:16}},[i("button",{attrs:{_i:17},on:{click:t.login}})])],1),t._$s(18,"i",t.hasProvider)?i("view",{staticClass:t._$s(18,"sc","others colorGray"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","title"),attrs:{_i:19}},[i("text",{staticClass:t._$s(20,"sc","txt"),attrs:{_i:20}})]),i("view",{staticClass:t._$s(21,"sc","ti-flex margin-top-60"),attrs:{_i:21}},[t._$s(22,"i",t.hasAppleLogin)?i("tian-icons",{staticClass:t._$s(22,"sc","flex-1"),attrs:{type:"pingguo",size:"30",color:"#111111",_i:22},on:{click:t.appleLogin}},[i("text",{staticClass:t._$s(23,"sc","font-22"),attrs:{_i:23}})]):t._e(),t._$s(24,"i",t.hasQQLogin)?i("tian-icons",{staticClass:t._$s(24,"sc","flex-1"),attrs:{type:"QQ",size:"30",color:"#00aaff",_i:24},on:{click:t.qqLogin}},[i("text",{staticClass:t._$s(25,"sc","font-22"),attrs:{_i:25}})]):t._e(),t._$s(26,"i",t.hasWeixinAuth)?i("tian-icons",{staticClass:t._$s(26,"sc","flex-1"),attrs:{type:"weixin",size:"30",color:"#62b66c",_i:26},on:{click:t.wxLogin}},[i("text",{staticClass:t._$s(27,"sc","font-22"),attrs:{_i:27}})]):t._e(),t._$s(28,"i",t.hasWeiboLogin)?i("tian-icons",{staticClass:t._$s(28,"sc","flex-1"),attrs:{type:"weibo",size:"30",color:"#e83030",_i:28},on:{click:t.weiboLogin}},[i("text",{staticClass:t._$s(29,"sc","font-22"),attrs:{_i:29}})]):t._e(),t._$s(30,"i",t.hasUniverifyLogin)?i("tian-icons",{staticClass:t._$s(30,"sc","flex-1"),attrs:{type:"shouji",size:"30",color:"#e87f71",_i:30},on:{click:function(e){return t.univerify()}}},[i("text",{staticClass:t._$s(31,"sc","font-22"),attrs:{_i:31}})]):t._e()],1),i("view",{staticClass:t._$s(32,"sc","margin-top-60"),attrs:{_i:32}},[i("text",{staticClass:t._$s(33,"sc","font-22 "),attrs:{_i:33}})])]):t._e()],1)},a=[]},"26cb":function(t,e,i){"use strict";(function(e){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function i(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:n});else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,i.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var n="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},s=n.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(t){s&&(t._devtoolHook=s,s.emit("vuex:init",t),s.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){s.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){s.emit("vuex:action",t,e)}),{prepend:!0}))}function r(t,e){return t.filter(e)[0]}function o(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var i=r(e,(function(e){return e.original===t}));if(i)return i.copy;var n=Array.isArray(t)?[]:{};return e.push({original:t,copy:n}),Object.keys(t).forEach((function(i){n[i]=o(t[i],e)})),n}function c(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function u(t){return null!==t&&"object"===typeof t}function l(t){return t&&"function"===typeof t.then}function d(t,e){return function(){return t(e)}}var f=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},f.prototype.addChild=function(t,e){this._children[t]=e},f.prototype.removeChild=function(t){delete this._children[t]},f.prototype.getChild=function(t){return this._children[t]},f.prototype.hasChild=function(t){return t in this._children},f.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},f.prototype.forEachChild=function(t){c(this._children,t)},f.prototype.forEachGetter=function(t){this._rawModule.getters&&c(this._rawModule.getters,t)},f.prototype.forEachAction=function(t){this._rawModule.actions&&c(this._rawModule.actions,t)},f.prototype.forEachMutation=function(t){this._rawModule.mutations&&c(this._rawModule.mutations,t)},Object.defineProperties(f.prototype,h);var _=function(t){this.register([],t,!1)};function p(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return void 0;p(t.concat(n),e.getChild(n),i.modules[n])}}_.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},_.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},_.prototype.update=function(t){p([],this.root,t)},_.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var s=new f(e,i);if(0===t.length)this.root=s;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],s)}e.modules&&c(e.modules,(function(e,s){n.register(t.concat(s),e,i)}))},_.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},_.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};var m;var g=function(t){var e=this;void 0===t&&(t={}),!m&&"undefined"!==typeof window&&window.Vue&&D(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new _(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new m,this._makeLocalGettersCache=Object.create(null);var s=this,r=this,o=r.dispatch,c=r.commit;this.dispatch=function(t,e){return o.call(s,t,e)},this.commit=function(t,e,i){return c.call(s,t,e,i)},this.strict=n;var u=this._modules.root.state;$(this,u,[],this._modules.root),w(this,u),i.forEach((function(t){return t(e)}));var l=void 0!==t.devtools?t.devtools:m.config.devtools;l&&a(this)},v={state:{configurable:!0}};function b(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function y(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;$(t,i,[],t._modules.root,!0),w(t,i,e)}function w(t,e,i){var n=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={};c(s,(function(e,i){a[i]=d(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var r=m.config.silent;m.config.silent=!0,t._vm=new m({data:{$$state:e},computed:a}),m.config.silent=r,t.strict&&I(t),n&&(i&&t._withCommit((function(){n._data.$$state=null})),m.nextTick((function(){return n.$destroy()})))}function $(t,e,i,n,s){var a=!i.length,r=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[r],t._modulesNamespaceMap[r]=n),!a&&!s){var o=P(e,i.slice(0,-1)),c=i[i.length-1];t._withCommit((function(){m.set(o,c,n.state)}))}var u=n.context=x(t,r,i);n.forEachMutation((function(e,i){var n=r+i;C(t,n,e,u)})),n.forEachAction((function(e,i){var n=e.root?i:r+i,s=e.handler||e;S(t,n,s,u)})),n.forEachGetter((function(e,i){var n=r+i;O(t,n,e,u)})),n.forEachChild((function(n,a){$(t,e,i.concat(a),n,s)}))}function x(t,e,i){var n=""===e,s={dispatch:n?t.dispatch:function(i,n,s){var a=T(i,n,s),r=a.payload,o=a.options,c=a.type;return o&&o.root||(c=e+c),t.dispatch(c,r)},commit:n?t.commit:function(i,n,s){var a=T(i,n,s),r=a.payload,o=a.options,c=a.type;o&&o.root||(c=e+c),t.commit(c,r,o)}};return Object.defineProperties(s,{getters:{get:n?function(){return t.getters}:function(){return k(t,e)}},state:{get:function(){return P(t.state,i)}}}),s}function k(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(s){if(s.slice(0,n)===e){var a=s.slice(n);Object.defineProperty(i,a,{get:function(){return t.getters[s]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function C(t,e,i,n){var s=t._mutations[e]||(t._mutations[e]=[]);s.push((function(e){i.call(t,n.state,e)}))}function S(t,e,i,n){var s=t._actions[e]||(t._actions[e]=[]);s.push((function(e){var s=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return l(s)||(s=Promise.resolve(s)),t._devtoolHook?s.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):s}))}function O(t,e,i,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}function I(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function P(t,e){return e.reduce((function(t,e){return t[e]}),t)}function T(t,e,i){return u(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function D(t){m&&t===m||(m=t,i(m))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(t){0},g.prototype.commit=function(t,e,i){var n=this,s=T(t,e,i),a=s.type,r=s.payload,o=(s.options,{type:a,payload:r}),c=this._mutations[a];c&&(this._withCommit((function(){c.forEach((function(t){t(r)}))})),this._subscribers.slice().forEach((function(t){return t(o,n.state)})))},g.prototype.dispatch=function(t,e){var i=this,n=T(t,e),s=n.type,a=n.payload,r={type:s,payload:a},o=this._actions[s];if(o){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(r,i.state)}))}catch(u){0}var c=o.length>1?Promise.all(o.map((function(t){return t(a)}))):o[0](a);return new Promise((function(t,e){c.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(r,i.state)}))}catch(u){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(r,i.state,t)}))}catch(u){0}e(t)}))}))}},g.prototype.subscribe=function(t,e){return b(t,this._subscribers,e)},g.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return b(i,this._actionSubscribers,e)},g.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch((function(){return t(n.state,n.getters)}),e,i)},g.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},g.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),$(this,this.state,t,this._modules.get(t),i.preserveState),w(this,this.state)},g.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=P(e.state,t.slice(0,-1));m.delete(i,t[t.length-1])})),y(this)},g.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},g.prototype[[104,111,116,85,112,100,97,116,101].map((function(t){return String.fromCharCode(t)})).join("")]=function(t){this._modules.update(t),y(this,!0)},g.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(g.prototype,v);var j=B((function(t,e){var i={};return R(e).forEach((function(e){var n=e.key,s=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=F(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof s?s.call(this,e,i):e[s]},i[n].vuex=!0})),i})),E=B((function(t,e){var i={};return R(e).forEach((function(e){var n=e.key,s=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var a=F(this.$store,"mapMutations",t);if(!a)return;n=a.context.commit}return"function"===typeof s?s.apply(this,[n].concat(e)):n.apply(this.$store,[s].concat(e))}})),i})),L=B((function(t,e){var i={};return R(e).forEach((function(e){var n=e.key,s=e.val;s=t+s,i[n]=function(){if(!t||F(this.$store,"mapGetters",t))return this.$store.getters[s]},i[n].vuex=!0})),i})),A=B((function(t,e){var i={};return R(e).forEach((function(e){var n=e.key,s=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var a=F(this.$store,"mapActions",t);if(!a)return;n=a.context.dispatch}return"function"===typeof s?s.apply(this,[n].concat(e)):n.apply(this.$store,[s].concat(e))}})),i})),M=function(t){return{mapState:j.bind(null,t),mapGetters:L.bind(null,t),mapMutations:E.bind(null,t),mapActions:A.bind(null,t)}};function R(t){return N(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function N(t){return Array.isArray(t)||u(t)}function B(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function F(t,e,i){var n=t._modulesNamespaceMap[i];return n}function z(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var i=t.filter;void 0===i&&(i=function(t,e,i){return!0});var n=t.transformer;void 0===n&&(n=function(t){return t});var s=t.mutationTransformer;void 0===s&&(s=function(t){return t});var a=t.actionFilter;void 0===a&&(a=function(t,e){return!0});var r=t.actionTransformer;void 0===r&&(r=function(t){return t});var c=t.logMutations;void 0===c&&(c=!0);var u=t.logActions;void 0===u&&(u=!0);var l=t.logger;return void 0===l&&(l=console),function(t){var d=o(t.state);"undefined"!==typeof l&&(c&&t.subscribe((function(t,a){var r=o(a);if(i(t,d,r)){var c=V(),u=s(t),f="mutation "+t.type+c;U(l,f,e),l.log("%c prev state","color: #9E9E9E; font-weight: bold",n(d)),l.log("%c mutation","color: #03A9F4; font-weight: bold",u),l.log("%c next state","color: #4CAF50; font-weight: bold",n(r)),G(l)}d=r})),u&&t.subscribeAction((function(t,i){if(a(t,i)){var n=V(),s=r(t),o="action "+t.type+n;U(l,o,e),l.log("%c action","color: #03A9F4; font-weight: bold",s),G(l)}})))}}function U(t,e,i){var n=i?t.groupCollapsed:t.group;try{n.call(t,e)}catch(s){t.log(e)}}function G(t){try{t.groupEnd()}catch(e){t.log("\u2014\u2014 log end \u2014\u2014")}}function V(){var t=new Date;return" @ "+H(t.getHours(),2)+":"+H(t.getMinutes(),2)+":"+H(t.getSeconds(),2)+"."+H(t.getMilliseconds(),3)}function q(t,e){return new Array(e+1).join(t)}function H(t,e){return q("0",e-t.toString().length)+t}var W={Store:g,install:D,version:"3.6.2",mapState:j,mapMutations:E,mapGetters:L,mapActions:A,createNamespacedHelpers:M,createLogger:z};t.exports=W}).call(this,i("c8ba"))},2785:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={};e.default=n},2789:function(t,e,i){"use strict";i.r(e);var n=i("9294"),s=i("f08d");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"b9d9c930",null,!1,n["a"],r);e["default"]=c.exports},"283c":function(t,e,i){"use strict";i.r(e);var n=i("4dfa"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"289b":function(t,e,i){"use strict";i.r(e);var n=i("d574"),s=i("15b7");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"cc3f0cca",null,!1,n["a"],r);e["default"]=c.exports},2919:function(t,e,i){"use strict";i.r(e);var n=i("6859"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},2985:function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"}')},"2ae3":function(t,e,i){"use strict";i.r(e);var n=i("03db"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"2aee":function(t,e,i){"use strict";(function(t){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{symbol:"\uffe5",message:"\u65e0",coupons:"\u672a\u9009\u62e9",invoice:"\u4e0d\u5f00\u53d1\u7968",goodsTotal:0,order:{},formData:{coupon:"",invoice:"",discount:0,freight:0,score:0,total:0,needAddress:!1,mustUseScore:!1,exchangePointsForCash:!1,remarks:"\u65e0",delivery_type:"express",canUseScore:0,usedScore:0,score2moneyRate:0,address:{},goodsList:[]}}},computed:{freightText:function(){return 0==this.formData.freight?"\u514d\u8fd0\u8d39":this.symbol+(this.formData.freight/100).toFixed(2)},discountText:function(){return this.symbol+(this.formData.discount/100).toFixed(2)},totalText:function(){var t=0;return this.formData.exchangePointsForCash&&(t=this.formData.usedScore*this.formData.score2moneyRate),((this.goodsTotal-this.formData.discount)/100-t).toFixed(2)},goodsTotalText:function(){return this.symbol+(this.goodsTotal/100).toFixed(2)},scoreText:function(){return"\u603b\u79ef\u5206:"+this.formData.score+"\uff0c\u5176\u4e2d"+this.formData.canUseScore+"\u79ef\u5206\u53ef\u7528"},scoreResultText:function(){return this.formData.usedScore<1?"\u4e0d\u4f7f\u7528":"\u5df2\u9009\u62e9"+this.formData.usedScore+"\u79ef\u5206"},scoreMoneyResultText:function(){return this.formData.usedScore+""},userInfo:function(){return this.$store.state.user.userInfo}},onShow:function(){this.editData(this.getItemData()),this.loadData()},onUnload:function(){uni.removeStorage({key:this.itemDataKey})},methods:{loadData:function(){var e=this;this.$request("mall/order/settlement",n(n({},this.formData),{},{address:void 0,goodsList:void 0}),{loading:!0}).then((function(i){e.editData(i),t("log","settlement res",i," at pages/order/create.vue:182")}),(function(t){e.navTimeBack()})),this.buildTotal()},buildTotal:function(){var t=0;this.formData.goodsList.map((function(e){t+=e.price*e.amount})),this.goodsTotal=t},editData:function(t){for(var e in t)this.$set(this.formData,e,t[e]);this.goodsTotal=t.total},changeScore:function(){return this.userInfo.score<1?(this.$message("\u79ef\u5206\u4e0d\u8db3"),!1):this.formData.canUseScore<1?(this.$message("\u79ef\u5206\u4e0d\u53ef\u7528"),!1):void this.$refs.scorePopup.open()},confirmEditScore:function(t){t<0&&(t=0),t>this.formData.canUseScore&&(t=this.formData.canUseScore),this.formData.usedScore=+t},changeInvoice:function(){var e=this;uni.showModal({editable:!0,title:"\u8bf7\u8f93\u5165\u53d1\u7968\u62ac\u5934",placeholderText:"\u8bf7\u8f93\u5165\u516c\u53f8/\u4e2a\u4eba\u540d\u79f0",success:function(i){i.confirm&&(t("log",i.content," at pages/order/create.vue:231"),e.invoice=i.content,e.formData.invoice=i.content)}})},changeComment:function(){this.$refs.remarkPopup.open()},confirmEditComment:function(t){this.formData.remarks=t},submit:function(){var e=this;!this.formData.needAddress||this.formData.address._id?this.formData.goodsList?(t("log",n(n({},this.formData),{},{address:void 0,goodsList:void 0,submit:!0,address_id:this.formData.address._id})," at pages/order/create.vue:253"),this.$request("mall/order/settlement",n(n({},this.formData),{},{address:void 0,goodsList:void 0,submit:!0,address_id:this.formData.address._id}),{loading:!0}).then((function(i){t("log","settlement res",i," at pages/order/create.vue:271"),e.order=i,e.$refs.payment.open()}),(function(e){t("log","\u4e0b\u5355\u5931\u8d25"," at pages/order/create.vue:275")}))):this.$message("\u5546\u54c1\u4e0d\u80fd\u4e3a\u7a7a"):this.$message("\u6536\u8d27\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a")},closePayment:function(){},paySuccess:function(e){t("log","pay success",e," at pages/order/create.vue:280"),e.id.indexOf(",")>-1?uni.redirectTo({url:"/pages/order/order?type=undelivery"}):uni.redirectTo({url:"/pages/order/detail?id="+e.id})}}};e.default=a}).call(this,i("0de9")["default"])},"2b0d":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("a34a")),s=r(i("8bbf")),a=r(i("6d6c"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function u(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){c(a,n,s,r,o,"next",t)}function o(t){c(a,n,s,r,o,"throw",t)}r(void 0)}))}}s.default.prototype.binddata=function(e,i,n){if(n)this.$refs[n].setValue(e,i);else{var s;for(var a in this.$refs){var r=this.$refs[a];if(r&&r.$options&&"uniForms"===r.$options.name){s=r;break}}if(!s)return t("error","\u5f53\u524d uni-froms \u7ec4\u4ef6\u7f3a\u5c11 ref \u5c5e\u6027"," at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:24");s.setValue(e,i)}};var l={name:"uniForms",components:{},emits:["input","reset","validate","submit"],props:{value:{type:Object,default:function(){return{}}},modelValue:{type:Object,default:function(){return{}}},rules:{type:Object,default:function(){return{}}},validateTrigger:{type:String,default:""},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:"left"},errShowType:{type:String,default:"undertext"},border:{type:Boolean,default:!1}},data:function(){return{formData:{}}},computed:{dataValue:function(){return"{}"===JSON.stringify(this.modelValue)?this.value:this.modelValue}},watch:{rules:function(t){this.init(t)},labelPosition:function(){this.childrens.forEach((function(t){t.init()}))}},created:function(){this.unwatchs=[],this.childrens=[],this.inputChildrens=[],this.checkboxChildrens=[],this.formRules=[],this.init(this.rules)},methods:{init:function(t){0!==Object.keys(t).length?(this.formRules=t,this.validator=new a.default(t),this.registerWatch()):this.formData=this.dataValue},registerWatch:function(){var t=this;this.unwatchs.forEach((function(t){return t()})),this.childrens.forEach((function(t){t.init()})),Object.keys(this.dataValue).forEach((function(e){var i=t.$watch("dataValue."+e,(function(i){if(i)if("[object Object]"===i.toString())for(var n in i){var s="".concat(e,"[").concat(n,"]");t.formData[s]=t._getValue(s,i[n])}else t.formData[e]=t._getValue(e,i)}),{deep:!0,immediate:!0});t.unwatchs.push(i)}))},setRules:function(t){this.init(t)},setValue:function(t,e,i){var n=this.childrens.find((function(e){return e.name===t}));return n?(e=this._getValue(n.name,e),this.formData[t]=e,n.val=e,n.triggerCheck(e,i)):null},resetForm:function(t){var e=this;this.childrens.forEach((function(t){t.errMsg="";var i=e.inputChildrens.find((function(e){return e.rename===t.name}));i&&(i.errMsg="",i.is_reset=!0,i.$emit("input",i.multiple?[]:""),i.$emit("update:modelValue",i.multiple?[]:""))})),this.childrens.forEach((function(t){t.name&&(e.formData[t.name]=e._getValue(t.name,""))})),this.$emit("reset",t)},validateCheck:function(t){null===t&&(t=null),this.$emit("validate",t)},validateAll:function(t,e,i,s){var a=this;return u(n.default.mark((function r(){var o,c,u,l,d,f,h,_,p,m,g,v,b;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(u in o=[],c=function(t){var e=a.childrens.find((function(e){return e.name===t}));e&&o.push(e)},t)c(u);if(s||"function"!==typeof i||(s=i),!s&&"function"!==typeof s&&Promise&&(l=new Promise((function(t,e){s=function(i,n){i?e(i):t(n)}}))),d=[],f={},!a.validator){r.next=25;break}r.t0=n.default.keys(o);case 9:if((r.t1=r.t0()).done){r.next=23;break}return h=r.t1.value,_=o[h],p=_.isArray?_.arrayField:_.name,_.isArray?-1!==_.name.indexOf("[")&&-1!==_.name.indexOf("]")&&(m=_.name.split("["),g=m[0],v=m[1].replace("]",""),f[g]||(f[g]={}),f[g][v]=a._getValue(p,t[p])):f[p]=a._getValue(p,t[p]),r.next=16,_.triggerCheck(t[p],!0);case 16:if(b=r.sent,!b){r.next=21;break}if(d.push(b),"toast"!==a.errShowType&&"modal"!==a.errShowType){r.next=21;break}return r.abrupt("break",23);case 21:r.next=9;break;case 23:r.next=26;break;case 25:f=t;case 26:if(Array.isArray(d)&&0===d.length&&(d=null),Array.isArray(i)&&i.forEach((function(t){f[t]=a.dataValue[t]})),"submit"===e?a.$emit("submit",{detail:{value:f,errors:d}}):a.$emit("validate",d),s&&"function"===typeof s&&s(d,f),!l||!s){r.next=34;break}return r.abrupt("return",l);case 34:return r.abrupt("return",null);case 35:case"end":return r.stop()}}),r)})))()},submitForm:function(){},submit:function(e,i,n){var s=this,a=function(t){var e=s.childrens.find((function(e){return e.name===t}));e&&void 0===s.formData[t]&&(s.formData[t]=s._getValue(t,s.dataValue[t]))};for(var r in this.dataValue)a(r);return n||t("warn","submit \u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528validate\u65b9\u6cd5\u4ee3\u66ff\uff01"," at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:371"),this.validateAll(this.formData,"submit",e,i)},validate:function(t,e){return this.submit(t,e,!0)},validateField:function(t,e){var i=this;t=[].concat(t);var n={};return this.childrens.forEach((function(e){-1!==t.indexOf(e.name)&&(n=Object.assign({},n,o({},e.name,i.formData[e.name])))})),this.validateAll(n,"submit",[],e)},resetFields:function(){this.resetForm()},clearValidate:function(t){var e=this;t=[].concat(t),this.childrens.forEach((function(i){var n=e.inputChildrens.find((function(t){return t.rename===i.name}));(0===t.length||-1!==t.indexOf(i.name))&&(i.errMsg="",n&&(n.errMsg=""))}))},_getValue:function(t,e){var i=this,n=this.formRules[t]&&this.formRules[t].rules||[],s=n.find((function(t){return t.format&&i.type_filter(t.format)})),a=n.find((function(t){return t.format&&"boolean"===t.format||"bool"===t.format}));return s&&(e=isNaN(e)?e:""===e||null===e?null:Number(e)),a&&(e=!!e),e},type_filter:function(t){return"int"===t||"double"===t||"number"===t||"timestamp"===t}}};e.default=l}).call(this,i("0de9")["default"])},"2b4f":function(t,e,i){"use strict";i.r(e);var n=i("5d78"),s=i("d07d");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"2cc0":function(t,e,i){"use strict";i.r(e);var n=i("b597"),s=i("df95");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"2ccf":function(t,e,i){"use strict";i.r(e);var n=i("af95"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"2d3f":function(t,e,i){"use strict";i.r(e);var n=i("2aee"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"2d89":function(t,e,i){"use strict";i.r(e);var n=i("47a5"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"2e4f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=e.validator=void 0;var n={id:{rules:[{format:"int"}],label:"\u7f16\u53f7"},address:{rules:[{format:"object"}],label:"\u5730\u5740"},name:{rules:[{required:!0},{format:"string"}],label:"\u5e97\u94fa\u540d\u79f0"},phone:{rules:[{required:!0},{format:"string"}],label:"\u8054\u7cfb\u7535\u8bdd"},src:{rules:[{required:!0},{format:"string"}],label:"\u5e97\u94falogo"},business_license:{rules:[{required:!0},{format:"string"}],label:"\u8425\u4e1a\u6267\u7167"},food_license:{rules:[{format:"string"}],label:"\u98df\u54c1\u7ecf\u8425\u8bb8\u53ef"},legal_person_license:{rules:[{required:!0},{format:"string"}],label:"\u6cd5\u4eba\u8eab\u4efd\u8bc1\u6b63\u9762"},legal_person_license_back:{rules:[{required:!0},{format:"string"}],label:"\u6cd5\u4eba\u8eab\u4efd\u8bc1\u53cd\u9762"},state:{rules:[{format:"int"},{range:[{text:"\u5ba1\u6838\u4e2d",value:0},{text:"\u901a\u8fc7",value:1},{text:"\u62d2\u7edd",value:2}]}],defaultValue:0,label:"\u72b6\u6001"},modified:{rules:[{format:"timestamp"}],defaultValue:{$env:"now"}}};e.validator=n;var s={state_valuetotext:{0:"\u5ba1\u6838\u4e2d",1:"\u901a\u8fc7",2:"\u62d2\u7edd"}};e.enumConverter=s},"2ea0":function(t,e,i){"use strict";i.r(e);var n=i("5575"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},3014:function(t,e,i){"use strict";i.r(e);var n=i("e897"),s=i("4194");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"306b":function(t,e,i){"use strict";i.r(e);var n=i("3588"),s=i("03bb");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},3270:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniSwiperDot",emits:["clickItem"],props:{info:{type:Array,default:function(){return[]}},current:{type:Number,default:0},dotsStyles:{type:Object,default:function(){return{}}},mode:{type:String,default:"default"},field:{type:String,default:""}},data:function(){return{dots:{width:6,height:6,bottom:10,color:"#fff",backgroundColor:"rgba(0, 0, 0, .3)",border:"1px rgba(0, 0, 0, .3) solid",selectedBackgroundColor:"#333",selectedBorder:"1px rgba(0, 0, 0, .9) solid"}}},watch:{dotsStyles:function(t){this.dots=Object.assign(this.dots,this.dotsStyles)},mode:function(t){"indexes"===t?(this.dots.width=14,this.dots.height=14):(this.dots.width=6,this.dots.height=6)}},created:function(){"indexes"===this.mode&&(this.dots.width=12,this.dots.height=12),this.dots=Object.assign(this.dots,this.dotsStyles)},methods:{clickItem:function(t){this.$emit("clickItem",t)}}};e.default=n},3290:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={pageMeta:i("6d42").default,navigationBar:i("9832").default,uniSwiperDot:i("8f04").default,tianGoodsPrice:i("956e").default,tianIcons:i("6439").default,uniRate:i("e22a").default,jVideo:i("a079").default,tianGoodsSku:i("5a97").default,tianGoodsNav:i("f750").default,uniPopup:i("36ef").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._$s(1,"i",t.loaded)?i("view",{staticClass:t._$s(1,"sc","goods-detail-container"),attrs:{_i:1}},[i("page-meta",{attrs:{_i:2}},[i("navigation-bar",{attrs:{title:t.item.name,"front-color":"#000000","background-color":"#ffffff","color-animation-timing-func":"easeIn",_i:3}})],1),i("uni-swiper-dot",{attrs:{info:t.item.goods_banner_imgs,current:t.current,field:"content",mode:"round",_i:4}},[i("swiper",{staticClass:t._$s(5,"sc","swiper-box"),attrs:{current:t._$s(5,"a-current",t.current),_i:5},on:{change:t.change}},t._l(t._$s(6,"f",{forItems:t.item.goods_banner_imgs}),(function(e,n,s,a){return i("swiper-item",{key:t._$s(6,"f",{forIndex:s,key:n})},[i("image",{staticClass:t._$s("7-"+a,"sc","image"),attrs:{src:t._$s("7-"+a,"a-src",e),_i:"7-"+a}})])})),0)]),i("view",{staticClass:t._$s(8,"sc","bg-white padding-24 padding-top-30"),attrs:{_i:8}},[i("tian-goods-price",{attrs:{hasCart:!1,size:"big",value:t.item,_i:9}}),i("view",{staticClass:t._$s(10,"sc","margin-top-22"),attrs:{_i:10}},[i("text",{staticClass:t._$s(11,"sc","font-32"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.item.name)))])]),t._$s(12,"i",t.item.goods_summary)?i("view",{staticClass:t._$s(12,"sc","desc colorGray font-24 padding-bottom-18 padding-top-8"),attrs:{_i:12}},[i("text",[t._v(t._$s(13,"t0-0",t._s(t.item.goods_summary)))])]):t._e(),i("view",{staticClass:t._$s(14,"sc","ti-flex between margin-top-22"),attrs:{_i:14}},[t._$s(15,"i",t.item.is_real)?i("tian-icons",{attrs:{type:"wuliu",align:"right",color:"#787878",_i:15}},[i("text")]):t._e(),i("tian-icons",{attrs:{type:"tongji",align:"right",color:"#787878",_i:17}},[i("text",[t._v(t._$s(18,"t0-0",t._s(t.item.month_sell_count)))])]),i("tian-icons",{attrs:{type:"kucun",align:"right",color:"#787878",_i:19}},[i("text",[t._v(t._$s(20,"t0-0",t._s(t.item.remain_count)))])])],1)],1),t._$s(21,"i",t.item.sku_name&&t.item.sku_name.length>0)?i("view",{staticClass:t._$s(21,"sc","bg-white padding-24 padding-top-30 margin-top-22"),attrs:{_i:21}},[i("view",{staticClass:t._$s(22,"sc","ti-flex"),attrs:{_i:22},on:{click:function(e){return t.openSku()}}},[i("text",{staticClass:t._$s(23,"sc","sub-title"),attrs:{_i:23}}),t._$s(24,"i",t.selectSku._id)?i("text",[t._v(t._$s(24,"t0-0",t._s(t.selectSku.sku_name)))]):i("text"),i("view",{staticClass:t._$s(26,"sc","flex-1"),attrs:{_i:26}}),i("tian-icons",{attrs:{type:"xiangyou1",align:"right",color:"#787878",_i:27}})],1)]):t._e(),t._$s(28,"i",t.item.group_buying&&t.allGroupBuying.length>0)?i("view",[i("view",{staticClass:t._$s(29,"sc","bg-white margin-top-22 "),attrs:{_i:29}},[i("view",{staticClass:t._$s(30,"sc","ti-flex under-line sub-nav-title normal"),attrs:{_i:30},on:{click:t.showMoreGb}},[i("text",{staticClass:t._$s(31,"sc","flex-1"),attrs:{_i:31}},[t._v(t._$s(31,"t0-0",t._s(t.groupBuyingTotal)))]),i("tian-icons",{attrs:{type:"xiangyou1",align:"left",color:"#787878",_i:32}},[t._v("")])],1),i("groupBuyingPage",{attrs:{groupBuying:t.groupBuying,_i:33},on:{click:t.btnGroupBuying}})],1)]):t._e(),t._$s(34,"i",t.item.shop)?i("view",{staticClass:t._$s(34,"sc","bg-white ti-flex margin-top-22 padding-22"),attrs:{_i:34},on:{click:function(e){return t.navTo("/pages/product/shop?id="+t.item.shop._id,t.item.shop)}}},[i("image",{staticClass:t._$s(35,"sc","image-width-80 border-radius"),attrs:{src:t._$s(35,"a-src",t.item.shop.src),_i:35}}),i("view",{staticClass:t._$s(36,"sc","flex-1 margin-left-16"),attrs:{_i:36}},[i("text",{staticClass:t._$s(37,"sc","font-bold"),attrs:{_i:37}},[t._v(t._$s(37,"t0-0",t._s(t.item.shop.name)))]),i("view",{staticClass:t._$s(38,"sc","font-24"),attrs:{_i:38}},[i("text"),i("text",{staticClass:t._$s(40,"sc","colorRed margin-left-4"),attrs:{_i:40}},[t._v(t._$s(40,"t0-0",t._s(t.item.shop.score_text)))]),i("text",{staticClass:t._$s(41,"sc","margin-left-10"),attrs:{_i:41}}),i("text",{staticClass:t._$s(42,"sc","colorRed margin-left-4"),attrs:{_i:42}},[t._v(t._$s(42,"t0-0",t._s(t.item.shop.monthSale_text)))]),i("text",{staticClass:t._$s(43,"sc","margin-left-10"),attrs:{_i:43}}),i("text",{staticClass:t._$s(44,"sc","colorRed margin-left-4"),attrs:{_i:44}},[t._v(t._$s(44,"t0-0",t._s(t.item.shop.focus_text)))]),i("text",{staticClass:t._$s(45,"sc","margin-left-4"),attrs:{_i:45}})])]),i("tian-icons",{attrs:{type:"xiangyou1",_i:46}})],1):t._e(),i("view",{staticClass:t._$s(47,"sc","bg-white margin-top-22"),attrs:{_i:47}},[i("view",{staticClass:t._$s(48,"sc","sub-nav-title under-line ti-flex"),attrs:{_i:48}},[i("text"),t._$s(50,"i",t.item.comment_count)?i("text",[t._v(t._$s(50,"t0-0",t._s(t.item.comment_count)))]):t._e(),i("view",{staticClass:t._$s(51,"sc","flex-1"),attrs:{_i:51}}),i("tian-icons",{attrs:{type:"xiangyou1",size:"12",align:"left",_i:52},on:{click:function(e){return t.navTo("/pages/product/comment?id="+t.item._id,t.item)}}},[i("text",{staticClass:t._$s(53,"sc","font-24 colorGray"),attrs:{_i:53}},[t._v(t._$s(53,"t0-0",t._s(t.item.commentGoodRate)))])])],1),t._$s(54,"i",t.item.comment_count)?i("view",t._l(t._$s(55,"f",{forItems:t.item.comments}),(function(e,n,s,a){return i("view",{key:t._$s(55,"f",{forIndex:s,key:n}),staticClass:t._$s("55-"+a,"sc","margin-bottom-22 under-line padding-22"),attrs:{_i:"55-"+a}},[i("view",{staticClass:t._$s("56-"+a,"sc","ti-flex"),attrs:{_i:"56-"+a}},[i("image",{staticClass:t._$s("57-"+a,"sc","user-avatar"),attrs:{src:t._$s("57-"+a,"a-src",e.user.avatar),_i:"57-"+a}}),i("view",{staticClass:t._$s("58-"+a,"sc","margin-left-12"),attrs:{_i:"58-"+a}},[i("view",[i("text",[t._v(t._$s("60-"+a,"t0-0",t._s(e.user.nickname)))])]),i("uni-rate",{attrs:{size:"12",value:e.rate,readonly:!0,_i:"61-"+a}})],1)]),i("view",{staticClass:t._$s("62-"+a,"sc","font-24 margin-top-6 padding-lr-10"),attrs:{_i:"62-"+a}},[i("text",[t._v(t._$s("63-"+a,"t0-0",t._s(e.content)))])])])})),0):i("view",{staticClass:t._$s(64,"sc","text-center padding-24"),attrs:{_i:64}},[i("text")])]),t._$s(66,"i",t.description&&t.description.length>0)?i("view",{staticClass:t._$s(66,"sc","bg-white margin-top-22"),attrs:{_i:66}},[i("view",{staticClass:t._$s(67,"sc","sub-nav-title under-line"),attrs:{_i:67}},[i("text")]),t._l(t._$s(69,"f",{forItems:t.description}),(function(e,n,s,a){return i("view",{key:t._$s(69,"f",{forIndex:s,key:n})},[t._$s("70-"+a,"i","video"==e.type)?i("j-video",{attrs:{url:e.content,height:"220px",width:"750rpx",_i:"70-"+a}}):i("rich-text",{attrs:{nodes:t._$s("71-"+a,"a-nodes",e.content),_i:"71-"+a}})],1)}))],2):t._e(),i("view",{staticClass:t._$s(72,"sc","bg-white margin-top-22"),attrs:{_i:72}},[i("view",{staticClass:t._$s(73,"sc","sub-nav-title under-line"),attrs:{_i:73}},[i("text")]),i("view",{staticClass:t._$s(75,"sc","padding-24"),attrs:{_i:75}},[i("text"),t._l(t._$s(77,"f",{forItems:t.quanyiDescription}),(function(e,n,s,a){return i("view",{key:t._$s(77,"f",{forIndex:s,key:n}),staticClass:t._$s("77-"+a,"sc","font-20 colorGray"),attrs:{_i:"77-"+a}},[i("text",[t._v(t._$s("78-"+a,"t0-0",t._s(e)))])])}))],2),i("view",{staticClass:t._$s(79,"sc","padding-24"),attrs:{_i:79}},[i("text"),t._l(t._$s(81,"f",{forItems:t.priceDescription}),(function(e,n,s,a){return i("view",{key:t._$s(81,"f",{forIndex:s,key:n}),staticClass:t._$s("81-"+a,"sc","font-20 colorGray"),attrs:{_i:"81-"+a}},[i("text",[t._v(t._$s("82-"+a,"t0-0",t._s(e)))])])}))],2)]),t._$s(83,"i",t.loaded)?i("tian-goods-sku",{ref:"tianSkuPop",attrs:{value:t.item,group_buying_id:t.group_buying_id,sid:t.defaultSkuId,isSubmitSku:t.isSubmitSku,_i:83},on:{change:t.changeSku}}):t._e(),t._$s(84,"i",t.loaded)?i("view",{staticClass:t._$s(84,"sc","goods-carts"),attrs:{_i:84}},[i("tian-goods-nav",{attrs:{options:t.bottomOptions,buttonGroup:t.buttonGroup,fill:!0,_i:85},on:{click:t.leftClick,buttonClick:t.buttonClick}})],1):t._e(),i("uni-popup",{ref:"gbPopup",attrs:{type:"center",_i:86},on:{change:t.changeGb}},[i("view",{staticClass:t._$s(87,"sc","bg-white border-radius"),attrs:{_i:87}},[i("view",{staticClass:t._$s(88,"sc","closeGb"),attrs:{_i:88}},[i("tian-icons",{attrs:{type:"guanbi2",size:"26",_i:89},on:{click:function(e){return t.closeGb()}}})],1),i("scroll-view",{},[i("groupBuyingPage",{attrs:{groupBuying:t.allGroupBuying,_i:91},on:{click:t.btnGroupBuying}}),t._$s(92,"i",t.allGroupBuying.length==t.maxShowAllGroupBuying)?i("view",{staticClass:t._$s(92,"sc","padding-20 text-center font-20 colorGray"),attrs:{_i:92}},[i("text",[t._v(t._$s(93,"t0-0",t._s(t.maxShowAllGroupBuying)))])]):t._e()],1)])])],1):t._e()])},a=[]},"32ae":function(t,e,i){"use strict";i.r(e);var n=i("0512"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"32b0":function(t,e,i){"use strict";i.r(e);var n=i("c19a"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},3301:function(t,e,i){"use strict";i.r(e);var n=i("c4d4"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"331d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("a417"));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=/^[0-9]*$/g;return"number"===typeof t||e.test(t)?t+"px":t},r={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:function(){return{icons:n.default.glyphs}},computed:{unicode:function(){var t=this,e=this.icons.find((function(e){return e.font_class===t.type}));return e?unescape("%u".concat(e.unicode)):""},iconSize:function(){return a(this.size)}},methods:{_onClick:function(){this.$emit("click")}}};e.default=r},3331:function(t,e,i){"use strict";i.r(e);var n=i("4615"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"337d":function(t,e,i){"use strict";i.r(e);var n=i("845b"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"33f1":function(t,e,i){"use strict";i.r(e);var n=i("18a1"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},3410:function(t,e,i){"use strict";i.r(e);var n=i("8a3a"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"355e":function(t,e,i){"use strict";i.r(e);var n=i("f63a"),s=i("d1dd");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},3588:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniRate:i("e22a").default,uniDateformat:i("3a22").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._$s(1,"i",t.item.comment_count)?i("view",t._l(t._$s(2,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(2,"f",{forIndex:s,key:n}),staticClass:t._$s("2-"+a,"sc","margin-bottom-22 under-line padding-22"),attrs:{_i:"2-"+a}},[i("view",{staticClass:t._$s("3-"+a,"sc","ti-flex"),attrs:{_i:"3-"+a}},[i("image",{staticClass:t._$s("4-"+a,"sc","user-avatar"),attrs:{src:t._$s("4-"+a,"a-src",e.user.avatar),_i:"4-"+a}}),i("view",{staticClass:t._$s("5-"+a,"sc","margin-left-12 flex-1"),attrs:{_i:"5-"+a}},[i("view",[i("text",[t._v(t._$s("7-"+a,"t0-0",t._s(e.user.nickname)))])]),i("uni-rate",{attrs:{size:"12",value:e.rate,readonly:!0,_i:"8-"+a}})],1),i("uni-dateformat",{staticClass:t._$s("9-"+a,"sc","font-24 colorGray"),attrs:{date:e.create_date,format:"yyyy-MM-dd",_i:"9-"+a}})],1),i("view",{staticClass:t._$s("10-"+a,"sc","font-24 margin-top-6 padding-lr-10"),attrs:{_i:"10-"+a}},[i("text",[t._v(t._$s("11-"+a,"t0-0",t._s(e.content)))])]),t._$s("12-"+a,"i",e.reply)?i("view",{staticClass:t._$s("12-"+a,"sc","font-24 margin-top-6 padding-lr-10"),attrs:{_i:"12-"+a}},[i("text",[t._v(t._$s("13-"+a,"t0-0",t._s(e.reply)))])]):t._e()])})),0):i("view",{staticClass:t._$s(14,"sc","text-center padding-24"),attrs:{_i:14}},[i("text")])])},a=[]},"36aa":function(t,e,i){"use strict";i.r(e);var n=i("81de"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"36ef":function(t,e,i){"use strict";i.r(e);var n=i("e583"),s=i("5492");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},3758:function(t,e,i){"use strict";i.r(e);var n=i("857d"),s=i("bf90");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"37dc":function(t,e,i){"use strict";(function(t){function i(t,e){return o(t)||r(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){s=!0,a=c}finally{try{n||null==o["return"]||o["return"]()}finally{if(s)throw a}}return i}}function o(t){if(Array.isArray(t))return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,i){return e&&u(t.prototype,e),i&&u(t,i),t}Object.defineProperty(e,"__esModule",{value:!0}),e.compileI18nJsonStr=N,e.hasI18nJson=M,e.initVueI18n=E,e.isI18nStr=B,e.normalizeLocale=P,e.parseI18nJson=R,e.resolveLocale=V,e.isString=e.LOCALE_ZH_HANT=e.LOCALE_ZH_HANS=e.LOCALE_FR=e.LOCALE_ES=e.LOCALE_EN=e.I18n=e.Formatter=void 0;var d=Array.isArray,f=function(t){return null!==t&&"object"===typeof t},h=["{","}"],_=function(){function t(){c(this,t),this._caches=Object.create(null)}return l(t,[{key:"interpolate",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;if(!e)return[t];var n=this._caches[t];return n||(n=g(t,i),this._caches[t]=n),v(n,e)}}]),t}();e.Formatter=_;var p=/^(?:\d)+/,m=/^(?:\w)+/;function g(t,e){var n=i(e,2),s=n[0],a=n[1],r=[],o=0,c="";while(o<t.length){var u=t[o++];if(u===s){c&&r.push({type:"text",value:c}),c="";var l="";u=t[o++];while(void 0!==u&&u!==a)l+=u,u=t[o++];var d=u===a,f=p.test(l)?"list":d&&m.test(l)?"named":"unknown";r.push({value:l,type:f})}else c+=u}return c&&r.push({type:"text",value:c}),r}function v(t,e){var i=[],n=0,s=d(e)?"list":f(e)?"named":"unknown";if("unknown"===s)return i;while(n<t.length){var a=t[n];switch(a.type){case"text":i.push(a.value);break;case"list":i.push(e[parseInt(a.value,10)]);break;case"named":"named"===s&&i.push(e[a.value]);break;case"unknown":0;break}n++}return i}var b="zh-Hans";e.LOCALE_ZH_HANS=b;var y="zh-Hant";e.LOCALE_ZH_HANT=y;var w="en";e.LOCALE_EN=w;var $="fr";e.LOCALE_FR=$;var x="es";e.LOCALE_ES=x;var k=Object.prototype.hasOwnProperty,C=function(t,e){return k.call(t,e)},S=new _;function O(t,e){return!!e.find((function(e){return-1!==t.indexOf(e)}))}function I(t,e){return e.find((function(e){return 0===t.indexOf(e)}))}function P(t,e){if(t){if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if(t=t.toLowerCase(),0===t.indexOf("zh"))return t.indexOf("-hans")>-1?b:t.indexOf("-hant")>-1||O(t,["-tw","-hk","-mo","-cht"])?y:b;var i=I(t,[w,$,x]);return i||void 0}}var T=function(){function t(e){var i=e.locale,n=e.fallbackLocale,s=e.messages,a=e.watcher,r=e.formater;c(this,t),this.locale=w,this.fallbackLocale=w,this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=r||S,this.messages=s||{},this.setLocale(i||w),a&&this.watchLocale(a)}return l(t,[{key:"setLocale",value:function(t){var e=this,i=this.locale;this.locale=P(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach((function(t){t(e.locale,i)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(t){var e=this,i=this.watchers.push(t)-1;return function(){e.watchers.splice(i,1)}}},{key:"add",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.messages[t];n?i?Object.assign(n,e):Object.keys(e).forEach((function(t){C(n,t)||(n[t]=e[t])})):this.messages[t]=e}},{key:"f",value:function(t,e,i){return this.formater.interpolate(t,e,i).join("")}},{key:"t",value:function(t,e,i){var n=this.message;return"string"===typeof e?(e=P(e,this.messages),e&&(n=this.messages[e])):i=e,C(n,t)?this.formater.interpolate(n[t],i).join(""):(console.warn("Cannot translate the value of keypath ".concat(t,". Use the value of keypath as default.")),t)}}]),t}();function D(t,e){t.$watchLocale?t.$watchLocale((function(t){e.setLocale(t)})):t.$watch((function(){return t.$locale}),(function(t){e.setLocale(t)}))}function j(){return"undefined"!==typeof uni&&uni.getLocale?uni.getLocale():"undefined"!==typeof t&&t.getLocale?t.getLocale():w}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("string"!==typeof t){var s=[e,t];t=s[0],e=s[1]}"string"!==typeof t&&(t=j()),"string"!==typeof i&&(i="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||w);var a=new T({locale:t,fallbackLocale:i,messages:e,watcher:n}),r=function(t,e){if("function"!==typeof getApp)r=function(t,e){return a.t(t,e)};else{var i=!1;r=function(t,e){var n=getApp().$vm;return n&&(n.$locale,i||(i=!0,D(n,a))),a.t(t,e)}}return r(t,e)};return{i18n:a,f:function(t,e,i){return a.f(t,e,i)},t:function(t,e){return r(t,e)},add:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a.add(t,e,i)},watch:function(t){return a.watchLocale(t)},getLocale:function(){return a.getLocale()},setLocale:function(t){return a.setLocale(t)}}}e.I18n=T;var L,A=function(t){return"string"===typeof t};function M(t,e){return L||(L=new _),G(t,(function(t,i){var n=t[i];return A(n)?!!B(n,e)||void 0:M(n,e)}))}function R(t,e,i){return L||(L=new _),G(t,(function(t,n){var s=t[n];A(s)?B(s,i)&&(t[n]=F(s,e,i)):R(s,e,i)})),t}function N(t,e){var i=e.locale,n=e.locales,s=e.delimiters;if(!B(t,s))return t;L||(L=new _);var a=[];Object.keys(n).forEach((function(t){t!==i&&a.push({locale:t,values:n[t]})})),a.unshift({locale:i,values:n[i]});try{return JSON.stringify(U(JSON.parse(t),a,s),null,2)}catch(r){}return t}function B(t,e){return t.indexOf(e[0])>-1}function F(t,e,i){return L.interpolate(t,e,i).join("")}function z(t,e,i,n){var s=t[e];if(A(s)){if(B(s,n)&&(t[e]=F(s,i[0].values,n),i.length>1)){var a=t[e+"Locales"]={};i.forEach((function(t){a[t.locale]=F(s,t.values,n)}))}}else U(s,i,n)}function U(t,e,i){return G(t,(function(t,n){z(t,n,e,i)})),t}function G(t,e){if(d(t)){for(var i=0;i<t.length;i++)if(e(t,i))return!0}else if(f(t))for(var n in t)if(e(t,n))return!0;return!1}function V(t){return function(e){return e?(e=P(e)||e,q(e).find((function(e){return t.indexOf(e)>-1}))):e}}function q(t){var e=[],i=t.split("-");while(i.length)e.push(i.join("-")),i.pop();return e}e.isString=A}).call(this,i("c8ba"))},3821:function(t,e,i){"use strict";i.r(e);var n=i("a6e4"),s=i("a566");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"38ed":function(t,e,i){"use strict";i.r(e);var n=i("a03c"),s=i("2919");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},3917:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIndexedList:i("11f4").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-indexed-list",{attrs:{options:t.dataList,showSelect:!1,_i:1},on:{click:t.chooseCity}})],1)},a=[]},3945:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,uniLoadMore:i("458a").default,uniLink:i("951f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[i("unicloud-db",{ref:"udb",attrs:{options:t.options,collection:"uni-id-address,opendb-city-china",field:"user_id,name,alias,mobile,mobile_area_code,province_code,city_code,area_code{name},address,formatted_address,zip_code,email,is_default",where:t.queryWhere,getone:!0,manual:!0,_i:1},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=e.error;e.options;return[n._$s("2-"+s,"i",o)?i("view",{attrs:{_i:"2-"+s}},[t._v(n._$s("2-"+s,"t0-0",t._s(o.message)))]):n._$s(3,"e",r)?i("view",{attrs:{_i:3}},[i("uni-load-more",{attrs:{contentText:t.loadMore,status:"loading",_i:4}})],1):n._$s(5,"e",a)?i("view",{attrs:{_i:5}},[i("view",{attrs:{_i:6}},[i("text",{attrs:{_i:7}},[t._v("user_id:")]),i("text",{attrs:{_i:8}},[t._v(n._$s("8-"+s,"t0-0",t._s(a.user_id)))])]),i("view",{attrs:{_i:9}},[i("text",{attrs:{_i:10}},[t._v("\u6536\u8d27\u4eba:")]),i("text",{attrs:{_i:11}},[t._v(n._$s("11-"+s,"t0-0",t._s(a.name)))])]),i("view",{attrs:{_i:12}},[i("text",{attrs:{_i:13}},[t._v("\u5730\u5740\u522b\u540d:")]),i("text",{attrs:{_i:14}},[t._v(n._$s("14-"+s,"t0-0",t._s(a.alias)))])]),i("view",{attrs:{_i:15}},[i("text",{attrs:{_i:16}},[t._v("\u624b\u673a\u53f7:")]),i("text",{attrs:{_i:17}},[t._v(n._$s("17-"+s,"t0-0",t._s(a.mobile)))])]),i("view",{attrs:{_i:18}},[i("text",{attrs:{_i:19}},[t._v("\u56fd\u9645\u533a\u53f7:")]),i("text",{attrs:{_i:20}},[t._v(n._$s("20-"+s,"t0-0",t._s(a.mobile_area_code)))])]),i("view",{attrs:{_i:21}},[i("text",{attrs:{_i:22}},[t._v("\u7701:")]),i("text",{attrs:{_i:23}},[t._v(n._$s("23-"+s,"t0-0",t._s(a.province_code)))])]),i("view",{attrs:{_i:24}},[i("text",{attrs:{_i:25}},[t._v("\u5e02:")]),i("text",{attrs:{_i:26}},[t._v(n._$s("26-"+s,"t0-0",t._s(a.city_code)))])]),i("view",{attrs:{_i:27}},[i("text",{attrs:{_i:28}},[t._v("\u7701\u5e02\u533a:")]),i("text",{attrs:{_i:29}},[t._v(n._$s("29-"+s,"t0-0",t._s(a.area_code[0].name)))])]),i("view",{attrs:{_i:30}},[i("text",{attrs:{_i:31}},[t._v("\u8be6\u7ec6\u4f4f\u5740:")]),i("text",{attrs:{_i:32}},[t._v(n._$s("32-"+s,"t0-0",t._s(a.address)))])]),i("view",{attrs:{_i:33}},[i("text",{attrs:{_i:34}},[t._v("formatted_address:")]),i("text",{attrs:{_i:35}},[t._v(n._$s("35-"+s,"t0-0",t._s(a.formatted_address)))])]),i("view",{attrs:{_i:36}},[i("text",{attrs:{_i:37}},[t._v("\u90ae\u7f16:")]),i("text",{attrs:{_i:38}},[t._v(n._$s("38-"+s,"t0-0",t._s(a.zip_code)))])]),i("view",{attrs:{_i:39}},[i("text",{attrs:{_i:40}},[t._v("\u90ae\u7bb1:")]),i("uni-link",{attrs:{href:"mailto:"+a.email,text:a.email,_i:41}})],1),i("view",{attrs:{_i:42}},[i("text",{attrs:{_i:43}},[t._v("\u9ed8\u8ba4\u5730\u5740:")]),i("text",{attrs:{_i:44}},[t._v(n._$s("44-"+s,"t0-0",t._s(1==a.is_default?"\u2705":"\u274c")))])])]):t._e()]}}])}),i("view",{staticClass:t._$s(45,"sc","btns"),attrs:{_i:45}},[i("button",{attrs:{_i:46},on:{click:t.handleUpdate}}),i("button",{staticClass:t._$s(47,"sc","btn-delete"),attrs:{_i:47},on:{click:t.handleDelete}})])],1)},a=[]},3962:function(t,e,i){"use strict";i.r(e);var n=i("0a4f"),s=i("4868");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"5a7b5562",null,!1,n["a"],r);e["default"]=c.exports},"39a0":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(i("a34a")),a=r(i("40b2"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function c(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){o(a,n,s,r,c,"next",t)}function c(t){o(a,n,s,r,c,"throw",t)}r(void 0)}))}}function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f=t.database(),h={data:function(){return{where:"",bgStyle:"",dataList:[],status:"more",options:{bg_class_name:"",adClassName:"",mode:"default",category_id:"",loadmore:!0,limit:10}}},props:{configs:{type:Object,default:function(){return{}}},items:{type:Array,default:function(){return[]}},refresh:{type:Number,default:0},loadmore:{type:Number,default:0}},watch:{refresh:function(){n("log","article refresh"," at uni_modules/tian-article/components/tian-article/tian-article.vue:79"),this.page=0,this.status="loading",this.loadData()},loadmore:function(){n("log","loadmore"," at uni_modules/tian-article/components/tian-article/tian-article.vue:87"),this.options.loadmore&&this.loadData()},newReadId:function(t){n("log","article watch newReadId",t," at uni_modules/tian-article/components/tian-article/tian-article.vue:94"),this.dataList.forEach((function(e){e.read||(e.read=-1!=t.indexOf(e._id),e.read&&(e.className+=" read"))}))}},computed:{adConfig:function(){return!!(this.$store.state&&this.$store.state.app.adConfig&&this.$store.state.app.adConfig.article&&this.$store.state.app.adConfig.article.list)&&this.$store.state.app.adConfig.article.list},newReadId:function(){return this.$store.state.mall.articleRead}},created:function(){n("log","article created",this.configs," at uni_modules/tian-article/components/tian-article/tian-article.vue:121"),this.items&&this.items.length>0?(this.dataList=this.items,this.buildData(this.dataList)):this.configs&&(this.options=Object.assign(this.options,l({},this.configs)),this.loadData())},methods:{bgClick:function(){this.options.top_url&&this.navTo(this.options.top_url)},loadData:function(){var t=this;return c(s.default.mark((function e(){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.options.background_img&&(t.bgStyle="background:url(".concat(t.options.background_img,") no-repeat ;    background-size: 100%;")),"noMore"!=t.status){e.next=4;break}return n("log","\u6ca1\u6709\u66f4\u591a\u4e86"," at uni_modules/tian-article/components/tian-article/tian-article.vue:147"),e.abrupt("return");case 4:t.status="loading",t.page++,f.action("article_read_check").collection("opendb-news-articles").where('article_status==1 && category_id=="'.concat(t.options.category_id,'"')).field("avatar,title,excerpt,publish_date,view_count,source_from").skip((t.page-1)*t.options.limit).limit(t.options.limit).orderBy("publish_date desc").get().then((function(e){var i=e.result;n("log","article \u67e5\u8be2\u5b8c\u6bd5"," at uni_modules/tian-article/components/tian-article/tian-article.vue:163"),i.data.length<t.options.limit?t.status="noMore":t.status="more",t.buildData(i.data),1==t.page?t.dataList=i.data:t.dataList=t.dataList.concat(i.data)}));case 7:case"end":return e.stop()}}),e)})))()},buildData:function(t){var e=this,i=0;this.adConfig&&(i=parseInt(this.options.limit/this.adConfig.length)),t.forEach((function(n,s){n.style=e.configs.style,n.className=[],n.read=!!n.read,s==t.length-1&&n.className.push("last"),n.read&&n.className.push("read"),n.layout=e.getConfigWithIndex(s),n.className.push(n.layout.className),n.className=n.className.join(" "),n.avatar=e.$thumbImg(n.avatar,n.layout.image),"object"==typeof n.user_id&&(n.user_id&&n.user_id.length>0?n.user_id=n.user_id[0].nickname:n.user_id="\u7cfb\u7edf"),n.adpid=!1,e.adConfig&&i>0&&(s+1)%i==0&&(n.adpid=e.adConfig[parseInt((s+1)/i)%e.adConfig.length]),n.publish_date=e.$dateFormat("Y-m-d",n.publish_date)}))},navToDetail:function(t){n("log","navToDetail",t," at uni_modules/tian-article/components/tian-article/tian-article.vue:216"),this.navTo("/uni_modules/tian-article/pages/article/detail?id="+t._id,t)},getConfigWithIndex:function(t){var e=a.default[this.options.mode];return e[t%e.length]}}};e.default=h}).call(this,i("a9ff")["default"],i("0de9")["default"])},"3a22":function(t,e,i){"use strict";i.r(e);var n=i("6cc1"),s=i("6c13");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"3a68":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniPopup:i("36ef").default,uniRate:i("e22a").default,uniEasyinput:i("549f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","cart-goods-list-container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","cart-goods-list"),attrs:{_i:1}},t._l(t._$s(2,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(2,"f",{forIndex:s,key:n}),staticClass:t._$s("2-"+a,"sc","goods"),attrs:{_i:"2-"+a}},[i("image",{staticClass:t._$s("3-"+a,"sc","image-width-168 goods-image"),attrs:{src:t._$s("3-"+a,"a-src",e.goods_thumb),_i:"3-"+a},on:{click:function(i){return t.navToDetail(e)}}}),i("view",{staticClass:t._$s("4-"+a,"sc","goods-content"),attrs:{_i:"4-"+a}},[i("view",{staticClass:t._$s("5-"+a,"sc","title"),attrs:{_i:"5-"+a},on:{click:function(i){return t.navToDetail(e)}}},[i("text",[t._v(t._$s("6-"+a,"t0-0",t._s(e.name)))])]),i("view",[t._$s("8-"+a,"i",e.sku_name)?i("text",{staticClass:t._$s("8-"+a,"sc","sub-title"),attrs:{_i:"8-"+a}},[t._v(t._$s("8-"+a,"t0-0",t._s(e.sku_name)))]):t._e(),t._$s("9-"+a,"i",e.subTitle)?i("text",{staticClass:t._$s("9-"+a,"sc","sub-title colorRed margin-left-10"),attrs:{_i:"9-"+a}},[t._v(t._$s("9-"+a,"t0-0",t._s(e.subTitle)))]):t._e()]),i("view",{staticClass:t._$s("10-"+a,"sc","ti-flex"),attrs:{_i:"10-"+a}},[i("view",{staticClass:t._$s("11-"+a,"sc","flex-1"),attrs:{_i:"11-"+a}}),i("button",{attrs:{_i:"12-"+a},on:{click:function(i){return t.comment(e)}}})])])])})),0),i("uni-popup",{ref:"popup",attrs:{type:"bottom",_i:13}},[i("view",{staticClass:t._$s(14,"sc","bg-white border-radius"),attrs:{_i:14}},[i("view",{staticClass:t._$s(15,"sc","header text-center padding-22 font-32"),attrs:{_i:15}},[i("text")]),i("view",{staticClass:t._$s(17,"sc","content padding-22"),attrs:{_i:17}},[i("view",{staticClass:t._$s(18,"sc","ti-flex"),attrs:{_i:18}},[i("text"),i("uni-rate",{staticClass:t._$s(20,"sc","margin-left-18"),attrs:{_i:20},on:{change:t.changeRate},model:{value:t._$s(20,"v-model",t.formData.rate),callback:function(e){t.$set(t.formData,"rate",e)},expression:"formData.rate"}}),i("text",{staticClass:t._$s(21,"sc","margin-left-18"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.rateString)))])],1),i("view",{staticClass:t._$s(22,"sc","margin-top-18"),attrs:{_i:22}},[i("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u8bc4\u4ef7",_i:23},model:{value:t._$s(23,"v-model",t.formData.comment),callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),i("view",{staticClass:t._$s(24,"sc","btns ti-flex margin-top-18"),attrs:{_i:24}},[i("button",{staticClass:t._$s(25,"sc","flex-1"),attrs:{_i:25},on:{click:t.cancel}}),i("button",{staticClass:t._$s(26,"sc","flex-1 margin-left-20"),attrs:{_i:26},on:{click:t.submit}})])])])])],1)},a=[]},"3ae6":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("2e4f");function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=t.database(),u="tian-mall-shop-apply";function l(t){var e={};for(var i in s.validator)t.indexOf(i)>-1&&(e[i]=s.validator[i]);return e}var d={data:function(){return{id:!1,address:{},formData:{id:null,address:null,name:"",phone:"",src:"",state:-1,business_license:"",food_license:"",legal_person_license:"",legal_person_license_back:"",modified:null},formOptions:{},rules:r({},l(["id","address","name","phone","src","business_license","food_license","legal_person_license","legal_person_license_back","modified"]))}},onLoad:function(t){t&&t.id&&(this.id=t.id,this.setFormData(this.getItemData()),this.loadData())},computed:{isDisable:function(){return this.id&&0==this.formData.state}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{setFormData:function(t){this.address=t.address,delete t.address,this.formData=t},loadData:function(){var t=this;c.collection(u).doc(this.id).get({getOne:!0}).then((function(e){var i=e.result;t.setFormData(i.data)}))},chooseLocation:function(){var t=this;this.isDisable||uni.chooseLocation({success:function(e){n("log",e," at pages/enterprise/apply.vue:170"),t.address={name:e.name,address:e.address,latitude:e.latitude,longitude:e.longitude}}})},submit:function(){var t=this;this.address.name?(uni.showLoading({mask:!0}),this.$refs.form.submit().then((function(e){e.address=t.address,t.id?t.editForm(e):t.submitForm(e)})).catch((function(t){uni.hideLoading()}))):this.$message("\u5e97\u94fa\u5730\u5740\u5fc5\u586b")},editForm:function(t){delete t._id,c.action("shop_apply").collection(u).doc(this.id).update(t).then((function(t){uni.showToast({icon:"success",title:"\u91cd\u65b0\u7533\u8bf7\u6210\u529f"}),setTimeout((function(){return uni.navigateBack()}),1500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},submitForm:function(t){c.action("genId,shop_apply").collection(u).add(t).then((function(t){uni.showToast({icon:"success",title:"\u7533\u8bf7\u6210\u529f"}),setTimeout((function(){return uni.navigateBack()}),1500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=d}).call(this,i("a9ff")["default"],i("0de9")["default"])},"3b3b":function(t,e,i){"use strict";i.r(e);var n=i("4ea5"),s=i("fc08");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"3bc9":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-goods-nav"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-tab__seat"),attrs:{_i:1}}),i("view",{staticClass:t._$s(2,"sc","uni-tab__cart-box flex"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","flex uni-tab__cart-sub-left"),attrs:{_i:3}},t._l(t._$s(4,"f",{forItems:t.options}),(function(e,n,s,a){return i("view",{key:t._$s(4,"f",{forIndex:s,key:n}),staticClass:t._$s("4-"+a,"sc","flex uni-tab__cart-button-left uni-tab__shop-cart"),attrs:{_i:"4-"+a},on:{click:function(i){return t.onClick(n,e)}}},[i("view",{staticClass:t._$s("5-"+a,"sc","uni-tab__icon"),attrs:{_i:"5-"+a}},[i("tian-icons",{attrs:{type:e.icon,size:"20",color:e.color?e.color:"#646566",_i:"6-"+a}})],1),i("text",{staticClass:t._$s("7-"+a,"sc","uni-tab__text"),attrs:{_i:"7-"+a}},[t._v(t._$s("7-"+a,"t0-0",t._s(e.text)))]),i("view",{staticClass:t._$s("8-"+a,"sc","flex uni-tab__dot-box"),attrs:{_i:"8-"+a}},[t._$s("9-"+a,"i",e.info)?i("text",{staticClass:t._$s("9-"+a,"sc","uni-tab__dot "),class:t._$s("9-"+a,"c",{"uni-tab__dots":e.info>9}),style:t._$s("9-"+a,"s",{backgroundColor:e.infoBackgroundColor?e.infoBackgroundColor:"#ff0000",color:e.infoColor?e.infoColor:"#fff"}),attrs:{_i:"9-"+a}},[t._v(t._$s("9-"+a,"t0-0",t._s(e.info)))]):t._e()])])})),0),i("view",{staticClass:t._$s(10,"sc","flex uni-tab__cart-sub-right "),class:t._$s(10,"c",{"uni-tab__right":t.fill}),attrs:{_i:10}},t._l(t._$s(11,"f",{forItems:t.buttonGroup}),(function(e,n,s,a){return i("view",{key:t._$s(11,"f",{forIndex:s,key:n}),staticClass:t._$s("11-"+a,"sc","flex uni-tab__cart-button-right"),style:t._$s("11-"+a,"s",{backgroundColor:e.backgroundColor,color:e.color}),attrs:{_i:"11-"+a},on:{click:function(i){return t.buttonClick(n,e)}}},[i("text",{staticClass:t._$s("12-"+a,"sc","uni-tab__cart-button-right-text"),style:t._$s("12-"+a,"s",{color:e.color}),attrs:{_i:"12-"+a}},[t._v(t._$s("12-"+a,"t0-0",t._s(e.text)))])])})),0)])])},a=[]},"3c57":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-swiper__warp"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i","default"===t.mode)?i("view",{key:"default",staticClass:t._$s(2,"sc","uni-swiper__dots-box"),style:t._$s(2,"s",{bottom:t.dots.bottom+"px"}),attrs:{_i:2}},t._l(t._$s(3,"f",{forItems:t.info}),(function(e,n,s,a){return i("view",{key:t._$s(3,"f",{forIndex:s,key:n}),staticClass:t._$s("3-"+a,"sc","uni-swiper__dots-item uni-swiper__dots-bar"),style:t._$s("3-"+a,"s",{width:(n===t.current?2*t.dots.width:t.dots.width)+"px",height:t.dots.width/2+"px","background-color":n!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,"border-radius":"0px"}),attrs:{_i:"3-"+a},on:{click:function(e){return t.clickItem(n)}}})})),0):t._e(),t._$s(4,"i","dot"===t.mode)?i("view",{key:"dot",staticClass:t._$s(4,"sc","uni-swiper__dots-box"),style:t._$s(4,"s",{bottom:t.dots.bottom+"px"}),attrs:{_i:4}},t._l(t._$s(5,"f",{forItems:t.info}),(function(e,n,s,a){return i("view",{key:t._$s(5,"f",{forIndex:s,key:n}),staticClass:t._$s("5-"+a,"sc","uni-swiper__dots-item"),style:t._$s("5-"+a,"s",{width:t.dots.width+"px",height:t.dots.height+"px","background-color":n!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:n!==t.current?t.dots.border:t.dots.selectedBorder}),attrs:{_i:"5-"+a},on:{click:function(e){return t.clickItem(n)}}})})),0):t._e(),t._$s(6,"i","round"===t.mode)?i("view",{key:"round",staticClass:t._$s(6,"sc","uni-swiper__dots-box"),style:t._$s(6,"s",{bottom:t.dots.bottom+"px"}),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.info}),(function(e,n,s,a){return i("view",{key:t._$s(7,"f",{forIndex:s,key:n}),staticClass:t._$s("7-"+a,"sc","uni-swiper__dots-item "),class:t._$s("7-"+a,"c",[n===t.current&&"uni-swiper__dots-long"]),style:t._$s("7-"+a,"s",{width:(n===t.current?3*t.dots.width:t.dots.width)+"px",height:t.dots.height+"px","background-color":n!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:n!==t.current?t.dots.border:t.dots.selectedBorder}),attrs:{_i:"7-"+a},on:{click:function(e){return t.clickItem(n)}}})})),0):t._e(),t._$s(8,"i","nav"===t.mode)?i("view",{key:"nav",staticClass:t._$s(8,"sc","uni-swiper__dots-box uni-swiper__dots-nav"),style:t._$s(8,"s",{"background-color":t.dotsStyles.backgroundColor,bottom:"0"}),attrs:{_i:8}},[i("text",{staticClass:t._$s(9,"sc","uni-swiper__dots-nav-item"),style:t._$s(9,"s",{color:t.dotsStyles.color}),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s(t.current+1+"/"+t.info.length+" "+t.info[t.current][t.field])))])]):t._e(),t._$s(10,"i","indexes"===t.mode)?i("view",{key:"indexes",staticClass:t._$s(10,"sc","uni-swiper__dots-box"),style:t._$s(10,"s",{bottom:t.dots.bottom+"px"}),attrs:{_i:10}},t._l(t._$s(11,"f",{forItems:t.info}),(function(e,n,s,a){return i("view",{key:t._$s(11,"f",{forIndex:s,key:n}),staticClass:t._$s("11-"+a,"sc","uni-swiper__dots-item uni-swiper__dots-indexes"),style:t._$s("11-"+a,"s",{width:t.dots.width+"px",height:t.dots.height+"px",color:n===t.current?t.dots.selectedColor:t.dots.color,"background-color":n!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:n!==t.current?t.dots.border:t.dots.selectedBorder}),attrs:{_i:"11-"+a},on:{click:function(e){return t.clickItem(n)}}},[i("text",{staticClass:t._$s("12-"+a,"sc","uni-swiper__dots-indexes-text"),attrs:{_i:"12-"+a}},[t._v(t._$s("12-"+a,"t0-0",t._s(n+1)))])])})),0):t._e()],2)},a=[]},"3c69":function(t,e,i){"use strict";function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={};(function(){function t(t){this.mode=i.MODE_8BIT_BYTE,this.data=t}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}t.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},e.prototype={addData:function(e){var i=new t(e);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=d.getRSBlocks(t,this.errorCorrectLevel),i=new f,n=0,s=0;s<e.length;s++)n+=e[s].dataCount;for(s=0;s<this.dataList.length;s++){var a=this.dataList[s];i.put(a.mode,4),i.put(a.getLength(),o.getLengthInBits(a.mode,t)),a.write(i)}if(i.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[n][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=o.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},createMovieClip:function(t,e,i){var n=t.createEmptyMovieClip(e,i),s=1;this.make();for(var a=0;a<this.modules.length;a++)for(var r=a*s,o=0;o<this.modules[a].length;o++){var c=o*s,u=this.modules[a][o];u&&(n.beginFill(0,100),n.moveTo(c,r),n.lineTo(c+s,r),n.lineTo(c+s,r+s),n.lineTo(c,r+s),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=o.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],s=t[i];if(null==this.modules[n][s])for(var a=-2;a<=2;a++)for(var r=-2;r<=2;r++)this.modules[n+a][s+r]=-2==a||2==a||-2==r||2==r||0==a&&0==r}},setupTypeNumber:function(t){for(var e=o.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=o.getBCHTypeInfo(i),s=0;s<15;s++){var a=!t&&1==(n>>s&1);s<6?this.modules[s][8]=a:s<8?this.modules[s+1][8]=a:this.modules[this.moduleCount-15+s][8]=a}for(s=0;s<15;s++){a=!t&&1==(n>>s&1);s<8?this.modules[8][this.moduleCount-s-1]=a:s<9?this.modules[8][15-s-1+1]=a:this.modules[8][15-s-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,s=7,a=0,r=this.moduleCount-1;r>0;r-=2){6==r&&r--;while(1){for(var c=0;c<2;c++)if(null==this.modules[n][r-c]){var u=!1;a<t.length&&(u=1==(t[a]>>>s&1));var l=o.getMask(e,n,r-c);l&&(u=!u),this.modules[n][r-c]=u,s--,-1==s&&(a++,s=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,i,n){for(var s=d.getRSBlocks(t,i),a=new f,r=0;r<n.length;r++){var c=n[r];a.put(c.mode,4),a.put(c.getLength(),o.getLengthInBits(c.mode,t)),c.write(a)}var u=0;for(r=0;r<s.length;r++)u+=s[r].dataCount;if(a.getLengthInBits()>8*u)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*u+")");a.getLengthInBits()+4<=8*u&&a.put(0,4);while(a.getLengthInBits()%8!=0)a.putBit(!1);while(1){if(a.getLengthInBits()>=8*u)break;if(a.put(e.PAD0,8),a.getLengthInBits()>=8*u)break;a.put(e.PAD1,8)}return e.createBytes(a,s)},e.createBytes=function(t,e){for(var i=0,n=0,s=0,a=new Array(e.length),r=new Array(e.length),c=0;c<e.length;c++){var u=e[c].dataCount,d=e[c].totalCount-u;n=Math.max(n,u),s=Math.max(s,d),a[c]=new Array(u);for(var f=0;f<a[c].length;f++)a[c][f]=255&t.buffer[f+i];i+=u;var h=o.getErrorCorrectPolynomial(d),_=new l(a[c],h.getLength()-1),p=_.mod(h);r[c]=new Array(h.getLength()-1);for(f=0;f<r[c].length;f++){var m=f+p.getLength()-r[c].length;r[c][f]=m>=0?p.get(m):0}}var g=0;for(f=0;f<e.length;f++)g+=e[f].totalCount;var v=new Array(g),b=0;for(f=0;f<n;f++)for(c=0;c<e.length;c++)f<a[c].length&&(v[b++]=a[c][f]);for(f=0;f<s;f++)for(c=0;c<e.length;c++)f<r[c].length&&(v[b++]=r[c][f]);return v};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(o.getBCHDigit(e)-o.getBCHDigit(o.G15)>=0)e^=o.G15<<o.getBCHDigit(e)-o.getBCHDigit(o.G15);return(t<<10|e)^o.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(o.getBCHDigit(e)-o.getBCHDigit(o.G18)>=0)e^=o.G18<<o.getBCHDigit(e)-o.getBCHDigit(o.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return o.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case a.PATTERN000:return(e+i)%2==0;case a.PATTERN001:return e%2==0;case a.PATTERN010:return i%3==0;case a.PATTERN011:return(e+i)%3==0;case a.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case a.PATTERN101:return e*i%2+e*i%3==0;case a.PATTERN110:return(e*i%2+e*i%3)%2==0;case a.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new l([1],0),i=0;i<t;i++)e=e.multiply(new l([1,c.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var s=0;s<e;s++){for(var a=0,r=t.isDark(n,s),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var c=-1;c<=1;c++)s+c<0||e<=s+c||0==o&&0==c||r==t.isDark(n+o,s+c)&&a++;a>5&&(i+=3+a-5)}for(n=0;n<e-1;n++)for(s=0;s<e-1;s++){var u=0;t.isDark(n,s)&&u++,t.isDark(n+1,s)&&u++,t.isDark(n,s+1)&&u++,t.isDark(n+1,s+1)&&u++,0!=u&&4!=u||(i+=3)}for(n=0;n<e;n++)for(s=0;s<e-6;s++)t.isDark(n,s)&&!t.isDark(n,s+1)&&t.isDark(n,s+2)&&t.isDark(n,s+3)&&t.isDark(n,s+4)&&!t.isDark(n,s+5)&&t.isDark(n,s+6)&&(i+=40);for(s=0;s<e;s++)for(n=0;n<e-6;n++)t.isDark(n,s)&&!t.isDark(n+1,s)&&t.isDark(n+2,s)&&t.isDark(n+3,s)&&t.isDark(n+4,s)&&!t.isDark(n+5,s)&&t.isDark(n+6,s)&&(i+=40);var l=0;for(s=0;s<e;s++)for(n=0;n<e;n++)t.isDark(n,s)&&l++;var d=Math.abs(100*l/e/e-50)/5;return i+=10*d,i}},c={glog:function(t){if(t<1)throw new Error("glog("+t+")");return c.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return c.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},u=0;u<8;u++)c.EXP_TABLE[u]=1<<u;for(u=8;u<256;u++)c.EXP_TABLE[u]=c.EXP_TABLE[u-4]^c.EXP_TABLE[u-5]^c.EXP_TABLE[u-6]^c.EXP_TABLE[u-8];for(u=0;u<255;u++)c.LOG_TABLE[c.EXP_TABLE[u]]=u;function l(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var i=0;while(i<t.length&&0==t[i])i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function d(t,e){this.totalCount=t,this.dataCount=e}function f(){this.buffer=new Array,this.length=0}function h(t){for(var e,i="",n=0;n<t.length;n++)e=t.charCodeAt(n),e>=1&&e<=127?i+=t.charAt(n):e>2047?(i+=String.fromCharCode(224|e>>12&15),i+=String.fromCharCode(128|e>>6&63),i+=String.fromCharCode(128|e>>0&63)):(i+=String.fromCharCode(192|e>>6&31),i+=String.fromCharCode(128|e>>0&63));return i}l.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=c.gexp(c.glog(this.get(i))+c.glog(t.get(n)));return new l(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=c.glog(this.get(0))-c.glog(t.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<t.getLength();n++)i[n]^=c.gexp(c.glog(t.get(n))+e);return new l(i,0).mod(t)}},d.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],d.getRSBlocks=function(t,e){var i=d.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=i.length/3,s=new Array,a=0;a<n;a++)for(var r=i[3*a+0],o=i[3*a+1],c=i[3*a+2],u=0;u<r;u++)s.push(new d(o,c));return s},d.getRsBlockTable=function(t,e){switch(e){case n.L:return d.RS_BLOCK_TABLE[4*(t-1)+0];case n.M:return d.RS_BLOCK_TABLE[4*(t-1)+1];case n.Q:return d.RS_BLOCK_TABLE[4*(t-1)+2];case n.H:return d.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},f.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},r={errorCorrectLevel:n,defaults:{size:354,margin:0,backgroundColor:"#FFFFFF",foregroundColor:"#000000",fileType:"png",errorCorrectLevel:n.H,typeNumber:-1},getModules:function(t){t=s(s({},this.defaults),t);var i=new e(t.typeNumber,t.errorCorrectLevel);return i.addData(h(t.text)),i.make(),i.modules},make:function(t,e){var i=this;return new Promise((function(n,a){if(t=s(s({},i.defaults),t),!t.canvasId)throw new Error("uQRCode: Please set canvasId!");var r=i.getModules(t),o=(t.size-2*t.margin)/r.length,c=o,u=Date.now(),l=uni.createCanvasContext(t.canvasId,e);l.setFillStyle(t.backgroundColor),l.fillRect(0,0,t.size,t.size);for(var d=0;d<r.length;d++)for(var f=0;f<r.length;f++){var h=Math.round(f*o)+t.margin,_=Math.round(d*c)+t.margin,p=Math.ceil((f+1)*o)-Math.floor(f*o),m=Math.ceil((d+1)*o)-Math.floor(d*o),g=r[d][f]?t.foregroundColor:t.backgroundColor;l.setFillStyle(g),l.fillRect(h,_,p,m)}var v=t.drawDelay?t.drawDelay:2*t.size;setTimeout((function(){l.draw(!1,(function(){var i=Date.now()-u,s=t.toFileDelay?t.toFileDelay:i+2*t.size+2*r.length;setTimeout((function(){uni.canvasToTempFilePath({canvasId:t.canvasId,fileType:t.fileType,width:t.size,height:t.size,destWidth:t.size,destHeight:t.size,success:function(t){n(Object.assign(t,{time:Date.now()-u}))},fail:function(t){a(t)}},e)}),s)}))}),v)}))}}})();var o=r;e.default=o},"3cd4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("43bc"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return u(t)||c(t)||o(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return l(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var d={name:"UniDataPickerView",emits:["nodeclick","change","datachange","update:modelValue"],mixins:[n.default],props:{managedMode:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!0}},data:function(){return{}},created:function(){var t=this;this.managedMode||this.$nextTick((function(){t.load()}))},methods:{onPropsChange:function(){this._treeData=[],this.selectedIndex=0,this.load()},load:function(){var t=this;this.isLocaldata?this.loadData():this.dataValue.length&&this.getTreePath((function(e){t.loadData()}))},handleSelect:function(t){this.selectedIndex=t},handleNodeClick:function(t,e,i){var n=this;if(!t.disable){var s=this.dataList[e][i],r=s[this.map.text],o=s[this.map.value];if(e<this.selected.length-1?(this.selected.splice(e,this.selected.length-e),this.selected.push({text:r,value:o})):e===this.selected.length-1&&this.selected.splice(e,1,{text:r,value:o}),s.isleaf)this.onSelectedChange(s,s.isleaf);else{var c=this._updateBindData(),u=c.isleaf,l=c.hasNodes;(this._isTreeView()||l)&&(!this.isLocaldata||l&&!u)?u||l?this.onSelectedChange(s,!1):this._loadNodeData((function(t){var e;t.length?((e=n._treeData).push.apply(e,a(t)),n._updateBindData(s)):s.isleaf=!0;n.onSelectedChange(s,s.isleaf)}),this._nodeWhere()):this.onSelectedChange(s,!0)}}},updateData:function(t){this._treeData=t.treeData,this.selected=t.selected,this._treeData.length?this._updateBindData():this.loadData()},onDataChange:function(){this.$emit("datachange")},onSelectedChange:function(t,e){e&&this._dispatchEvent(),t&&this.$emit("nodeclick",t)},_dispatchEvent:function(){this.$emit("change",this.selected.slice(0))}}};e.default=d},"3d1d":function(t,e,i){"use strict";i.r(e);var n=i("5501"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"3e08":function(t,e,i){"use strict";function n(t){t.prototype.$hasPermission=function(t){var e=this.$store.state.user.userInfo.permission||[],i=this.$store.state.user.userInfo.role||[];return i.indexOf("admin")>-1||e.indexOf(t)>-1},t.prototype.$hasRole=function(t){var e=this.$store.state.user.userInfo.role||[];return e.indexOf(t)>-1}}Object.defineProperty(e,"__esModule",{value:!0}),e.initPermission=n},"3e0e":function(t,e,i){"use strict";i.r(e);var n=i("98f5"),s=i("43e2");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"3f13":function(t,e,i){"use strict";i.r(e);var n=i("a33a"),s=i("dd33");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"40b2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={default:[{image:"200x200",className:"default"}],blend1_1:[{image:"740x300",className:"banner"},{image:"200x200",className:"default"}],blend1_2:[{image:"740x300",className:"banner"},{image:"200x200",className:"default"},{image:"200x200",className:"default"}],blend1_3:[{image:"740x300",className:"banner"},{image:"200x200",className:"default"},{image:"200x200",className:"default"},{image:"200x200",className:"default"}],blend2_2:[{image:"740x300",className:"banner"},{image:"740x300",className:"banner"},{image:"200x200",className:"default"},{image:"200x200",className:"default"}],blend2_3:[{image:"740x300",className:"banner"},{image:"740x300",className:"banner"},{image:"200x200",className:"default"},{image:"200x200",className:"default"},{image:"200x200",className:"default"}]};e.default=n},"410d":function(t,e,i){(function(e){!function(e,i){t.exports=i()}(0,(function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function n(t){var e=0;if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator])return(e=t[Symbol.iterator]()).next.bind(e);if(Array.isArray(t)||(t=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)))return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return d[t]}var a,r=(function(t){function e(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.exports={defaults:e(),getDefaults:e,changeDefaults:function(e){t.exports.defaults=e}}}(a={exports:{}}),a.exports),o=(r.defaults,r.getDefaults,r.changeDefaults,/[&<>"']/),c=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(t){return t.replace(f,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}var _=/(^|[^\[])\^/g,p=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,g={},v=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,y=/^([^:]+:\/*[^/]*)[\s\S]*$/;function w(t,e){g[" "+t]||(v.test(t)?g[" "+t]=t+"/":g[" "+t]=$(t,"/",!0));var i=-1===(t=g[" "+t]).indexOf(":");return"//"===e.substring(0,2)?i?e:t.replace(b,"$1")+e:"/"===e.charAt(0)?i?e:t.replace(y,"$1")+e:t+e}function $(t,e,i){var n=t.length;if(0===n)return"";for(var s=0;s<n;){var a=t.charAt(n-s-1);if(a!==e||i){if(a===e||!i)break;s++}else s++}return t.substr(0,n-s)}var x=function(t,e){if(e){if(o.test(t))return t.replace(c,s)}else if(u.test(t))return t.replace(l,s);return t},k=h,C=function(t,e){t=t.source||t,e=e||"";var i={replace:function(e,n){return n=(n=n.source||n).replace(_,"$1"),t=t.replace(e,n),i},getRegex:function(){return new RegExp(t,e)}};return i},S=function(t,e,i){if(t){var n;try{n=decodeURIComponent(h(i)).replace(p,"").toLowerCase()}catch(t){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}e&&!m.test(i)&&(i=w(e,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(t){return null}return i},O={exec:function(){}},I=function(t){for(var e,i,n=1;n<arguments.length;n++)for(i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},P=function(t,e){var i=t.replace(/\|/g,(function(t,e,i){for(var n=!1,s=e;0<=--s&&"\\"===i[s];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i},T=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var i=t.length,n=0,s=0;s<i;s++)if("\\"===t[s])s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&--n<0)return s;return-1},D=function(t){t&&t.sanitize&&!t.silent&&e("warn","marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"," at common/js/marked.js:6")},j=r.defaults,E=$,L=P,A=x,M=T;function R(t,e,i){var n=e.href,s=e.title?A(e.title):null;return"!"!==t[0].charAt(0)?{type:"link",raw:i,href:n,title:s,text:t[1]}:{type:"image",raw:i,text:A(t[1]),href:n,title:s}}var N=function(){function t(t){this.options=t||j}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return 1<e[0].length?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t,e){var i=this.rules.block.code.exec(t);if(i){var n=e[e.length-1];if(n&&"paragraph"===n.type)return{raw:i[0],text:i[0].trimRight()};var s=i[0].replace(/^ {4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:E(s,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var i=e[0],n=function(t,e){var i=t.match(/^(\s+)(?:```)/);if(null===i)return e;var n=i[1];return e.split("\n").map((function(t){var e=t.match(/^\s+/);return null!==e&&e[0].length>=n.length?t.slice(n.length):t})).join("\n")}(i,e[3]||"");return{type:"code",raw:i,lang:e[2]?e[2].trim():e[2],text:n}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[1].length,text:e[2]}},e.nptable=function(t){var e=this.rules.block.nptable.exec(t);if(e){var i={type:"table",header:L(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(i.header.length===i.align.length){for(var n=i.align.length,s=0;s<n;s++)/^ *-+: *$/.test(i.align[s])?i.align[s]="right":/^ *:-+: *$/.test(i.align[s])?i.align[s]="center":/^ *:-+ *$/.test(i.align[s])?i.align[s]="left":i.align[s]=null;for(n=i.cells.length,s=0;s<n;s++)i.cells[s]=L(i.cells[s],i.header.length);return i}}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var i=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:i}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){for(var i,n,s,a,r,o,c,u=e[0],l=e[2],d=1<l.length,f={type:"list",raw:u,ordered:d,start:d?+l:"",loose:!1,items:[]},h=e[0].match(this.rules.block.item),_=!1,p=h.length,m=0;m<p;m++)n=(u=i=h[m]).length,~(i=i.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(n-=i.length,i=this.options.pedantic?i.replace(/^ {1,4}/gm,""):i.replace(new RegExp("^ {1,"+n+"}","gm"),"")),m!==p-1&&(s=this.rules.block.bullet.exec(h[m+1])[0],(1<l.length?1===s.length:1<s.length||this.options.smartLists&&s!==l)&&(a=h.slice(m+1).join("\n"),f.raw=f.raw.substring(0,f.raw.length-a.length),m=p-1)),r=_||/\n\n(?!\s*$)/.test(i),m!==p-1&&(_="\n"===i.charAt(i.length-1),r=r||_),r&&(f.loose=!0),c=void 0,(o=/^\[[ xX]\] /.test(i))&&(c=" "!==i[1],i=i.replace(/^\[[ xX]\] +/,"")),f.items.push({type:"list_item",raw:u,task:o,checked:c,loose:r,text:i});return f}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):A(e[0]):e[0]}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var i={type:"table",header:L(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=e[0];for(var n=i.align.length,s=0;s<n;s++)/^ *-+: *$/.test(i.align[s])?i.align[s]="right":/^ *:-+: *$/.test(i.align[s])?i.align[s]="center":/^ *:-+ *$/.test(i.align[s])?i.align[s]="left":i.align[s]=null;for(n=i.cells.length,s=0;s<n;s++)i.cells[s]=L(i.cells[s].replace(/^ *\| *| *\| *$/g,""),i.header.length);return i}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},e.text=function(t,e){var i=this.rules.block.text.exec(t);if(i){var n=e[e.length-1];return n&&"text"===n.type?{raw:i[0],text:i[0]}:{type:"text",raw:i[0],text:i[0]}}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:A(e[1])}},e.tag=function(t,e,i){var n=this.rules.inline.tag.exec(t);if(n)return!e&&/^<a /i.test(n[0])?e=!0:e&&/^<\/a>/i.test(n[0])&&(e=!1),!i&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?i=!0:i&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(i=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:e,inRawBlock:i,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):A(n[0]):n[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var i,n=M(e[2],"()");-1<n&&(i=(0===e[0].indexOf("!")?5:4)+e[1].length+n,e[2]=e[2].substring(0,n),e[0]=e[0].substring(0,i).trim(),e[3]="");var s,a=e[2],r="";return r=this.options.pedantic?(s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a),s?(a=s[1],s[3]):""):e[3]?e[3].slice(1,-1):"",R(e,{href:(a=a.trim().replace(/^<([\s\S]*)>$/,"$1"))?a.replace(this.rules.inline._escapes,"$1"):a,title:r?r.replace(this.rules.inline._escapes,"$1"):r},e[0])}},e.reflink=function(t,e){var i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){var n=(i[2]||i[1]).replace(/\s+/g," ");if((n=e[n.toLowerCase()])&&n.href)return R(i,n,i[0]);var s=i[0].charAt(0);return{type:"text",raw:s,text:s}}},e.strong=function(t){var e=this.rules.inline.strong.exec(t);if(e)return{type:"strong",raw:e[0],text:e[4]||e[3]||e[2]||e[1]}},e.em=function(t){var e=this.rules.inline.em.exec(t);if(e)return{type:"em",raw:e[0],text:e[6]||e[5]||e[4]||e[3]||e[2]||e[1]}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var i=e[2].replace(/\n/g," "),n=/[^ ]/.test(i),s=i.startsWith(" ")&&i.endsWith(" ");return n&&s&&(i=i.substring(1,i.length-1)),i=A(i,!0),{type:"codespan",raw:e[0],text:i}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[1]}},e.autolink=function(t,e){var i=this.rules.inline.autolink.exec(t);if(i){var n,s="@"===i[2]?"mailto:"+(n=A(this.options.mangle?e(i[1]):i[1])):n=A(i[1]);return{type:"link",raw:i[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}},e.url=function(t,e){var i,n,s,a;if(i=this.rules.inline.url.exec(t)){if("@"===i[2])s="mailto:"+(n=A(this.options.mangle?e(i[0]):i[0]));else{for(;a=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0],a!==i[0];);n=A(i[0]),s="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}},e.inlineText=function(t,e,i){var n=this.rules.inline.text.exec(t);if(n){var s=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):A(n[0]):n[0]:A(this.options.smartypants?i(n[0]):n[0]);return{type:"text",raw:n[0],text:s}}},t}(),B=O,F=C,z=I,U={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:B,table:B,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};U.def=F(U.def).replace("label",U._label).replace("title",U._title).getRegex(),U.bullet=/(?:[*+-]|\d{1,9}\.)/,U.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,U.item=F(U.item,"gm").replace(/bull/g,U.bullet).getRegex(),U.list=F(U.list).replace(/bull/g,U.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+U.def.source+")").getRegex(),U._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U._comment=/<!--(?!-?>)[\s\S]*?-->/,U.html=F(U.html,"i").replace("comment",U._comment).replace("tag",U._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),U.paragraph=F(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",U._tag).getRegex(),U.blockquote=F(U.blockquote).replace("paragraph",U.paragraph).getRegex(),U.normal=z({},U),U.gfm=z({},U.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),U.gfm.nptable=F(U.gfm.nptable).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",U._tag).getRegex(),U.gfm.table=F(U.gfm.table).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",U._tag).getRegex(),U.pedantic=z({},U.normal,{html:F("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",U._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:B,paragraph:F(U.normal._paragraph).replace("hr",U.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",U.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var G={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:B,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:B,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"};G.em=F(G.em).replace(/punctuation/g,G._punctuation).getRegex(),G._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,G._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,G._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,G.autolink=F(G.autolink).replace("scheme",G._scheme).replace("email",G._email).getRegex(),G._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,G.tag=F(G.tag).replace("comment",U._comment).replace("attribute",G._attribute).getRegex(),G._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,G._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,G._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,G.link=F(G.link).replace("label",G._label).replace("href",G._href).replace("title",G._title).getRegex(),G.reflink=F(G.reflink).replace("label",G._label).getRegex(),G.normal=z({},G),G.pedantic=z({},G.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:F(/^!?\[(label)\]\((.*?)\)/).replace("label",G._label).getRegex(),reflink:F(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",G._label).getRegex()}),G.gfm=z({},G.normal,{escape:F(G.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),G.gfm.url=F(G.gfm.url,"i").replace("email",G.gfm._extended_email).getRegex(),G.breaks=z({},G.gfm,{br:F(G.br).replace("{2,}","*").getRegex(),text:F(G.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var V={block:U,inline:G},q=r.defaults,H=V.block,W=V.inline;function K(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function J(t){for(var e,i="",n=t.length,s=0;s<n;s++)e=t.charCodeAt(s),.5<Math.random()&&(e="x"+e.toString(16)),i+="&#"+e+";";return i}var Y=function(){function i(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||q,this.options.tokenizer=this.options.tokenizer||new N,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:H.normal,inline:W.normal};this.options.pedantic?(e.block=H.pedantic,e.inline=W.pedantic):this.options.gfm&&(e.block=H.gfm,this.options.breaks?e.inline=W.breaks:e.inline=W.gfm),this.tokenizer.rules=e}i.lex=function(t,e){return new i(e).lex(t)};var n,s,a,r=i.prototype;return r.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},r.blockTokens=function(t,i,n){var s,a,r,o;for(void 0===i&&(i=[]),void 0===n&&(n=!0),t=t.replace(/^ +$/gm,"");t;)if(s=this.tokenizer.space(t))t=t.substring(s.raw.length),s.type&&i.push(s);else if(s=this.tokenizer.code(t,i))t=t.substring(s.raw.length),s.type?i.push(s):((o=i[i.length-1]).raw+="\n"+s.raw,o.text+="\n"+s.text);else if(s=this.tokenizer.fences(t))t=t.substring(s.raw.length),i.push(s);else if(s=this.tokenizer.heading(t))t=t.substring(s.raw.length),i.push(s);else if(s=this.tokenizer.nptable(t))t=t.substring(s.raw.length),i.push(s);else if(s=this.tokenizer.hr(t))t=t.substring(s.raw.length),i.push(s);else if(s=this.tokenizer.blockquote(t))t=t.substring(s.raw.length),s.tokens=this.blockTokens(s.text,[],n),i.push(s);else if(s=this.tokenizer.list(t)){for(t=t.substring(s.raw.length),r=s.items.length,a=0;a<r;a++)s.items[a].tokens=this.blockTokens(s.items[a].text,[],!1);i.push(s)}else if(s=this.tokenizer.html(t))t=t.substring(s.raw.length),i.push(s);else if(n&&(s=this.tokenizer.def(t)))t=t.substring(s.raw.length),this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});else if(s=this.tokenizer.table(t))t=t.substring(s.raw.length),i.push(s);else if(s=this.tokenizer.lheading(t))t=t.substring(s.raw.length),i.push(s);else if(n&&(s=this.tokenizer.paragraph(t)))t=t.substring(s.raw.length),i.push(s);else if(s=this.tokenizer.text(t,i))t=t.substring(s.raw.length),s.type?i.push(s):((o=i[i.length-1]).raw+="\n"+s.raw,o.text+="\n"+s.text);else if(t){var c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){e("error",c," at common/js/marked.js:6");break}throw new Error(c)}return i},r.inline=function(t){for(var e,i,n,s,a,r=t.length,o=0;o<r;o++)switch((a=t[o]).type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},n=a.header.length,e=0;e<n;e++)a.tokens.header[e]=[],this.inlineTokens(a.header[e],a.tokens.header[e]);for(n=a.cells.length,e=0;e<n;e++)for(s=a.cells[e],a.tokens.cells[e]=[],i=0;i<s.length;i++)a.tokens.cells[e][i]=[],this.inlineTokens(s[i],a.tokens.cells[e][i]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(n=a.items.length,e=0;e<n;e++)this.inline(a.items[e].tokens)}return t},r.inlineTokens=function(t,i,n,s){var a;for(void 0===i&&(i=[]),void 0===n&&(n=!1),void 0===s&&(s=!1);t;)if(a=this.tokenizer.escape(t))t=t.substring(a.raw.length),i.push(a);else if(a=this.tokenizer.tag(t,n,s))t=t.substring(a.raw.length),n=a.inLink,s=a.inRawBlock,i.push(a);else if(a=this.tokenizer.link(t))t=t.substring(a.raw.length),"link"===a.type&&(a.tokens=this.inlineTokens(a.text,[],!0,s)),i.push(a);else if(a=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(a.raw.length),"link"===a.type&&(a.tokens=this.inlineTokens(a.text,[],!0,s)),i.push(a);else if(a=this.tokenizer.strong(t))t=t.substring(a.raw.length),a.tokens=this.inlineTokens(a.text,[],n,s),i.push(a);else if(a=this.tokenizer.em(t))t=t.substring(a.raw.length),a.tokens=this.inlineTokens(a.text,[],n,s),i.push(a);else if(a=this.tokenizer.codespan(t))t=t.substring(a.raw.length),i.push(a);else if(a=this.tokenizer.br(t))t=t.substring(a.raw.length),i.push(a);else if(a=this.tokenizer.del(t))t=t.substring(a.raw.length),a.tokens=this.inlineTokens(a.text,[],n,s),i.push(a);else if(a=this.tokenizer.autolink(t,J))t=t.substring(a.raw.length),i.push(a);else if(n||!(a=this.tokenizer.url(t,J))){if(a=this.tokenizer.inlineText(t,s,K))t=t.substring(a.raw.length),i.push(a);else if(t){var r="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){e("error",r," at common/js/marked.js:6");break}throw new Error(r)}}else t=t.substring(a.raw.length),i.push(a);return i},n=i,a=[{key:"rules",get:function(){return{block:H,inline:W}}}],(s=null)&&t(n.prototype,s),a&&t(n,a),i}(),Z=r.defaults,X=S,Q=x,tt=function(){function t(t){this.options=t||Z}var e=t.prototype;return e.code=function(t,e,i){var n,s=(e||"").match(/\S*/)[0];return!this.options.highlight||null!=(n=this.options.highlight(t,s))&&n!==t&&(i=!0,t=n),s?'<pre><code class="'+this.options.langPrefix+Q(s,!0)+'">'+(i?t:Q(t,!0))+"</code></pre>\n":"<pre><code>"+(i?t:Q(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,i,n){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+n.slug(i)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,i){var n=e?"ol":"ul";return"<"+n+(e&&1!==i?' start="'+i+'"':"")+">\n"+t+"</"+n+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n"+(e=e&&"<tbody>"+e+"</tbody>")+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var i=e.header?"th":"td";return(e.align?"<"+i+' align="'+e.align+'">':"<"+i+">")+t+"</"+i+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,i){if(null===(t=X(this.options.sanitize,this.options.baseUrl,t)))return i;var n='<a href="'+Q(t)+'"';return e&&(n+=' title="'+e+'"'),n+">"+i+"</a>"},e.image=function(t,e,i){if(null===(t=X(this.options.sanitize,this.options.baseUrl,t)))return i;var n='<img src="'+t+'" alt="'+i+'"';return e&&(n+=' title="'+e+'"'),n+(this.options.xhtml?"/>":">")},e.text=function(t){return t},t}(),et=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,i){return""+i},e.image=function(t,e,i){return""+i},e.br=function(){return""},t}(),it=function(){function t(){this.seen={}}return t.prototype.slug=function(t){var e=t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(e))for(var i=e;this.seen[i]++,e=i+"-"+this.seen[i],this.seen.hasOwnProperty(e););return this.seen[e]=0,e},t}(),nt=r.defaults,st=k,at=function(){function t(t){this.options=t||nt,this.options.renderer=this.options.renderer||new tt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new et,this.slugger=new it}t.parse=function(e,i){return new t(i).parse(e)};var i=t.prototype;return i.parse=function(t,i){void 0===i&&(i=!0);for(var n,s,a,r,o,c,u,l,d,f,h,_,p,m,g,v,b,y="",w=t.length,$=0;$<w;$++)switch((d=t[$]).type){case"space":continue;case"hr":y+=this.renderer.hr();continue;case"heading":y+=this.renderer.heading(this.parseInline(d.tokens),d.depth,st(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":y+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c=u="",a=d.header.length,n=0;n<a;n++)c+=this.renderer.tablecell(this.parseInline(d.tokens.header[n]),{header:!0,align:d.align[n]});for(u+=this.renderer.tablerow(c),l="",a=d.cells.length,n=0;n<a;n++){for(c="",r=(o=d.tokens.cells[n]).length,s=0;s<r;s++)c+=this.renderer.tablecell(this.parseInline(o[s]),{header:!1,align:d.align[s]});l+=this.renderer.tablerow(c)}y+=this.renderer.table(u,l);continue;case"blockquote":l=this.parse(d.tokens),y+=this.renderer.blockquote(l);continue;case"list":for(f=d.ordered,h=d.start,_=d.loose,a=d.items.length,l="",n=0;n<a;n++)g=(m=d.items[n]).checked,v=m.task,p="",m.task&&(b=this.renderer.checkbox(g),_?0<m.tokens.length&&"text"===m.tokens[0].type?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&0<m.tokens[0].tokens.length&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:b}):p+=b),p+=this.parse(m.tokens,_),l+=this.renderer.listitem(p,v,g);y+=this.renderer.list(l,f,h);continue;case"html":y+=this.renderer.html(d.text);continue;case"paragraph":y+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(l=d.tokens?this.parseInline(d.tokens):d.text;$+1<w&&"text"===t[$+1].type;)l+="\n"+((d=t[++$]).tokens?this.parseInline(d.tokens):d.text);y+=i?this.renderer.paragraph(l):l;continue;default:var x='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void e("error",x," at common/js/marked.js:6");throw new Error(x)}return y},i.parseInline=function(t,i){i=i||this.renderer;for(var n,s="",a=t.length,r=0;r<a;r++)switch((n=t[r]).type){case"escape":s+=i.text(n.text);break;case"html":s+=i.html(n.text);break;case"link":s+=i.link(n.href,n.title,this.parseInline(n.tokens,i));break;case"image":s+=i.image(n.href,n.title,n.text);break;case"strong":s+=i.strong(this.parseInline(n.tokens,i));break;case"em":s+=i.em(this.parseInline(n.tokens,i));break;case"codespan":s+=i.codespan(n.text);break;case"br":s+=i.br();break;case"del":s+=i.del(this.parseInline(n.tokens,i));break;case"text":s+=i.text(n.text);break;default:var o='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void e("error",o," at common/js/marked.js:6");throw new Error(o)}return s},t}(),rt=I,ot=D,ct=x,ut=r.getDefaults,lt=r.changeDefaults,dt=r.defaults;function ft(t,e,i){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(i=e,e=null),e=rt({},ft.defaults,e||{}),ot(e),i){var n,s=e.highlight;try{n=Y.lex(t,e)}catch(t){return i(t)}var a=function(t){var a;if(!t)try{a=at.parse(n,e)}catch(a){t=a}return e.highlight=s,t?i(t):i(null,a)};if(!s||s.length<3)return a();if(delete e.highlight,!n.length)return a();var r=0;return ft.walkTokens(n,(function(t){"code"===t.type&&(r++,s(t.text,t.lang,(function(e,i){return e?a(e):(null!=i&&i!==t.text&&(t.text=i,t.escaped=!0),void(0===--r&&a()))})))})),void(0===r&&a())}try{var o=Y.lex(t,e);return e.walkTokens&&ft.walkTokens(o,e.walkTokens),at.parse(o,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ct(t.message+"",!0)+"</pre>";throw t}}return ft.options=ft.setOptions=function(t){return rt(ft.defaults,t),lt(ft.defaults),ft},ft.getDefaults=ut,ft.defaults=dt,ft.use=function(t){var e,i=rt({},t);t.renderer&&function(){var e=ft.defaults.renderer||new tt;for(var n in t.renderer)!function(i){var n=e[i];e[i]=function(){for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];var o=t.renderer[i].apply(e,a);return!1===o&&(o=n.apply(e,a)),o}}(n);i.renderer=e}(),t.tokenizer&&function(){var e=ft.defaults.tokenizer||new N;for(var n in t.tokenizer)!function(i){var n=e[i];e[i]=function(){for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];var o=t.tokenizer[i].apply(e,a);return!1===o&&(o=n.apply(e,a)),o}}(n);i.tokenizer=e}(),t.walkTokens&&(e=ft.defaults.walkTokens,i.walkTokens=function(i){t.walkTokens(i),e&&e(i)}),ft.setOptions(i)},ft.walkTokens=function(t,e){for(var i,s=n(t);!(i=s()).done;){var a=i.value;switch(e(a),a.type){case"table":for(var r,o=n(a.tokens.header);!(r=o()).done;){var c=r.value;ft.walkTokens(c,e)}for(var u,l=n(a.tokens.cells);!(u=l()).done;)for(var d,f=n(u.value);!(d=f()).done;){var h=d.value;ft.walkTokens(h,e)}break;case"list":ft.walkTokens(a.items,e);break;default:a.tokens&&ft.walkTokens(a.tokens,e)}}},ft.Parser=at,ft.parser=at.parse,ft.Renderer=tt,ft.TextRenderer=et,ft.Lexer=Y,ft.lexer=Y.lex,ft.Tokenizer=N,ft.Slugger=it,ft.parse=ft}))}).call(this,i("0de9")["default"])},4194:function(t,e,i){"use strict";i.r(e);var n=i("e4c2"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},4213:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default,uniPopup:i("36ef").default,uniPopupDialog:i("a92f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","user-container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","header border-radius padding-22"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","header-panel padding-bottom-22 "),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","image-width-120 bg-white border-radius padding-2"),attrs:{src:t._$s(3,"a-src",t.userInfo.avatar),_i:3},on:{click:t.navToUserInfo}}),i("view",{staticClass:t._$s(4,"sc"," margin-left-30 colorWhite flex-1"),attrs:{_i:4}},[i("view",{staticClass:t._$s(5,"sc","padding-top-8"),attrs:{_i:5},on:{click:t.navToUserInfo}},[i("text",[t._v(t._$s(6,"t0-0",t._s(t.userInfo.nickname)))])]),t._$s(7,"i",t.userInfo.my_invite_code)?i("view",{staticClass:t._$s(7,"sc","font-24 padding-top-14"),attrs:{_i:7}},[i("text"),i("text",[t._v(t._$s(9,"t0-0",t._s(t.userInfo.my_invite_code)))]),t._$s(10,"i",!t.userInfo.inviter_uid||0==t.userInfo.inviter_uid.length)?i("text",{staticClass:t._$s(10,"sc","font-20 margin-left-6 bg-white colorRed padding-lr-10"),attrs:{_i:10},on:{click:function(e){return t.checkTeam()}}}):t._e()]):t._e(),t._$s(11,"i",t.userInfo.mobile)?i("view",{staticClass:t._$s(11,"sc","font-24 "),attrs:{_i:11}},[i("text"),i("text",[t._v(t._$s(13,"t0-0",t._s(t.userInfo.mobile)))])]):t._e(),t._$s(14,"i",t.userInfo.member)?i("view",{staticClass:t._$s(14,"sc","font-20 member "),attrs:{_i:14}},[i("text",{staticClass:t._$s(15,"sc","name"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.userInfo.member.name)))])]):t._e()]),t._$s(16,"i",t.hasSign)?i("tian-icons",{attrs:{type:"singin",icolor:"#ffffff",size:"28",_i:16},on:{click:t.navToSign}},[i("text",{staticClass:t._$s(17,"sc","font-20 colorWhite"),attrs:{_i:17}},[t._v(t._$s(17,"t0-0",t._s(t.taskBtnText)))])]):t._e()],1),i("view",{staticClass:t._$s(18,"sc","ti-flex margin-top-40 colorWhite padding-bottom-22"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","ti-flex flex-column flex-1"),attrs:{_i:19},on:{click:function(e){return t.navTo("/pages/user/balances",{},{login:1})}}},[i("text",[t._v(t._$s(20,"t0-0",t._s(t.userInfo.balance/100)))]),i("text",{staticClass:t._$s(21,"sc","font-24"),attrs:{_i:21}})]),i("view",{staticClass:t._$s(22,"sc","ti-flex flex-column flex-1 left-line"),attrs:{_i:22},on:{click:function(e){return t.navTo("/pages/user/scores",{},{login:1})}}},[i("text",[t._v(t._$s(23,"t0-0",t._s(t.userScore)))]),i("text",{staticClass:t._$s(24,"sc","font-24"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.scoreName)))])]),i("view",{staticClass:t._$s(25,"sc","flex-1 left-line"),attrs:{_i:25}},[t._$s(26,"i",t.isLogin&&!t.userInfo.hasMobile)?i("button",{staticClass:t._$s(26,"sc","unbutton"),attrs:{_i:26},on:{getphonenumber:t.getPhoneNumber}},[i("view",{staticClass:t._$s(27,"sc","ti-flex flex-column colorWhite"),attrs:{_i:27}},[i("text",{staticClass:t._$s(28,"sc","font-28 padding-bottom-8"),attrs:{_i:28}},[t._v(t._$s(28,"t0-0",t._s(t.userInfo.statistics?t.userInfo.statistics.invite_all_total:0)))]),i("text",{staticClass:t._$s(29,"sc","font-24"),attrs:{_i:29}})])]):i("view",{staticClass:t._$s(30,"sc","ti-flex flex-column"),attrs:{_i:30},on:{click:function(e){return t.navTo("/pages/user/team/member?level=0&title=\u6211\u7684\u7c89\u4e1d",{},{login:1})}}},[i("text",[t._v(t._$s(31,"t0-0",t._s(t.userInfo.statistics?t.userInfo.statistics.invite_all_total:0)))]),i("text",{staticClass:t._$s(32,"sc","font-24"),attrs:{_i:32}})])])])]),i("view",{staticClass:t._$s(33,"sc","content-body margin-22 padding-22 bg-white border-radius"),attrs:{_i:33}},[i("view",{staticClass:t._$s(34,"sc","title ti-flex between"),attrs:{_i:34},on:{click:function(e){return t.navTo("/pages/order/order?type=all",{},{login:!0})}}},[i("tian-icons",{attrs:{type:"dingdan",align:"right",icolor:"#ffad90",_i:35}},[t._v("")]),i("tian-icons",{attrs:{type:"xiangyou1",align:"left",color:"#c5c5c5",_i:36}},[i("text")])],1),i("view",{staticClass:t._$s(38,"sc","ti-flex margin-top-60 padding-bottom-22 text-center"),attrs:{_i:38}},t._l(t._$s(39,"f",{forItems:t.orderList}),(function(e,n,s,a){return i("tian-icons",{key:t._$s(39,"f",{forIndex:s,key:n}),staticClass:t._$s("39-"+a,"sc","flex-1"),attrs:{type:e.type,icolor:e.color,size:"30",badge:e.total,_i:"39-"+a},on:{click:function(i){return t.navTo(e.open_url,{},{login:e.checkLogin})}}},[i("text",{staticClass:t._$s("40-"+a,"sc","font-24 margin-top-12"),attrs:{_i:"40-"+a}},[t._v(t._$s("40-"+a,"t0-0",t._s(e.text)))])])})),1)]),t._$s(41,"i",t.adminShops&&t.adminShops.length>0)?i("view",{staticClass:t._$s(41,"sc","content-body margin-22 padding-22 bg-white border-radius"),attrs:{_i:41}},[i("view",{staticClass:t._$s(42,"sc","title ti-flex between"),attrs:{_i:42}},[i("tian-icons",{attrs:{type:"dianpu",align:"right",icolor:"#ffad90",_i:43}},[t._v("")]),i("tian-icons",{attrs:{type:"xiangyou1",align:"left",color:"#c5c5c5",_i:44},on:{click:function(e){return t.navTo("/pages/enterprise/apply?mobile=true",{},{login:!0})}}},[i("text")])],1),i("view",t._l(t._$s(47,"f",{forItems:t.adminShops}),(function(e,n,s,a){return i("view",{key:t._$s(47,"f",{forIndex:s,key:n}),staticClass:t._$s("47-"+a,"sc","margin-top-20 ti-flex under-line padding-bottom-20"),attrs:{_i:"47-"+a},on:{click:function(i){return t.navTo(e.page,e)}}},[i("image",{staticClass:t._$s("48-"+a,"sc","image-width-80 border-radius"),attrs:{src:t._$s("48-"+a,"a-src",e.src),_i:"48-"+a}}),i("view",{staticClass:t._$s("49-"+a,"sc","flex-1 margin-left-12"),attrs:{_i:"49-"+a}},[i("text",{staticClass:t._$s("50-"+a,"sc","font-32"),attrs:{_i:"50-"+a}},[t._v(t._$s("50-"+a,"t0-0",t._s(e.name)))]),t._$s("51-"+a,"i",e.id)?i("text",[t._v(t._$s("51-"+a,"t0-0",t._s(e.id)))]):t._e(),t._$s("52-"+a,"i",e.stateText)?i("text",{staticClass:t._$s("52-"+a,"sc","margin-left-10 colorRed"),attrs:{_i:"52-"+a}},[t._v(t._$s("52-"+a,"t0-0",t._s(e.stateText)))]):t._e(),t._$s("53-"+a,"i",e.apply_result)?i("view",{staticClass:t._$s("53-"+a,"sc"," font-24 margin-top-8 colorRed"),attrs:{_i:"53-"+a}},[i("text",[t._v(t._$s("54-"+a,"t0-0",t._s(e.apply_result)))])]):t._$s("55-"+a,"e",e.address)?i("view",{staticClass:t._$s("55-"+a,"sc"," font-24 colorGray margin-top-8"),attrs:{_i:"55-"+a}},[i("text",[t._v(t._$s("56-"+a,"t0-0",t._s(e.address.address)))])]):t._e()]),i("tian-icons",{attrs:{type:"xiangyou1",align:"left",color:"#c5c5c5",_i:"57-"+a}})],1)})),0)]):t._e(),i("view",{staticClass:t._$s(58,"sc","content-body margin-22 padding-22 bg-white border-radius"),attrs:{_i:58}},[i("view",{staticClass:t._$s(59,"sc","title ti-flex between"),attrs:{_i:59}},[i("tian-icons",{attrs:{type:"wode",align:"right",icolor:"#ffad90",_i:60}},[t._v("")]),i("tian-icons",{attrs:{type:"xiangyou1",align:"left",color:"#c5c5c5",_i:61},on:{click:function(e){return t.navTo("/pages/user/info",{},{login:!0})}}},[t._v("")])],1),i("view",{staticClass:t._$s(62,"sc","ti-flex margin-top-60 padding-bottom-22 options"),attrs:{_i:62}},t._l(t._$s(63,"f",{forItems:t.optionDataList}),(function(e,n,s,a){return t._$s("63-"+a,"i",!e.mustLogin||t.isLogin)?i("view",{key:t._$s(63,"f",{forIndex:s,key:n}),staticClass:t._$s("63-"+a,"sc","opt-item"),attrs:{_i:"63-"+a}},[t._$s("64-"+a,"i",e.checkMobile&&!t.userInfo.hasMobile)?i("button",{staticClass:t._$s("64-"+a,"sc","unbutton"),attrs:{_i:"64-"+a},on:{getphonenumber:t.getPhoneNumber}},[i("tian-icons",{attrs:{type:e.type,icolor:e.color,size:"26",_i:"65-"+a}},[i("text",{staticClass:t._$s("66-"+a,"sc","font-24 margin-top-12"),attrs:{_i:"66-"+a}},[t._v(t._$s("66-"+a,"t0-0",t._s(e.text)))])])],1):i("tian-icons",{attrs:{type:e.type,icolor:e.color,size:"26",_i:"67-"+a},on:{click:function(i){return t.navTo(e.open_url,{},{login:e.checkLogin})}}},[i("text",{staticClass:t._$s("68-"+a,"sc","font-24 margin-top-12"),attrs:{_i:"68-"+a}},[t._v(t._$s("68-"+a,"t0-0",t._s(e.text)))])])],1):t._e()})),0)]),t._$s(69,"i",t.showTeamPopup)?i("uni-popup",{ref:"teamPopup",attrs:{type:"dialog",_i:69}},[i("uni-popup-dialog",{attrs:{mode:"input",message:"\u6210\u529f\u6d88\u606f",title:"\u52a0\u5165\u56e2\u961f\u63d0\u793a",placeholder:"\u8bf7\u8f93\u5165\u9080\u8bf7\u8005\u624b\u673a\u53f7/\u9080\u8bf7\u7801",duration:2e3,"before-close":!0,_i:70},on:{close:t.closeInvite,confirm:t.confirmInvite}})],1):t._e()],1)},a=[]},"424c":function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{id:"",money:0,configs:{category_id:"6184e4c6808fdd0001acdf3f",width:690,height:180}}},computed:{appName:function(){return this.$store.state.app.appName}},onLoad:function(t){i("log",t," at pages/app/paysuccess.vue:35"),this.id=t.id,this.loadData()},methods:{loadData:function(){var t=this;n.collection("tian-payment-qrcodes").where({id:parseInt(this.id)}).limit(1).get({getOne:!0}).then((function(e){var n=e.result;t.money=n.data.rebate,i("log","result",n," at pages/app/paysuccess.vue:49")}))},goHome:function(){uni.reLaunch({url:"/pages/index/index"})}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},"42f3":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniSwiperDot:i("8f04").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","banner-container"),class:t._$s(0,"c",[t.options.display]),attrs:{_i:0}},[i("uni-swiper-dot",{attrs:{info:t.dataList,current:t.current,field:"content",mode:t.options.mode,_i:1}},[i("swiper",{staticClass:t._$s(2,"sc","swiper-box"),class:t._$s(2,"c",t.options.style),style:t._$s(2,"s",{height:t.options.height+"rpx",width:t.options.width+"rpx"}),attrs:{_i:2},on:{change:t.change}},t._l(t._$s(3,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("swiper-item",{key:t._$s(3,"f",{forIndex:s,key:n}),attrs:{_i:"3-"+a},on:{click:function(i){return t.navToItem(e,n)}}},[i("image",{staticClass:t._$s("4-"+a,"sc","image"),class:t._$s("4-"+a,"c",t.options.itemClassName),style:t._$s("4-"+a,"s",{height:t.options.height+"rpx",width:t.options.width+"rpx"}),attrs:{src:t._$s("4-"+a,"a-src",e.url),_i:"4-"+a}})])})),0)])],1)},a=[]},"431b":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("f8ad");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={data:function(){return{isBindWx:!1,info:{}}},onLoad:function(){uni.setStorage({key:"avatarField",data:"avatar"}),t("log",this.cashoutTypes," at pages/user/info.vue:59")},computed:{userInfo:function(){return this.$store.state.user.userInfo},cashoutTypes:function(){return this.userInfo.cashoutType},enableBank:function(){return this.cashoutTypes&&this.cashoutTypes.filter((function(t){return"bank"==t.value})).length>0},enableAlipay:function(){return this.cashoutTypes&&this.cashoutTypes.filter((function(t){return"alipay"==t.value})).length>0},customer:function(){return this.$store.state.app.customer},mobileStatusText:function(){return this.userInfo.mobile?this.userInfo.mobile:"\u53bb\u7ed1\u5b9a"},bankStatusText:function(){return this.userInfo.bankinfo?this.userInfo.bankinfo.title:"\u53bb\u7ed1\u5b9a"},alipayStatusText:function(){return this.userInfo.alipayinfo?this.userInfo.alipayinfo.name:"\u53bb\u7ed1\u5b9a"},wxStatusText:function(){return this.userInfo.wx_openid&&this.userInfo.wx_openid["app-plus"]?(this.isBindWx=!0,"\u5df2\u7ed1\u5b9a"):"\u53bb\u7ed1\u5b9a"}},methods:{bindWeixinH5:function(){if(this.isBindWx)return!1;this.customer.wx_auth&&(window.location.href=this.customer.wx_auth)},bindWeixin:function(){var e=this;if(this.isBindWx)return!1;uni.login({provider:"weixin",success:function(i){t("log","\u6388\u6743code",i," at pages/user/info.vue:128"),e.$request("user/info/bind_weixin",a({},i),{loading:!0}).then((function(i){t("log","bind_weixin",i," at pages/user/info.vue:135"),e.$store.dispatch("user/getUserInfo")}))}})},bind:function(e){var i=this;t("log","bind "+e," at pages/user/info.vue:143"),uni.login({provider:e,success:function(n){t("log","\u6388\u6743code",n," at pages/user/info.vue:147"),i.$request("user/info/bind",a({provider:e},n),{loading:!0}).then((function(n){t("log","bind "+e,n," at pages/user/info.vue:155"),i.$store.dispatch("user/getUserInfo")}))},fail:function(e){t("log",e," at pages/user/info.vue:161"),i.$message("\u6388\u6743\u5931\u8d25")}})},changeNickname:function(){this.$refs.nicknamePopup.open()},confirmEditNickname:function(t){this.editData({nickname:t})},changeAvatar:function(){var e=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera","album"],crop:{quality:5,width:200,height:200},success:function(i){t("log",i," at pages/user/info.vue:185"),i.tempFilePaths.length>0&&(uni.setStorage({key:"avatar",data:i.tempFilePaths[0]}),(0,n.cloudUploadFile)(i.tempFilePaths[0]).then((function(i){t("log","url",i," at pages/user/info.vue:199");try{e.editData({avatar:i})}catch(n){t("log","getOpenerEventChannel fail",n," at pages/user/info.vue:205")}e.$success("\u4fee\u6539\u6210\u529f")}),(function(t){e.isSubmit=!1,uni.showModal({title:"\u4fee\u6539\u5931\u8d25",showCancel:!1})})))}})},editData:function(e){var i=this;t("log","editData",e," at pages/user/info.vue:221"),this.$request("user/info/edit",e,{loading:!0}).then((function(t){i.$store.dispatch("user/getUserInfo")}))}}};e.default=o}).call(this,i("0de9")["default"])},"43bc":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{localdata:{type:[Array,Object],default:function(){return[]}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:String,default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},manual:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return[]}},modelValue:{type:[Array,String,Number],default:function(){return[]}},preload:{type:Boolean,default:!1},stepSearh:{type:Boolean,default:!0},selfField:{type:String,default:""},parentField:{type:String,default:""},multiple:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},data:function(){return{loading:!1,errorMessage:"",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},dataList:[],selected:[],selectedIndex:0,page:{current:this.pageCurrent,size:this.pageSize,count:0}}},computed:{isLocaldata:function(){return!this.collection.length},postField:function(){var t=[this.field];return this.parentField&&t.push("".concat(this.parentField," as parent_value")),t.join(",")},dataValue:function(){var t=Array.isArray(this.modelValue)?this.modelValue.length>0:null!==this.modelValue||void 0!==this.modelValue;return t?this.modelValue:this.value},hasValue:function(){return"number"===typeof this.dataValue||null!=this.dataValue&&this.dataValue.length>0}},created:function(){var t=this;this.$watch((function(){var e=[];return["pageCurrent","pageSize","spaceInfo","value","modelValue","localdata","collection","action","field","orderby","where","getont","getcount","gettree"].forEach((function(i){e.push(t[i])})),e}),(function(e,i){for(var n=2;n<e.length;n++)if(e[n]!=i[n]){!0;break}e[0]!=i[0]&&(t.page.current=t.pageCurrent),t.page.size=t.pageSize,t.onPropsChange()})),this._treeData=[]},methods:{onPropsChange:function(){this._treeData=[]},getCommand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.database(this.spaceInfo),n=e.action||this.action;n&&(i=i.action(n));var s=e.collection||this.collection;i=i.collection(s);var a=e.where||this.where;a&&Object.keys(a).length&&(i=i.where(a));var r=e.field||this.field;r&&(i=i.field(r));var o=e.orderby||this.orderby;o&&(i=i.orderBy(o));var c=void 0!==e.pageCurrent?e.pageCurrent:this.page.current,u=void 0!==e.pageSize?e.pageSize:this.page.size,l=void 0!==e.getcount?e.getcount:this.getcount,d=void 0!==e.gettree?e.gettree:this.gettree,f={getCount:l,getTree:d};return e.getTreePath&&(f.getTreePath=e.getTreePath),i=i.skip(u*(c-1)).limit(u).get(f),i},getNodeData:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,where:this._pathWhere()}).then((function(i){e.loading=!1,e.selected=i.result.data,t&&t()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},getTreePath:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,getTreePath:{startWith:"".concat(this.selfField,"=='").concat(this.dataValue,"'")}}).then((function(i){e.loading=!1;var n=[];e._extractTreePath(i.result.data,n),e.selected=n,t&&t()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},loadData:function(){var t=this;this.isLocaldata?this._processLocalData():null==this.dataValue?this.stepSearh?this._loadNodeData((function(e){t._treeData=e,t._updateBindData()})):this._loadAllData((function(e){t._treeData=[],t._extractTree(e,t._treeData,null),t._updateBindData()})):this._loadNodeData((function(e){t._treeData=e,t._updateBindData(),t._updateSelected()}))},_loadAllData:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,gettree:!0,startwith:"".concat(this.selfField,"=='").concat(this.dataValue,"'")}).then((function(i){e.loading=!1,t(i.result.data),e.onDataChange()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},_loadNodeData:function(t,e){var i=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,where:e||this._postWhere(),pageSize:500}).then((function(e){i.loading=!1,t(e.result.data),i.onDataChange()})).catch((function(t){i.loading=!1,i.errorMessage=t})))},_pathWhere:function(){var t=[],e=this._getParentNameByField();return e&&t.push("".concat(e," == '").concat(this.dataValue,"'")),this.where?"(".concat(this.where,") && (").concat(t.join(" || "),")"):t.join(" || ")},_postWhere:function(){var t=[],e=this.selected,i=this.parentField;if(i&&t.push("".concat(i," == null || ").concat(i,' == ""')),e.length)for(var n=0;n<e.length-1;n++)t.push("".concat(i," == '").concat(e[n].value,"'"));var s=[];return this.where&&s.push("(".concat(this.where,")")),t.length&&s.push("(".concat(t.join(" || "),")")),s.join(" && ")},_nodeWhere:function(){var t=[],e=this.selected;return e.length&&t.push("".concat(this.parentField," == '").concat(e[e.length-1].value,"'")),this.where?"(".concat(this.where,") && (").concat(t.join(" || "),")"):t.join(" || ")},_getParentNameByField:function(){for(var t=this.field.split(","),e=null,i=0;i<t.length;i++){var n=t[i].split("as");if(!(n.length<2)&&"value"===n[1].trim()){e=n[0].trim();break}}return e},_isTreeView:function(){return this.parentField&&this.selfField},_updateSelected:function(){for(var t=this.dataList,e=this.selected,i=this.map.text,n=this.map.value,s=0;s<e.length;s++)for(var a=e[s].value,r=t[s],o=0;o<r.length;o++){var c=r[o];if(c[n]===a){e[s].text=c[i];break}}},_updateBindData:function(t){var e=this._filterData(this._treeData,this.selected),i=e.dataList,n=e.hasNodes,s=!1===this._stepSearh&&!n;return t&&(t.isleaf=s),this.dataList=i,this.selectedIndex=i.length-1,!s&&this.selected.length<i.length&&this.selected.push({value:null,text:"\u8bf7\u9009\u62e9"}),{isleaf:s,hasNodes:n}},_filterData:function(t,e){var i=[],n=!0;i.push(t.filter((function(t){return null===t.parent_value||void 0===t.parent_value||""===t.parent_value})));for(var s=0;s<e.length;s++){var a=e[s].value,r=t.filter((function(t){return t.parent_value===a}));r.length?i.push(r):n=!1}return{dataList:i,hasNodes:n}},_extractTree:function(t,e,i){for(var n=this.map.value,s=0;s<t.length;s++){var a=t[s],r={};for(var o in a)"children"!==o&&(r[o]=a[o]);null!==i&&void 0!==i&&""!==i&&(r.parent_value=i),e.push(r);var c=a.children;c&&this._extractTree(c,e,a[n])}},_extractTreePath:function(t,e){for(var i=0;i<t.length;i++){var n=t[i],s={};for(var a in n)"children"!==a&&(s[a]=n[a]);e.push(s);var r=n.children;r&&this._extractTreePath(r,e)}},_findNodePath:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=this.map.text,s=this.map.value,a=0;a<e.length;a++){var r=e[a],o=r.children,c=r[n],u=r[s];if(i.push({value:u,text:c}),u===t)return i;if(o){var l=this._findNodePath(t,o,i);if(l.length)return l}i.pop()}return[]},_processLocalData:function(){this._treeData=[],this._extractTree(this.localdata,this._treeData);var t=this.dataValue;void 0!==t&&(Array.isArray(t)&&(t=t[t.length-1],"object"===typeof t&&t[this.map.value]&&(t=t[this.map.value])),this.selected=this._findNodePath(t,this.localdata))}}};e.default=i}).call(this,i("a9ff")["default"])},"43e2":function(t,e,i){"use strict";i.r(e);var n=i("4d70"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"447a":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,tianEmpty:i("2789").default,uniDateformat:i("3a22").default,uniLoadMore:i("458a").default,tianPayment:i("a7b8").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc"," tab-header"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","ti-flex"),attrs:{_i:2}},t._l(t._$s(3,"f",{forItems:t.tabList}),(function(e,n,s,a){return i("view",{key:t._$s(3,"f",{forIndex:s,key:n}),staticClass:t._$s("3-"+a,"sc","tabs flex-1 text-center"),class:t._$s("3-"+a,"c",{current:e.checked}),attrs:{_i:"3-"+a},on:{click:function(i){return t.changeTab(e)}}},[i("text",[t._v(t._$s("4-"+a,"t0-0",t._s(e.text)))])])})),0)]),i("view",{staticClass:t._$s(5,"sc","tab-header-seize"),attrs:{_i:5}}),i("unicloud-db",{ref:"udb",attrs:{collection:"tian-mall-orders",action:"check_order",field:"state,goods,discount,freight,address,delivers,pickUpCode,total_fee,cart_count,create_time,group_buying",where:t.where,options:t.options,orderby:"create_time desc",manual:!0,_i:6},on:{load:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options,e.hasMore);return[n._$s("7-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65f6\u8fd8\u6ca1\u6709\u8ba2\u5355",marginTop:"300",_i:"7-"+s}}):i("view",{staticClass:n._$s(8,"sc","padding-lr-20 "),attrs:{_i:8}},t._l(n._$s(9,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s(9,"f",{forIndex:r,key:a}),staticClass:n._$s("9-"+o,"sc"," bg-white border-radius margin-top-22"),attrs:{_i:"9-"+o}},[i("view",{staticClass:n._$s("10-"+o,"sc","under-line padding-22"),attrs:{_i:"10-"+o},on:{click:function(i){return t.navTo("/pages/order/detail?id="+e._id,e)}}},[i("view",{staticClass:n._$s("11-"+o,"sc","ti-flex between"),attrs:{_i:"11-"+o}},[i("uni-dateformat",{staticClass:n._$s("12-"+o,"sc","font-20"),attrs:{date:e.create_time,format:"yyyy/MM/dd hh:mm:ss",threshold:[0,0],_i:"12-"+o}}),i("text",{style:n._$s("13-"+o,"s",{color:e.state.color}),attrs:{_i:"13-"+o}},[t._v(n._$s("13-"+o+s,"t0-0",t._s(e.state.text)))])],1),t._l(n._$s("14-"+o,"f",{forItems:e.goods}),(function(e,a,r,c){return i("view",{key:n._$s("14-"+o,"f",{forIndex:r,key:a}),staticClass:n._$s("14-"+o+"-"+c,"sc","ti-flex margin-top-12"),attrs:{_i:"14-"+o+"-"+c}},[i("image",{staticClass:n._$s("15-"+o+"-"+c,"sc","image-width-120 border-radius"),attrs:{src:n._$s("15-"+o+"-"+c,"a-src",e.goods_thumb),mode:"aspectFill",_i:"15-"+o+"-"+c}}),i("view",{staticClass:n._$s("16-"+o+"-"+c,"sc","flex-1 padding-left-12"),attrs:{_i:"16-"+o+"-"+c}},[i("view",{attrs:{_i:"17-"+o+"-"+c}},[i("text",{attrs:{_i:"18-"+o+"-"+c}},[t._v(n._$s("18-"+o+"-"+c+s,"t0-0",t._s(e.name)))])]),i("view",{attrs:{_i:"19-"+o+"-"+c}},[i("text",{staticClass:n._$s("20-"+o+"-"+c,"sc","font-24"),attrs:{_i:"20-"+o+"-"+c}},[t._v(n._$s("20-"+o+"-"+c+s,"t0-0",t._s(e.sku_name)))])]),i("view",{staticClass:n._$s("21-"+o+"-"+c,"sc","ti-flex between"),attrs:{_i:"21-"+o+"-"+c}},[i("view",{attrs:{_i:"22-"+o+"-"+c}},[i("text",{staticClass:n._$s("23-"+o+"-"+c,"sc","price"),attrs:{_i:"23-"+o+"-"+c}},[t._v(n._$s("23-"+o+"-"+c+s,"t0-0",t._s(e.price/100)))]),n._$s("24-"+o+"-"+c,"i",e.use_score)?i("text",{staticClass:n._$s("24-"+o+"-"+c,"sc","font-20"),attrs:{_i:"24-"+o+"-"+c}},[t._v(n._$s("24-"+o+"-"+c+s,"t0-0",t._s(e.use_score))+n._$s("24-"+o+"-"+c+s,"t0-1",t._s(t.scoreName)))]):t._e()]),i("text",{attrs:{_i:"25-"+o+"-"+c}},[t._v(n._$s("25-"+o+"-"+c+s,"t0-0",t._s(e.amount)))])])])])}))],2),n._$s("26-"+o,"i",e.pickUpCode)?i("view",{attrs:{_i:"26-"+o}},[i("view",{staticClass:n._$s("27-"+o,"sc","ti-flex font-32 padding-lr-24 padding-top-10"),attrs:{_i:"27-"+o}},[i("text",{staticClass:n._$s("28-"+o,"sc","flex-1"),attrs:{_i:"28-"+o}},[t._v("\u8d26\u53f7")]),i("text",{staticClass:n._$s("29-"+o,"sc","flex-1"),attrs:{_i:"29-"+o}},[t._v("\u5bc6\u7801")])]),t._l(n._$s("30-"+o,"f",{forItems:e.pickUpCode}),(function(e,a,r,c){return i("view",{key:n._$s("30-"+o,"f",{forIndex:r,key:a}),staticClass:n._$s("30-"+o+"-"+c,"sc","ti-flex font-32 padding-lr-24 padding-top-10 colorRed"),attrs:{_i:"30-"+o+"-"+c}},[i("text",{staticClass:n._$s("31-"+o+"-"+c,"sc","flex-1"),attrs:{_i:"31-"+o+"-"+c}},[t._v(n._$s("31-"+o+"-"+c+s,"t0-0",t._s(e.account)))]),i("text",{staticClass:n._$s("32-"+o+"-"+c,"sc","flex-1"),attrs:{_i:"32-"+o+"-"+c}},[t._v(n._$s("32-"+o+"-"+c+s,"t0-0",t._s(e.password)))]),n._$s("33-"+o+"-"+c,"i",e.isUse)?i("text",{attrs:{_i:"33-"+o+"-"+c}},[t._v("\u5df2\u4f7f\u7528")]):i("text",{staticClass:n._$s("34-"+o+"-"+c,"sc","colorGreen"),attrs:{_i:"34-"+o+"-"+c}},[t._v("\u672a\u4f7f\u7528")])])}))],2):t._e(),i("view",{staticClass:n._$s("35-"+o,"sc","padding-lr-22 padding-bottom-12"),attrs:{_i:"35-"+o}},[n._$s("36-"+o,"i",e.hasMoreGoods)?i("view",{staticClass:n._$s("36-"+o,"sc","margin-top-12"),attrs:{_i:"36-"+o}},[n._$s("37-"+o,"i",0==e.showGoodsType)?i("button",{attrs:{type:"primary",size:"mini",_i:"37-"+o},on:{click:function(i){return t.showMore(e,1)}}},[t._v("\u66f4\u591a\u5546\u54c1")]):t._e(),n._$s("38-"+o,"i",1==e.showGoodsType)?i("button",{attrs:{type:"default",size:"mini",_i:"38-"+o},on:{click:function(i){return t.showMore(e,0)}}},[t._v("\u6536\u8d77\u5546\u54c1")]):t._e()]):t._e(),i("view",{staticClass:n._$s("39-"+o,"sc","font-24 text-right margin-top-12"),attrs:{_i:"39-"+o}},[i("text",{attrs:{_i:"40-"+o}},[t._v(n._$s("40-"+o+s,"t0-0",t._s(e.cart_count)))]),i("text",{staticClass:n._$s("41-"+o,"sc","price font-32 margin-right-0"),attrs:{_i:"41-"+o}},[t._v(n._$s("41-"+o+s,"t0-0",t._s(e.total_fee/100)))]),n._$s("42-"+o,"i",e.discount>0)?[i("text",{attrs:{_i:"43-"+o}},[t._v("\uff0c\u4f18\u60e0")]),i("text",{staticClass:n._$s("44-"+o,"sc","price font-32 margin-right-0"),attrs:{_i:"44-"+o}},[t._v(n._$s("44-"+o+s,"t0-0",t._s(e.discount/100)))])]:t._e()],2),n._$s("45-"+o,"i",e.delivers)?i("view",{staticClass:n._$s("45-"+o,"sc","font-24 text-right margin-top-12 colorBlue"),attrs:{_i:"45-"+o}},t._l(n._$s("46-"+o,"f",{forItems:e.delivers}),(function(e,a,r,c){return n._$s("46-"+o+"-"+c,"i",e.company)?i("view",{key:n._$s("46-"+o,"f",{forIndex:r,key:a}),attrs:{_i:"46-"+o+"-"+c}},[i("text",{attrs:{_i:"47-"+o+"-"+c}},[t._v(n._$s("47-"+o+"-"+c+s,"t0-0",t._s(e.company)))]),i("text",{attrs:{_i:"48-"+o+"-"+c}},[t._v(n._$s("48-"+o+"-"+c+s,"t0-0",t._s(e.number)))])]):t._e()})),0):t._e(),i("view",{staticClass:n._$s("49-"+o,"sc","font-24 text-right margin-top-12"),attrs:{_i:"49-"+o}},[n._$s("50-"+o,"i",e.canCancel)?i("button",{staticClass:n._$s("50-"+o,"sc","margin-right-16"),attrs:{type:"default",size:"mini",_i:"50-"+o},on:{click:function(i){return t.cancelOrder(e)}}},[t._v("\u53d6\u6d88\u8ba2\u5355")]):t._e(),n._$s("51-"+o,"i",-1==e.state.value)?i("button",{attrs:{type:"default",size:"mini",_i:"51-"+o},on:{click:function(i){return t.deleteOrder(e)}}},[t._v("\u5220\u9664\u8ba2\u5355")]):t._e(),n._$s("52-"+o,"i",0==e.state.value)?[i("button",{attrs:{type:"primary",size:"mini",_i:"53-"+o},on:{click:function(i){return t.payOrder(e)}}},[t._v("\u53bb\u652f\u4ed8")])]:t._e(),n._$s("54-"+o,"i",2==e.state.value)?[i("button",{attrs:{type:"primary",size:"mini",_i:"55-"+o},on:{click:function(i){return t.finishOrder(e)}}},[t._v("\u786e\u5b9a\u6536\u8d27")])]:t._e()],2)])])})),0),n._$s("56-"+s,"i",r||o)?i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"56-"+s}}):t._e()]}}])}),i("tian-payment",{ref:"payment",attrs:{value:t.order,confirm:!1,_i:57},on:{success:t.paymentSuccess,close:t.closePayment}})],1)},a=[]},"44fc":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default,tianEmpty:i("2789").default,tianGoodsPrice:i("956e").default,uniList:i("52ab").default,uniListItem:i("908c").default,uniPopup:i("36ef").default,uniPopupDialog:i("a92f").default,tianPayment:i("a7b8").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[t._$s(1,"i",t.formData.needAddress)?i("view",{staticClass:t._$s(1,"sc","head-bg"),attrs:{_i:1}}):t._e(),t._$s(2,"i",t.formData.needAddress)?i("view",{staticClass:t._$s(2,"sc","line-panel bg-white border-radius"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","tabs"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","tab-header ti-flex text-center padding-12"),attrs:{_i:4}},[i("view",{staticClass:t._$s(5,"sc","flex-1"),attrs:{_i:5}},[i("text")])])]),i("view",{staticClass:t._$s(7,"sc","address padding-22"),attrs:{_i:7},on:{click:function(e){return t.navTo("/pages/address/list?source=settlement")}}},[t._$s(8,"i",t.formData.address&&t.formData.address._id)?i("view",{staticClass:t._$s(8,"sc","ti-flex padding-bottom-22"),attrs:{_i:8}},[i("tian-icons",{attrs:{type:"shouhuodizhi1",size:"24",_i:9}}),i("view",{staticClass:t._$s(10,"sc","margin-left-20 flex-1"),attrs:{_i:10}},[i("view",{staticClass:t._$s(11,"sc","padding-bottom-12"),attrs:{_i:11}},[i("text",{staticClass:t._$s(12,"sc","font-32"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.formData.address.name)))]),i("text",{staticClass:t._$s(13,"sc","margin-left-20 font-28"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.formData.address.mobile)))])]),i("view",{staticClass:t._$s(14,"sc","colorGray font-24"),attrs:{_i:14}},[i("text",[t._v(t._$s(15,"t0-0",t._s(t.formData.address.formatted_address)))]),i("text",[t._v(t._$s(16,"t0-0",t._s(t.formData.address.address)))])])]),i("tian-icons",{attrs:{type:"xiangyou1",color:"#cccccc",_i:17}})],1):i("tian-empty",{attrs:{text:"\u8bf7\u9009\u62e9\u6536\u8d27\u5730\u5740",iconSize:"36",mode:"shouhuodizhi",_i:18}})],1),i("view",{staticClass:t._$s(19,"sc","line-box"),attrs:{_i:19}},t._l(40,(function(e,n,s,a){return i("view",{key:n,staticClass:t._$s("20-"+a,"sc","line-icon"),attrs:{_i:"20-"+a}})})),0)]):t._e(),i("view",{staticClass:t._$s(21,"sc","cart-goods-list"),attrs:{_i:21}},[t._l(t._$s(22,"f",{forItems:t.formData.goodsList}),(function(e,n,s,a){return i("view",{key:t._$s(22,"f",{forIndex:s,key:n}),staticClass:t._$s("22-"+a,"sc","goods"),attrs:{_i:"22-"+a}},[i("image",{staticClass:t._$s("23-"+a,"sc","image-width-168 goods-image"),attrs:{src:t._$s("23-"+a,"a-src",e.goods_thumb),_i:"23-"+a}}),i("view",{staticClass:t._$s("24-"+a,"sc","goods-content"),attrs:{_i:"24-"+a}},[i("view",{staticClass:t._$s("25-"+a,"sc","title"),attrs:{_i:"25-"+a}},[i("text",[t._v(t._$s("26-"+a,"t0-0",t._s(e.name)))])]),t._$s("27-"+a,"i",e.sku_name)?i("view",[i("text",{staticClass:t._$s("28-"+a,"sc","sub-title"),attrs:{_i:"28-"+a}},[t._v(t._$s("28-"+a,"t0-0",t._s(e.sku_name)))])]):t._e(),i("tian-goods-price",{attrs:{hasCart:!1,hasAmount:!1,readAmount:!0,value:e,_i:"29-"+a}})],1)])})),i("uni-list",{staticClass:t._$s(30,"sc","margin-top-22"),attrs:{_i:30}},[i("uni-list-item",{attrs:{title:"\u4e70\u5bb6\u7559\u8a00",link:!0,note:t.formData.remarks,clickable:!0,_i:31},on:{click:t.changeComment}}),i("uni-list-item",{attrs:{title:"\u4f18\u60e0\u5238",link:!0,rightText:t.coupons,to:"/pages/order/coupons",_i:32}}),i("uni-list-item",{attrs:{title:"\u53d1\u7968",link:!0,rightText:t.invoice,clickable:!0,_i:33},on:{click:t.changeInvoice}}),t._$s(34,"i",!t.formData.mustUseScore)?i("uni-list-item",{attrs:{title:"\u4f7f\u7528\u79ef\u5206",link:!0,note:t.scoreText,rightText:t.scoreResultText,clickable:!0,_i:34},on:{click:t.changeScore}}):t._e()],1),i("uni-list",{staticClass:t._$s(35,"sc","margin-top-22"),attrs:{_i:35}},[i("uni-list-item",{attrs:{title:"\u5546\u54c1\u5c0f\u8ba1",rightText:t.goodsTotalText,_i:36}}),i("uni-list-item",{attrs:{title:"\u4f18\u60e0",rightText:t.discountText,_i:37}}),i("uni-list-item",{attrs:{title:"\u79ef\u5206\u5151\u6362",rightText:t.scoreMoneyResultText,_i:38}}),i("uni-list-item",{attrs:{title:"\u8fd0\u8d39",rightText:t.freightText,_i:39}})],1)],2),i("view",{staticClass:t._$s(40,"sc","fix-bottom padding-22"),attrs:{_i:40}},[i("view",[i("text"),i("text",{staticClass:t._$s(43,"sc","price font-32"),attrs:{_i:43}},[t._v(t._$s(43,"t0-0",t._s(t.totalText)))])]),i("view",{staticClass:t._$s(44,"sc","padding-left-50"),attrs:{_i:44}},[i("button",{staticClass:t._$s(45,"sc","padding-left-50 padding-right-50"),attrs:{_i:45},on:{click:t.submit}})])]),i("uni-popup",{ref:"scorePopup",attrs:{type:"dialog",_i:46}},[i("uni-popup-dialog",{attrs:{mode:"input",value:t.formData.usedScore?t.formData.usedScore:"",message:"\u6210\u529f\u6d88\u606f",title:"\u4f7f\u7528\u79ef\u5206",placeholder:"\u8bf7\u8f93\u5165\u4f7f\u7528\u6570\u91cf",duration:2e3,_i:47},on:{confirm:t.confirmEditScore}})],1),i("uni-popup",{ref:"remarkPopup",attrs:{type:"dialog",_i:48}},[i("uni-popup-dialog",{attrs:{mode:"input",value:t.formData.remarks,message:"\u6210\u529f\u6d88\u606f",title:"\u4e70\u5bb6\u7559\u8a00",placeholder:"\u8bf7\u8f93\u5165\u7559\u8a00",duration:2e3,_i:49},on:{confirm:t.confirmEditComment}})],1),i("tian-payment",{ref:"payment",attrs:{value:t.order,confirm:!0,_i:50},on:{successed:t.paySuccess,close:t.closePayment}})],1)},a=[]},"44fc9":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default,uniNumberBox:i("68a0").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","goods-price-container"),class:t._$s(0,"c",[t.size]),attrs:{_i:0}},[t._$s(1,"i",t.item.is_vip)?i("view",[i("view",[i("text",{staticClass:t._$s(3,"sc","price"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.item.price/100)))]),t._$s(4,"i",t.item.use_score)?i("text",{staticClass:t._$s(4,"sc","font-20"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.item.use_score))+t._$s(4,"t0-1",t._s(t.scoreName)))]):t._e()]),t._$s(5,"i",t.item.member)?i("view",{staticClass:t._$s(5,"sc","member"),attrs:{_i:5}},[i("text",{staticClass:t._$s(6,"sc","price small"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.item.member.price/100)))]),i("text",{staticClass:t._$s(7,"sc","name"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.item.member.name)))])]):t._e()]):i("view",[i("text",{staticClass:t._$s(9,"sc","price"),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s(t.item.price/100)))]),t._$s(10,"i",t.item.use_score)?i("text",{staticClass:t._$s(10,"sc","font-20"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.item.use_score))+t._$s(10,"t0-1",t._s(t.scoreName)))]):t._e(),t._$s(11,"i",t.item.market_price>t.item.price)?i("text",{staticClass:t._$s(11,"sc","price del"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.item.market_price/100)))]):t._e()]),i("view",{staticClass:t._$s(12,"sc","font-24"),attrs:{_i:12}},[t._$s(13,"i",t.hasSaleCount)?i("view",{staticClass:t._$s(13,"sc","colorGray"),attrs:{_i:13}},[i("text",[t._v(t._$s(14,"t0-0",t._s(t.item.month_sell_count)))])]):t._e()]),t._$s(15,"i",t.hasCart)?i("tian-icons",{attrs:{type:"jiahao2fill",color:"#ff5a1d",size:"26",_i:15},on:{click:function(e){return t.openSku()}}}):t._$s(16,"e",t.hasAmount)?i("uni-number-box",{attrs:{min:1,max:99,step:1,_i:16},on:{change:function(e){return t.changeAmount()}},model:{value:t._$s(16,"v-model",t.amount),callback:function(e){t.amount=e},expression:"amount"}}):t._$s(17,"e",t.readAmount)?i("view",[i("text",[t._v(t._$s(18,"t0-0",t._s(t.amount)))])]):t._e()],1)},a=[]},"454a":function(t,e,i){"use strict";i.r(e);var n=i("002c"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"454e":function(t,e,i){"use strict";(function(t){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{type:"",loadmore:0,refresh:0,configs:{}}},onLoad:function(t){this.type=t.type,this.configs=n(n({},t),{},{parent_id:t.id}),t.title&&(this.barTitle=t.title)},onPullDownRefresh:function(){t("log","\u5237\u65b0\u6574\u9875"," at pages/app/pages.vue:31"),uni.stopPullDownRefresh(),this.refresh=Date.now()},onReachBottom:function(){t("log","\u52a0\u8f7d\u4e0b\u4e00\u9875"," at pages/app/pages.vue:36"),this.loadmore=Date.now()}};e.default=a}).call(this,i("0de9")["default"])},"458a":function(t,e,i){"use strict";i.r(e);var n=i("479f"),s=i("8318");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"45ac":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","pay-container"),style:t._$s(0,"s",t.bgStyle),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","padding-20"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc"," ti-flex "),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","flex-1"),attrs:{_i:3}}),t._$s(4,"i",t.order.src)?i("image",{staticClass:t._$s(4,"sc","image-width-100 border-radius"),attrs:{src:t._$s(4,"a-src",t.order.src),_i:4}}):t._e(),i("view",{staticClass:t._$s(5,"sc","flex-1"),attrs:{_i:5}})]),t._$s(6,"i",t.order.body)?i("view",{staticClass:t._$s(6,"sc","text-center font-20 colorGray margin-top-8"),attrs:{_i:6}},[i("text",[t._v(t._$s(7,"t0-0",t._s(t.order.body)))])]):t._e()]),i("view",[i("view",{staticClass:t._$s(9,"sc","ti-flex font-38 "),attrs:{_i:9}},[i("text",{staticClass:t._$s(10,"sc","padding-left-10"),attrs:{_i:10}}),i("view",{staticClass:t._$s(11,"sc","flex-1 text-right"),attrs:{_i:11}},[i("text",[t._v(t._$s(12,"t0-0",t._s(t.showMoney)))])]),i("text",{staticClass:t._$s(13,"sc","margin-left-10 guangbiao"),class:t._$s(13,"c",{active:t.active}),attrs:{_i:13}}),i("text",{staticClass:t._$s(14,"sc","margin-left-10"),attrs:{_i:14}})])]),t._$s(15,"i",t.showKeyboard)?i("view",{staticClass:t._$s(15,"sc","jianpan text-center"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","under-line"),attrs:{_i:16}}),i("view",{staticClass:t._$s(17,"sc","ti-flex under-line"),attrs:{_i:17}},[i("button",{staticClass:t._$s(18,"sc","flex-1 unbutton"),attrs:{_i:18},on:{click:function(e){return t.btn(1)}}}),i("view",{staticClass:t._$s(19,"sc","flex-1 left-line"),attrs:{_i:19}},[i("button",{staticClass:t._$s(20,"sc"," unbutton "),attrs:{_i:20},on:{click:function(e){return t.btn(2)}}})]),i("view",{staticClass:t._$s(21,"sc","flex-1 left-line"),attrs:{_i:21}},[i("button",{staticClass:t._$s(22,"sc"," unbutton "),attrs:{_i:22},on:{click:function(e){return t.btn(3)}}})]),i("view",{staticClass:t._$s(23,"sc","flex-1 left-line"),attrs:{_i:23},on:{click:function(e){return t.del()}}},[i("image",{attrs:{_i:24}})])]),i("view",{staticClass:t._$s(25,"sc","ti-flex"),attrs:{_i:25}},[i("view",{staticClass:t._$s(26,"sc","flex-3"),attrs:{_i:26}},[i("view",{staticClass:t._$s(27,"sc","ti-flex under-line "),attrs:{_i:27}},[i("button",{staticClass:t._$s(28,"sc","flex-1 unbutton"),attrs:{_i:28},on:{click:function(e){return t.btn(4)}}}),i("view",{staticClass:t._$s(29,"sc","flex-1 left-line"),attrs:{_i:29}},[i("button",{staticClass:t._$s(30,"sc"," unbutton "),attrs:{_i:30},on:{click:function(e){return t.btn(5)}}})]),i("view",{staticClass:t._$s(31,"sc","flex-1 left-line"),attrs:{_i:31}},[i("button",{staticClass:t._$s(32,"sc"," unbutton "),attrs:{_i:32},on:{click:function(e){return t.btn(6)}}})])]),i("view",{staticClass:t._$s(33,"sc","ti-flex under-line"),attrs:{_i:33}},[i("button",{staticClass:t._$s(34,"sc","flex-1 unbutton"),attrs:{_i:34},on:{click:function(e){return t.btn(7)}}}),i("view",{staticClass:t._$s(35,"sc","flex-1 left-line"),attrs:{_i:35}},[i("button",{staticClass:t._$s(36,"sc"," unbutton "),attrs:{_i:36},on:{click:function(e){return t.btn(8)}}})]),i("view",{staticClass:t._$s(37,"sc","flex-1 left-line"),attrs:{_i:37}},[i("button",{staticClass:t._$s(38,"sc"," unbutton "),attrs:{_i:38},on:{click:function(e){return t.btn(9)}}})])]),i("view",{staticClass:t._$s(39,"sc","ti-flex"),attrs:{_i:39}},[i("button",{staticClass:t._$s(40,"sc","flex-2 unbutton"),attrs:{_i:40},on:{click:function(e){return t.btn("0")}}}),i("view",{staticClass:t._$s(41,"sc","flex-1 left-line"),attrs:{_i:41}},[i("button",{staticClass:t._$s(42,"sc"," unbutton "),attrs:{_i:42},on:{click:function(e){return t.btn(".",1)}}})])])]),i("view",{staticClass:t._$s(43,"sc","flex-1"),attrs:{_i:43}},[i("view",[i("button",{staticClass:t._$s(45,"sc"," unbutton "),attrs:{_i:45},on:{click:t.paymentProcess}})])])])]):t._e()])},a=[]},4615:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{startwith:"index",dataList:[],options:{current:0}}},computed:{isShowTabbar:function(){return this.dataList&&this.dataList.length>1}},props:{configs:{type:Object,default:function(){return{parent_id:""}}},styles:{type:Object,default:function(){return{}}},refresh:{type:Number,default:0},loadmore:{type:Number,default:0}},watch:{refresh:function(t){i("log","watch refresh",t," at uni_modules/tian-mall/components/tian-tab-pages/tian-tab-pages.vue:70"),this.loadData()}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;n.collection("tian-pages").where("state==1").orderBy("posid asc").get({getTree:{limitLevel:10,startWith:'parent_id=="'.concat(this.configs.parent_id,'"')}}).then((function(e){var i=e.result;t.dataList=i.data,t.change(0)}))},change:function(t){i("log","this.current",t," at uni_modules/tian-mall/components/tian-tab-pages/tian-tab-pages.vue:92"),this.options.current=t;var e=this.dataList[t];uni.setNavigationBarTitle({title:e&&e.title?e.title:""})}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},4679:function(t,e,i){"use strict";i.r(e);var n=i("6455"),s=i("6bb4");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},4733:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("a34a")),s=i("c909"),a=i("adf2");function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function c(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){o(a,n,s,r,c,"next",t)}function c(t){o(a,n,s,r,c,"throw",t)}r(void 0)}))}}var u={namespaced:!0,state:{inited:!1,selectCity:"",mustUniverify:!1,mustBindMobile:!1,adConfig:{},pageConfig:{},customer:{},share:{},navMenu:[],cartIndex:0,appName:"\u5929\u5929\u5546\u57ce-\u591a\u5546\u6237\u591a\u7ea7\u5206\u9500\u7535\u5546\u7cfb\u7edf"},getters:{isMustUniverifyLogin:function(t){return!!t.mustUniverify}},mutations:{SET_APP_NAME:function(t,e){t.appName=e},SET_APP_AD:function(t,e){t.adConfig=e},SET_APP_MUST_UNIVERIFY:function(t,e){t.mustUniverify=e},SET_NAV_MENU:function(t,e){t.inited=!0,t.navMenu=e}},actions:{init:function(e,i){return c(n.default.mark((function r(){var o,c;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.state,c=e.commit,i||(i={}),o.pageConfig={},i.city?o.selectCity=i.city:(o.selectCity=uni.getStorageSync("user_select_city"),i.city_id&&(i.city={code:i.city_id}),o.selectCity&&(i.city=o.selectCity)),t("log","store app init",i," at store/modules/app.js:77"),n.abrupt("return",(0,s.request)("app/init",i).then((function(e){var i=e.navMenu,n=e.appName,s=e.userInfo,r=e.share,u=e.customer,l=e.mustUniverify,d=e.mustBindMobile,f=e.pageConfig,h=e.adConfig;o.share=r,o.customer=u,o.mustBindMobile=!!d,c("SET_APP_NAME",n),c("SET_APP_AD",h),c("SET_APP_MUST_UNIVERIFY",l),t("log","app/init",e," at store/modules/app.js:98"),s&&c("user/SET_USER_INFO",s,{root:!0}),o.pageConfig=f,i&&i.length>0&&i.map((function(t,e){uni.setTabBarItem({pagePath:t.pagePath,index:e,text:t.text}),(0,a.saveFile)(t.iconPath,!1,(function(t){uni.setTabBarItem({index:e,iconPath:t})})),(0,a.saveFile)(t.selectedIconPath,!1,(function(t){uni.setTabBarItem({index:e,selectedIconPath:t})}))}))})));case 6:case"end":return n.stop()}}),r)})))()},setAppName:function(t,e){var i=t.commit;i("SET_APP_NAME",e)}}};e.default=u}).call(this,i("0de9")["default"])},4741:function(t,e,i){"use strict";i.r(e);var n=i("63fe"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"476e":function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{index:0,id:"",pageConfigs:{parent_id:"61d6b6781b2236000133a3c6",shop_id:""},item:{},goods:{},refresh:0,loadmore:0,where:"",categoryWhere:""}},computed:{banner:function(){return this.item.banner?this.item.banner:"/static/images/banner.jpg"},bannerStyle:function(){}},onShow:function(){getApp().globalData.searchText=""},onLoad:function(t){this.id=t.id,this.where='shop_id=="'.concat(this.id,'"'),this.categoryWhere='shop_id=="'.concat(this.id,'" && status==true'),this.pageConfigs.shop_id=t.id,this.item=this.getItemData(),this.item.page_id&&(this.pageConfigs.parent_id=this.item.page_id),this.loadData()},methods:{loadCategoryData:function(t){i("log",t," at pages/product/shop.vue:122")},loadData:function(){var t=this;n.collection("tian-mall-shops").doc(this.id).field("id,name,src,banner,monthSale,focus,state,score,online,page_id").get({getOne:!0}).then((function(e){var i=e.result;t.item=t.setShopDefaultData(i.data),t.item.page_id&&(t.pageConfigs.parent_id=t.item.page_id),t.selectTab(1)}))},setShopDefaultData:function(t){var e=["focus","monthSale","score"];return e.map((function(e){t[e]?t[e+"_text"]=t[e]:t[e+"_text"]=0,"score"==e&&t[e]>3?t[e+"_text"]=t[e]+" \u9ad8":t[e]>1e5&&(t[e+"_text"]=parseInt(t[e]/1e4)+"\u4e07")})),t},selectTab:function(t){this.index=t},openSku:function(t){i("log","openSku",t," at pages/product/shop.vue:169"),this.goods=t,this.$refs.tianSkuPop.open()},onReachBottom:function(){i("log","onReachBottom"," at pages/product/shop.vue:177"),this.loadmore=Date.now()}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},"479f":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-load-more"),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",!t.webviewHide&&("circle"===t.iconType||"auto"===t.iconType&&"android"===t.platform)&&"loading"===t.status&&t.showIcon)?i("view",{staticClass:t._$s(1,"sc","uni-load-more__img uni-load-more__img--android-MP"),style:t._$s(1,"s",{width:t.iconSize+"px",height:t.iconSize+"px"}),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-load-more__img-icon"),style:t._$s(2,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-load-more__img-icon"),style:t._$s(3,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:3}}),i("view",{staticClass:t._$s(4,"sc","uni-load-more__img-icon"),style:t._$s(4,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:4}})]):t._$s(5,"e",!t.webviewHide&&"loading"===t.status&&t.showIcon)?i("view",{staticClass:t._$s(5,"sc","uni-load-more__img uni-load-more__img--ios-H5"),style:t._$s(5,"s",{width:t.iconSize+"px",height:t.iconSize+"px"}),attrs:{_i:5}},[i("image",{attrs:{src:t._$s(6,"a-src",t.imgBase64),_i:6}})]):t._e(),t._$s(7,"i",t.showText)?i("text",{staticClass:t._$s(7,"sc","uni-load-more__text"),style:t._$s(7,"s",{color:t.color}),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s("more"===t.status?t.contentdownText:"loading"===t.status?t.contentrefreshText:t.contentnomoreText)))]):t._e()])},a=[]},"47a5":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.database(),n={data:function(){return{formData:{name:"",number:""}}},onLoad:function(){this.userInfo.alipayinfo&&(this.formData=this.userInfo.alipayinfo)},computed:{userInfo:function(){return this.$store.state.user.userInfo}},methods:{submit:function(){var t=this;this.confirmAction((function(){i.collection("uni-id-users").doc(t.userInfo._id).update({alipayinfo:t.formData}).then((function(e){t.$success("\u4fee\u6539\u6210\u529f"),t.navTimeBack(),t.$store.dispatch("user/getUserInfo")}))}),"\u662f\u5426\u786e\u5b9a\u63d0\u4ea4\uff1f")}}};e.default=n}).call(this,i("a9ff")["default"])},"47d0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}}};e.default=n},4868:function(t,e,i){"use strict";i.r(e);var n=i("7b53"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"48b9":function(t,e,i){"use strict";i.r(e);var n=i("d36d"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"48c0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"TianEmpty",props:{src:{type:String,default:""},text:{type:String,default:""},color:{type:String,default:"#c0c4cc"},iconColor:{type:String,default:"#c0c4cc"},iconSize:{type:[String,Number],default:60},fontSize:{type:[String,Number],default:26},mode:{type:String,default:"zengsong"},imgWidth:{type:[String,Number],default:60},imgHeight:{type:[String,Number],default:"auto"},show:{type:Boolean,default:!0},marginTop:{type:[String,Number],default:0},paddingBottom:{type:[String,Number],default:0},iconStyle:{type:Object,default:function(){return{}}}},data:function(){return{icons:{car:"\u8d2d\u7269\u8f66\u4e3a\u7a7a",page:"\u9875\u9762\u4e0d\u5b58\u5728",search:"\u6ca1\u6709\u641c\u7d22\u7ed3\u679c",address:"\u6ca1\u6709\u6536\u8d27\u5730\u5740",wifi:"\u6ca1\u6709WiFi",order:"\u8ba2\u5355\u4e3a\u7a7a",coupon:"\u6ca1\u6709\u4f18\u60e0\u5238",favor:"\u6682\u65e0\u6536\u85cf",permission:"\u65e0\u6743\u9650",history:"\u65e0\u5386\u53f2\u8bb0\u5f55",news:"\u65e0\u65b0\u95fb\u5217\u8868",message:"\u6d88\u606f\u5217\u8868\u4e3a\u7a7a",list:"\u5217\u8868\u4e3a\u7a7a",data:"\u6570\u636e\u4e3a\u7a7a"}}}};e.default=n},"48ea":function(t,e){t.exports="/uni_modules/tian-mall/static/location-center.png"},4901:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"}')},4969:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{zhijie:0,total:0,inviters:!1,todaySignin:!1,todayRate:"0.00",signinRate:"0.00",statistics:{invite_all_total:0,invite_total:0,today_rate:0,today_total:0,month_total:0,yestoday_total:0,week_total:0,today_zhi_total:0,month_zhi_total:0,yestoday_zhi_total:0,week_zhi_total:0},legend:{todaySignRate:"\u4eca\u65e5\u7b7e\u5230\u7387",todaySign:"\u4eca\u65e5\u7b7e\u5230",monthSignRate:"\u5f53\u6708\u7b7e\u5230\u7387"},scores:{today:0,yestoday:0,week:0,month:0}}},onLoad:function(){this.loadData()},computed:{totalText:function(){return this.statistics.invite_total+"\u4eba"},fansTotalText:function(){return this.total-this.zhijie+"\u4eba"}},methods:{loadData:function(){var e=this;this.$request("user/info/team",{level:1},{loading:!0}).then((function(i){t("log","team",i," at pages/user/team/team.vue:172"),e.setRootData(i),e.inviters&&e.buildMember(e.inviters)}))},buildMember:function(e){var i={balance:0,score:0,coupon:0,avatar:"/static/missing-face.png",nickname:"\u533f\u540d"};e.forEach((function(t){for(var e in i)t[e]||(t[e]=i[e])})),t("log","loadMember",e," at pages/user/team/team.vue:197")},tel:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=i}).call(this,i("0de9")["default"])},4987:function(t,e,i){"use strict";(function(t){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{formData:{mobile:"",code:""},codeDuration:0,codeInterVal:null,read:!0,providerList:[]}},onLoad:function(){uni.hideLoading(),t("log","this.inviteCode",this.inviteCode,this.$store.state.user.openid," at pages/login/bindmobile.vue:62")},computed:{appConfig:function(){return this.$config.app},inviteCode:function(){return this.$store.state.user.inviteCode}},methods:{changeRead:function(t){this.read=t.detail.value.length>0},sendSmsCode:function(){var t=this;this.codeDuration?this.$message("\u8bf7\u5728".concat(this.codeDuration,"\u79d2\u540e\u91cd\u8bd5")):/^1\d{10}$/.test(this.formData.mobile)?(uni.showLoading({title:"\u8bf7\u7b49\u5f85"}),this.$request("user/login/sendSms",{mobile:this.formData.mobile}).then((function(e){t.codeDuration=60,t.codeInterVal=setInterval((function(){t.codeDuration--,0===t.codeDuration&&t.codeInterVal&&(clearInterval(t.codeInterVal),t.codeInterVal=null)}),1e3),t.$success("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f")}),(function(e){t.$message("\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25")}))):this.$message("\u624b\u673a\u53f7\u7801\u586b\u5199\u9519\u8bef")},login:function(){var t=this;if(this.isSubmit)return!1;/^1\d{10}$/.test(this.formData.mobile)?/^\d{6}$/.test(this.formData.code)?(this.isSubmit=!0,uni.showLoading({title:"\u8bf7\u7b49\u5f85"}),this.$request("user/info/bind_mobile",{inviteCode:this.inviteCode,channelCode:this.$store.state.user.channelCode,mobile:this.formData.mobile,code:this.formData.code,uid:this.$store.state.user.userInfo._id,openid:this.$store.state.user.openid}).then((function(e){t.loginSuccess(e)}),(function(e){t.isSubmit=!1,t.$message("\u7ed1\u5b9a\u5931\u8d25")}))):this.$message("\u9a8c\u8bc1\u7801\u586b\u5199\u9519\u8bef"):this.$message("\u624b\u673a\u53f7\u7801\u586b\u5199\u9519\u8bef")},loginSuccess:function(t){this.$success("\u7ed1\u5b9a\u6210\u529f"),this.$store.dispatch("mall/getCartTotal"),this.$store.dispatch("user/getUserInfo"),this.navTimeBack()},getPhoneNumber:function(e){var i=this;t("log","getPhoneNumber",e," at pages/login/bindmobile.vue:149"),e.detail.iv&&this.$request("user/login/weixin_phone",n(n({},e.detail),{},{sessionKey:this.$store.state.user.sessionKey,uid:this.$store.state.user.userInfo._id,openid:this.$store.state.user.openid}),{loading:!0}).then((function(e){t("log","getPhoneNumber",e," at pages/login/bindmobile.vue:162"),i.loginSuccess(e)}))}}};e.default=a}).call(this,i("0de9")["default"])},"4a1d":function(t,e,i){"use strict";i.r(e);var n=i("8fc1"),s=i("e73c");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"4a6f":function(t,e,i){"use strict";i.r(e);var n=i("24c6"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"4aae":function(t,e,i){"use strict";i.r(e);var n=i("eb95"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"4d70":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{code:"",state:""}},onLoad:function(e){t("log","auth",e," at pages/app/wx/authorize.vue:16"),this.code=e.code,this.state=e.state,this.getOpenid()},methods:{getOpenid:function(){var t=this;this.$request("user/info/weixin_h5",{code:this.code,state:this.state},{loading:!0}).then((function(e){t.$success("\u64cd\u4f5c\u6210\u529f",1500,!0),t.navTimeBack()}),(function(e){t.$message("\u64cd\u4f5c\u5931\u8d25")}))}}};e.default=i}).call(this,i("0de9")["default"])},"4dfa":function(t,e,i){"use strict";(function(t,i){function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t.database(),o={data:function(){return{where:"",dataList:[],current:0,options:{itemClassName:"",display:"default",mode:"default",width:716,height:300}}},props:{configs:{type:Object,default:function(){return{}}},items:{type:Array,default:function(){return[]}}},created:function(){i("log","ad created",this.configs," at uni_modules/tian-mall/components/tian-banner/tian-banner.vue:52"),this.configs&&(this.options=Object.assign(this.options,s({},this.configs))),this.items&&this.items.length>0?(this.dataList=this.items,this.buildData(this.dataList)):this.loadData()},methods:{navToItem:function(t,e){var i=t.open_url;if("string"==typeof i)if("preview"==i){if(this.options.preview_mode&&"single"==this.options.preview_mode)return void uni.previewImage({current:e,urls:[this.dataList[e].url]});uni.previewImage({current:e,urls:this.dataList.map((function(t){return t.url}))})}else this.navTo(i);else this.$emit("click",t)},change:function(t){this.current=t.detail.current},loadData:function(){var t=this;r.collection("opendb-banner").where('status==true && category_id=="'.concat(this.configs.category_id,'"')).field("open_url,bannerfile").orderBy("sort asc").get().then((function(e){var i=e.result;t.buildData(i.data),t.dataList=i.data}))},buildData:function(t){var e=this;t.forEach((function(t){t.url=e.$thumbImg(t.bannerfile.url,"".concat(e.options.width,"x").concat(e.options.height))}))}}};e.default=o}).call(this,i("a9ff")["default"],i("0de9")["default"])},"4e90":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},s={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(t){return-1!==["dark","light"].indexOf(t)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var t=this,e=getCurrentPages()[0];this.$pageVm=e.$vm||e,this.$pageVm.$on("hook:onResize",(function(e){t.$emit("resize",e)})),this.$pageVm.$on("hook:onPageScroll",(function(e){t.$emit("scroll",e)})),this._currentWebview=e.$getAppWebview(),this.enablePullDownRefresh&&this.setPullDownRefresh(this._currentWebview,!0),this.$watch("enablePullDownRefresh",(function(e){t.setPullDownRefresh(t._currentWebview,e)})),this.$watch("backgroundTextStyle",(function(){t.setBackgroundTextStyle()})),this.$watch((function(){return[t.rootFontSize,t.pageStyle]}),(function(){t.setPageMeta()})),this.$watch((function(){return[t.backgroundColor,t.backgroundColorTop,t.backgroundColorBottom]}),(function(){t.setBackgroundColor()})),this.$watch((function(){return[t.scrollTop,t.scrollDuration]}),(function(){t.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle(),this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(t,e){t.setStyle({pullToRefresh:{support:e,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var t=this,e=String(this.scrollTop);if(-1!==e.indexOf("rpx")&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)){var i=function i(s){s.scrollTop===e&&(t.$pageVm.$off("hook:onPageScroll",i),t.$emit("scrolldone",n))};uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:function(){t.$pageVm.$on("hook:onPageScroll",i)}})}}}};e.default=s},"4ea2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function o(t){r(a,n,s,o,c,"next",t)}function c(t){r(a,n,s,o,c,"throw",t)}o(void 0)}))}}var c={name:"uniFormsItem",props:{custom:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},name:String,required:Boolean,validateTrigger:{type:String,default:""},leftIcon:String,iconColor:{type:String,default:"#606266"},label:String,labelWidth:{type:[Number,String],default:""},labelAlign:{type:String,default:""},labelPosition:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},rules:{type:Array,default:function(){return[]}}},data:function(){return{errorTop:!1,errorBottom:!1,labelMarginBottom:"",errorWidth:"",errMsg:"",val:"",labelPos:"",labelWid:"",labelAli:"",showMsg:"undertext",border:!1,isFirstBorder:!1,isArray:!1,arrayField:""}},computed:{msg:function(){return this.errorMessage||this.errMsg},fieldStyle:function(){var t={};return"top"==this.labelPos&&(t.padding="0 0",this.labelMarginBottom="6px"),"left"==this.labelPos&&!1!==this.msg&&""!=this.msg?(t.paddingBottom="0px",this.errorBottom=!0,this.errorTop=!1):"top"==this.labelPos&&!1!==this.msg&&""!=this.msg?(this.errorBottom=!1,this.errorTop=!0):(this.errorTop=!1,this.errorBottom=!1),t},justifyContent:function(){return"left"===this.labelAli?"flex-start":"center"===this.labelAli?"center":"right"===this.labelAli?"flex-end":void 0},labelLeft:function(){return("left"===this.labelPos?parseInt(this.labelWid):0)+"px"}},watch:{validateTrigger:function(t){this.formTrigger=t}},created:function(){this.form=this.getForm(),this.group=this.getForm("uniGroup"),this.formRules=[],this.formTrigger=this.validateTrigger,this.name&&-1!==this.name.indexOf("[")&&-1!==this.name.indexOf("]")&&(this.isArray=!0,this.arrayField=this.name,this.form.formData[this.name]=this.form._getValue(this.name,""))},mounted:function(){this.form&&this.form.childrens.push(this),this.init()},destroyed:function(){this.__isUnmounted||this.unInit()},methods:{init:function(){if(this.form){var t=this.form,e=t.formRules,i=t.validator,n=(t.formData,t.value,t.labelPosition),s=t.labelWidth,a=t.labelAlign,r=t.errShowType;this.labelPos=this.labelPosition?this.labelPosition:n,this.label?this.labelWid=this.labelWidth?this.labelWidth:s||70:this.labelWid=this.labelWidth?this.labelWidth:s||"auto",this.labelWid&&"auto"!==this.labelWid&&(this.labelWid+="px"),this.labelAli=this.labelAlign?this.labelAlign:a,this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border,this.showMsg=r;var o=this.isArray?this.arrayField:this.name;if(!o)return;e&&this.rules.length>0&&(e[o]||(e[o]={rules:this.rules}),i.updateSchema(e)),this.formRules=e[o]||{},this.validator=i}else this.labelPos=this.labelPosition||"left",this.labelWid=this.labelWidth||65,this.labelAli=this.labelAlign||"left"},unInit:function(){var t=this;this.form&&this.form.childrens.forEach((function(e,i){e===t&&(t.form.childrens.splice(i,1),delete t.form.formData[e.name])}))},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},clearValidate:function(){this.errMsg=""},setValue:function(t){var e=this.isArray?this.arrayField:this.name;if(e){if(this.errMsg&&(this.errMsg=""),this.form.formData[e]=this.form._getValue(e,t),!this.formRules||(this.formRules,"{}"===JSON.stringify(this.formRules)))return;this.triggerCheck(this.form._getValue(this.name,t))}},triggerCheck:function(t,e){var i=this;return o(n.default.mark((function s(){var r,o,c,u,l;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null,i.errMsg="",i.validator&&0!==Object.keys(i.formRules).length){n.next=4;break}return n.abrupt("return");case 4:if(r=i.isRequired(i.formRules.rules||[]),o=i.isTrigger(i.formRules.validateTrigger,i.validateTrigger,i.form.validateTrigger),c=null,!o&&!e){n.next=12;break}return u=i.isArray?i.arrayField:i.name,n.next=11,i.validator.validateUpdate(a({},u,t),i.form.formData);case 11:c=n.sent;case 12:return r||void 0!==t&&""!==t||(c=null),l=i.form.inputChildrens.find((function(t){return t.rename===i.name})),(o||e)&&c&&c.errorMessage?(l&&(l.errMsg=c.errorMessage),"toast"===i.form.errShowType&&uni.showToast({title:c.errorMessage||"\u6821\u9a8c\u9519\u8bef",icon:"none"}),"modal"===i.form.errShowType&&uni.showModal({title:"\u63d0\u793a",content:c.errorMessage||"\u6821\u9a8c\u9519\u8bef"})):l&&(l.errMsg=""),i.errMsg=c?c.errorMessage:"",i.form.validateCheck(c||null),n.abrupt("return",c||null);case 18:case"end":return n.stop()}}),s)})))()},isTrigger:function(t,e,i){return!("submit"===t||!t)||void 0===t&&("bind"===e||!e&&"bind"===i)},isRequired:function(t){for(var e=!1,i=0;i<t.length;i++){var n=t[i];if(n.required){e=!0;break}}return e}}};e.default=c},"4ea5":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-forms-item"),class:t._$s(0,"c",{"uni-forms-item--border":t.border,"is-first-border":t.border&&t.isFirstBorder,"uni-forms-item-error":t.msg}),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-forms-item__box"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-forms-item__inner"),class:t._$s(2,"c",["is-direction-"+t.labelPos]),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-forms-item__label"),style:t._$s(3,"s",{width:t.labelWid,justifyContent:t.justifyContent}),attrs:{_i:3}},[t._t("label",[t._$s(5,"i",t.required)?i("text",{staticClass:t._$s(5,"sc","is-required"),attrs:{_i:5}}):t._e(),t._$s(6,"i",t.leftIcon)?i("uni-icons",{staticClass:t._$s(6,"sc","label-icon"),attrs:{size:"16",type:t.leftIcon,color:t.iconColor,_i:6}}):t._e(),i("text",{staticClass:t._$s(7,"sc","label-text"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.label)))]),t._$s(8,"i",t.label)?i("view",{staticClass:t._$s(8,"sc","label-seat"),attrs:{_i:8}}):t._e()],{_i:4})],2),i("view",{staticClass:t._$s(9,"sc","uni-forms-item__content"),class:t._$s(9,"c",{"is-input-error-border":t.msg}),attrs:{_i:9}},[t._t("default",null,{_i:10})],2)]),t._$s(11,"i",t.msg)?i("view",{staticClass:t._$s(11,"sc","uni-error-message"),class:t._$s(11,"c",{"uni-error-msg--boeder":t.border}),style:t._$s(11,"s",{paddingLeft:t.labelLeft}),attrs:{_i:11}},[i("text",{staticClass:t._$s(12,"sc","uni-error-message-text"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s("undertext"===t.showMsg?t.msg:"")))])]):t._e()])])},a=[]},"4ec5":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniPopup:i("36ef").default,tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","invite-container"),attrs:{_i:0}},[i("image",{staticClass:t._$s(1,"sc","img"),attrs:{_i:1},on:{click:function(e){return t.showPop()}}}),i("view",{staticClass:t._$s(2,"sc","code"),attrs:{_i:2}},[i("text",[t._v(t._$s(3,"t0-0",t._s(t.userInfo.my_invite_code)))])]),i("uni-popup",{ref:"popup",attrs:{_i:4}},[i("view",{staticClass:t._$s(5,"sc","dialog"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","padding-40 padding-top-100"),attrs:{_i:6}},[i("button",{attrs:{_i:7},on:{click:function(e){return t.btnFace()}}},[i("tian-icons",{attrs:{type:"saoma",size:"18",color:"#ffffff",_i:8}}),i("text",{staticClass:t._$s(9,"sc","margin-left-20"),attrs:{_i:9}})],1)]),i("view",{staticClass:t._$s(10,"sc","padding-40"),attrs:{_i:10}},[i("button",{attrs:{_i:11},on:{click:function(e){return t.shareToFriend()}}},[i("tian-icons",{attrs:{type:"fenxiang",size:"18",color:"#fe9a04",_i:12}}),i("text",{staticClass:t._$s(13,"sc","margin-left-20"),attrs:{_i:13}})],1)]),i("view",{staticClass:t._$s(14,"sc","text-center padding-20"),attrs:{_i:14},on:{click:function(e){return t.closePop("popup")}}},[i("tian-icons",{attrs:{type:"guanbi2",size:"40",color:"#ffffff",_i:15}})],1)])]),i("uni-popup",{ref:"codePopup",attrs:{_i:16}},[i("view",{staticClass:t._$s(17,"sc","codeDialog"),attrs:{_i:17}},[i("image",{staticClass:t._$s(18,"sc","codeDialogBg"),attrs:{_i:18}}),i("view",{staticClass:t._$s(19,"sc","info"),attrs:{_i:19}},[i("image",{staticClass:t._$s(20,"sc","image-width-120 bg-white border-radius user-avatar"),attrs:{src:t._$s(20,"a-src",t.userInfo.avatar),_i:20}}),i("view",[i("text",[t._v(t._$s(22,"t0-0",t._s(t.userInfo.nickname)))])]),i("view",{staticClass:t._$s(23,"sc","font-24 colorGray"),attrs:{_i:23}},[i("text")]),i("view",{staticClass:t._$s(25,"sc","margin-top-60"),attrs:{_i:25}},[i("text")]),i("view",{staticClass:t._$s(27,"sc","font-bold"),attrs:{_i:27}},[i("text",[t._v(t._$s(28,"t0-0",t._s(t.userInfo.my_invite_code)))])]),i("view",{staticClass:t._$s(29,"sc","margin-top-12"),attrs:{_i:29}}),i("canvas",{staticClass:t._$s(30,"sc","canvas-hide"),attrs:{_i:30}}),i("image",{attrs:{src:t._$s(31,"a-src",t.qrcodeSrc),_i:31}}),i("view",{staticClass:t._$s(32,"sc","text-center padding-10"),attrs:{_i:32},on:{click:function(e){return t.closePop("codePopup")}}},[i("tian-icons",{attrs:{type:"guanbi2",size:"40",_i:33}})],1)])])])],1)},a=[]},"4f00":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,tianEmpty:i("2789").default,tianGoodsPrice:i("956e").default,uniLoadMore:i("458a").default,tianGoodsSku:i("5a97").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","goods-list-container"),class:t._$s(0,"c",[t.configs.style,t.configs.bgClassName]),style:t._$s(0,"s",t.bgStyle),attrs:{_i:0},on:{click:t.bgClick}},[i("scroll-view",{attrs:{"scroll-y":t._$s(1,"a-scroll-y",!!t.configs.scrollY),_i:1},on:{scrolltolower:t.scrolltolower}},[i("unicloud-db",{ref:"udb",attrs:{collection:"opendb-mall-goods",action:"goods_member",field:"goods_sn,name,keywords,shop_id,goods_summary,goods_thumb,goods_banner,price,market_price,sku_name,is_vip,remain_count,month_sell_count,total_sell_count,comment_count,is_real,is_on_sale,is_alone_sale,is_best,is_new,is_hot,add_date,last_modify_date,use_score,use_score_rate",where:t.where,options:t.configs,"page-size":t.configs.page_size,orderby:t.orderby,_i:2},on:{load:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options),c=e.hasMore;return[n._$s("3-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u6570\u636e",marginTop:"200",_i:"3-"+s}}):t._e(),i("view",{staticClass:n._$s("4-"+s,"sc","goods-list"),class:n._$s("4-"+s,"c",[o.style]),attrs:{_i:"4-"+s}},t._l(n._$s("5-"+s,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s("5-"+s,"f",{forIndex:r,key:a}),staticClass:n._$s("5-"+s+o,"sc","under-line goods"),class:n._$s("5-"+s+o,"c",t.configs.itemClassName),attrs:{_i:"5-"+s+o}},[i("image",{staticClass:n._$s("6-"+s+o,"sc","image-width-168 goods-image"),style:n._$s("6-"+s+o,"s",e.style),attrs:{src:n._$s("6-"+s+o,"a-src",e.banner_path),mode:"aspectFill",_i:"6-"+s+o},on:{click:function(i){return i.stopPropagation(),t.navToDetail(e)}}}),i("view",{staticClass:n._$s("7-"+s+o,"sc","goods-content"),attrs:{_i:"7-"+s+o}},[i("view",{staticClass:n._$s("8-"+s+o,"sc","title"),attrs:{_i:"8-"+s+o},on:{click:function(i){return i.stopPropagation(),t.navToDetail(e)}}},[i("text",{attrs:{_i:"9-"+s+o}},[t._v(n._$s("9-"+s+o,"t0-0",t._s(e.name)))])]),n._$s("10-"+s+o,"i",e.goods_summary)?i("view",{staticClass:n._$s("10-"+s+o,"sc","desc colorGray font-24 padding-top-8"),attrs:{_i:"10-"+s+o}},[i("text",{attrs:{_i:"11-"+s+o}},[t._v(n._$s("11-"+s+o,"t0-0",t._s(e.goods_summary)))])]):t._e(),i("tian-goods-price",{attrs:{hasCart:e.hasCart,hasSaleCount:e.hasSaleCount,value:e,_i:"12-"+s+o},on:{click:function(i){return t.openSku(e)}}})],1)])})),0),n._$s("13-"+s,"i",o.loading)?i("uni-load-more",{attrs:{status:"loading",_i:"13-"+s}}):n._$s(14,"e",o.loadmore)?i("uni-load-more",{attrs:{status:r?"loading":c?"more":"noMore",_i:14}}):t._e()]}}])}),t._$s(15,"i",t.withSku)?i("tian-goods-sku",{ref:"tianSkuPop",attrs:{value:t.goods,_i:15}}):t._e()],1)])},a=[]},"4fbe":function(t,e,i){"use strict";(function(t){function i(t,e){return o(t)||r(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){s=!0,a=c}finally{try{n||null==o["return"]||o["return"]()}finally{if(s)throw a}}return i}}function o(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c={data:function(){return{isItemClick:!1,bgStyle:"",goods:{}}},props:{configs:{type:Object,default:function(){return{checkLocation:!0,loadmore:!1,loading:!1,bgClassName:"none",itemClassName:"none",style:"",image_size:"260x260",page_size:20,scrollY:!1}}},condition:{type:String,default:""},withSku:{type:Boolean,default:!0},refresh:{type:Number,default:0},loadmore:{type:Number,default:0}},computed:{where:function(){var t=["is_on_sale==true"];return this.configs&&this.configs.condition&&t.push("(".concat(this.configs.condition,")")),this.condition&&t.push("(".concat(this.condition,")")),t.join(" && ")},orderby:function(){return this.configs&&this.configs.order?this.configs.order:"last_modify_date desc"}},watch:{loadmore:function(){this.scrolltolower()},configs:function(e){t("log","goods list configs",e," at uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue:106")}},created:function(){},methods:{bgClick:function(){!this.isItemClick&&this.configs.top_url&&(t("log","bg click"," at uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue:113"),this.navTo(this.configs.top_url))},loadData:function(e){var n=this;t("log","goods list",this.configs,e," at uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue:118"),e.forEach((function(t){if(t.style="",t.hasCart=!0,t.hasSaleCount=!1,t.banner_path=n.$thumbImg(t.goods_thumb,n.configs.image_size||"260x260"),"style-big-image"==n.configs.style){if(t.goods_banner&&t.goods_banner.path){var e=t.goods_banner;if(n.configs.image_size){var s=n.configs.image_size.split("x"),a=i(s,1),r=a[0],o=parseInt(e.image.height*r/e.image.width);t.style="width:".concat(r,"rpx;height:").concat(o,"rpx;"),t.banner_path=n.$thumbImg(e.path,"".concat(r,"x").concat(o))}else t.banner_path=e.path,t.style="width:".concat(e.image.width,"rpx;height:").concat(e.image.height,"rpx;")}t.is_real||(t.hasCart=!1,t.hasSaleCount=!0)}else t.name=t.name?t.name.substr(0,30):""})),this.configs.background_img&&(this.bgStyle="background-image:url(".concat(this.configs.background_img,") ; background-repeat: no-repeat;    background-size: 100%;"))},scrolltolower:function(){t("log","goods scrolltolower"," at uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue:156"),this.configs.loadmore&&this.$refs.udb.loadMore()},loadMoreData:function(){t("log","goods loadmore"," at uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue:163"),this.$refs.udb.loadMore()},navToDetail:function(t){this.navTo("/pages/product/detail?id="+t._id,t)},openSku:function(t){var e=this;return this.withSku?(this.goods=t,this.$refs.tianSkuPop.open()):this.$emit("click",t),this.isItemClick=!0,setTimeout((function(){e.isItemClick=!1}),2e3),!1}}};e.default=c}).call(this,i("0de9")["default"])},5021:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"cloud-image",data:function(){return{val:"",srcList:[]}},props:{name:{type:String,default:"image"},title:{type:String,default:""},tips:{type:[String,Number],default:""},value:[Number,String,Array],suffixIcon:{type:String,default:"plusempty"},imageNumber:{type:Number,default:1},size:{type:String,default:""},iconSize:{type:Number,default:50},isWrap:{type:Boolean,default:!1},isHold:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},watch:{value:function(t){"object"==typeof t&&t?this.srcList=t:this.val=t,this.formItem&&this.formItem.setValue(t)}},computed:{isShowIcon:function(){return!this.disabled&&(!!this.suffixIcon&&(!!this.isHold||(this.imageNumber>1?this.imageNumber-this.srcList.length>0:!this.val)))},imageSizeStyle:function(){if(this.size){var t=this.size.split("x");return 1==t.length&&t.push(t[0]),"width:".concat(t[0],"rpx;height:").concat(t[1],"rpx;")}return""}},created:function(){t("log",typeof this.value," at uni_modules/cloud-image/components/cloud-image/cloud-image.vue:158"),"object"==typeof this.value&&this.value?this.srcList=this.value:this.val=this.value,this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this))},methods:{init:function(){},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},uploadCallback:function(t){1==this.imageNumber?(this.val=t[0],this.$emit("input",this.val)):(this.srcList=this.srcList.concat(t),this.$emit("input",this.srcList))},del:function(t){this.srcList.splice(t,1),this.$emit("input",this.srcList)},previewImage:function(t){uni.previewImage({current:t,urls:this.srcList})},upload:function(){var e=this;if(this.disabled)return this.previewImage(0),!1;new Date;function n(e,n,s){return new Promise((function(s,a){i.uploadFile({filePath:e,cloudPath:n,onUploadProgress:function(t){},success:function(e){t("log","cloudUploadFile",e," at uni_modules/cloud-image/components/cloud-image/cloud-image.vue:261"),-1!=e.fileID.indexOf("cloud://")?i.getTempFileURL({fileList:[e.fileID]}).then((function(t){s(t.fileList[0].tempFileURL)})):setTimeout((function(){s(e.fileID)}),200)},fail:function(){a(!1)}})}))}uni.chooseImage({count:this.imageNumber-this.srcList.length,success:function(i){t("log",i," at uni_modules/cloud-image/components/cloud-image/cloud-image.vue:224");var s=[];uni.showLoading({title:"\u56fe\u7247\u4e0a\u4f20\u4e2d"}),i.tempFilePaths.map((function(a,r){var o=["jpg"];t("log",i.tempFiles[r]," at uni_modules/cloud-image/components/cloud-image/cloud-image.vue:233"),i.tempFiles[r].name&&i.tempFiles[r].name.indexOf(".")>0?o=i.tempFiles[r].name.split("."):i.tempFiles[r].path&&i.tempFiles[r].path.indexOf(".")>0&&(o=i.tempFiles[r].path.split("."));var c=(Math.random()+"").substr(2)+"."+o[o.length-1],u=e.name+"/"+c,l=n(a,u,r);s.push(l)})),Promise.all(s).then((function(i){t("log",i," at uni_modules/cloud-image/components/cloud-image/cloud-image.vue:247"),uni.hideLoading(),e.uploadCallback(i)}))}})}}};e.default=n}).call(this,i("0de9")["default"],i("a9ff")["default"])},5032:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniGrid",emits:["change"],props:{column:{type:Number,default:3},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"#D2D2D2"},square:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0}},provide:function(){return{grid:this}},data:function(){var t="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{elId:t,width:0}},created:function(){this.children=[]},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))},methods:{init:function(){var t=this;setTimeout((function(){t._getSize((function(e){t.children.forEach((function(t,i){t.width=e}))}))}),50)},change:function(t){this.$emit("change",t)},_getSize:function(t){var e=this;uni.createSelectorQuery().in(this).select("#".concat(this.elId)).boundingClientRect().exec((function(i){e.width=parseInt((i[0].width-1)/e.column)+"px",t(e.width)}))}}};e.default=n},5071:function(t,e,i){"use strict";i.r(e);var n=i("6891"),s=i("55c4");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"837db690",null,!1,n["a"],r);e["default"]=c.exports},5079:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.initInterceptor=r;var n=a(i("f9f2")),s=a(i("992a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(e){uni.addInterceptor("navigateTo",{invoke:function(i){var a=-1!=i.url.indexOf("pages/admin");return-1==i.url.indexOf("login=true")&&!a||n.default.getters["user/isTokenValid"]?a&&!e.prototype.$hasPermission(i.url.split("pages/admin")[1])?(t("error","\u6ca1\u6709\u6743\u9650"," at js_sdk/mall/interceptor.js:26"),uni.showModal({title:"\u6ca1\u6709\u8bbf\u95ee\u6743\u9650",content:"\u8bf7\u8054\u7cfb\u5ba2\u670d\u89e3\u51b3",showCancel:!1,success:function(){}}),!1):void 0:(uni.showModal({title:s.default.login.title,content:s.default.login.content,showCancel:!1,success:function(){uni.navigateTo({url:s.default.login.url})}}),!1)},fail:function(t){var e=t.errMsg;-1!==e.indexOf("is not found")&&uni.navigateTo({url:s.default.error.url+"?errMsg="+e})}})}}).call(this,i("0de9")["default"])},"50ab":function(t,e,i){"use strict";i.r(e);var n=i("632a"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},5163:function(t,e,i){"use strict";i.r(e);var n=i("04c6"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"51ae":function(t,e,i){"use strict";i.r(e);var n=i("63bb"),s=i("8ac8");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"51d0":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("de6f"),a=r(i("fe4c"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l=t.database(),d="uni-id-channel";function f(t){var e={};for(var i in s.validator)t.indexOf(i)>-1&&(e[i]=s.validator[i]);return e}var h={mixins:[a.default],data:function(){return{type:"2",loaded:!1,qrcode:"",formDataId:"",address:{},formData:{status:0,title:"",mobile:null},dayTotal:[],formOptions:{},rules:c({},f(["title","mobile","status"]))}},onLoad:function(t){t.type&&(this.type=t.type),this.loadData()},onReady:function(){this.$refs.form&&this.$refs.form.setRules(this.rules)},watch:{userInfo:function(){this.loadData()}},computed:{isEdit:function(){return 0==this.formData.status||3==this.formData.status},userInfo:function(){return this.$store.state.user.userInfo}},methods:{chooseAddress:function(){var t=this;uni.chooseLocation({success:function(e){t.address={name:e.name,address:e.address,longitude:e.longitude,latitude:e.latitude}}})},submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.submit().then((function(e){t.address.name?(e.status=1,e.address=t.address,e.modified=Date.now(),t.submitForm(e)):t.$message("\u8bf7\u9009\u62e9\u5730\u5740")})).catch((function(t){uni.hideLoading()}))},submitForm:function(t){var e=this;this.formDataId?l.action("channel_apply").collection(d).doc(this.formDataId).update(t).then((function(t){uni.showToast({icon:"none",title:"\u4fee\u6539\u6210\u529f"})})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading(),e.loadData()})):l.action("genStringId,channel_apply").collection(d).add(t).then((function(t){uni.showToast({icon:"none",title:"\u7533\u8bf7\u6210\u529f"})})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading(),e.loadData()}))},loadData:function(){var t=this;n("log","this.userInfo",this.userInfo," at pages/user/channel.vue:201"),this.userInfo._id&&l.collection(d).where("user_id==$cloudEnv_uid").get({getOne:!0}).then((function(e){var i=e.result;if(i.data){if(t.address=i.data.address,t.formDataId=i.data._id,delete i.data._id,2==i.data.status){if(i.data.total=i.data.total?i.data.total:0,i.data.day_total){var s=[];for(var a in i.data.day_total)s.push({time:a,day:t.$dateFormat("Y-m-d",a),total:i.data.day_total[a]});s.sort((function(t,e){return e.time-t.time})),t.dayTotal=s,n("log","this.dayTotal",t.dayTotal," at pages/user/channel.vue:230")}t.setGlobalShareContent(),n("log","this.share",t.share," at pages/user/channel.vue:234"),setTimeout((function(){t.$refs.uqrcode.make({size:355,text:t.share.href})}),1e3)}t.formData=i.data}t.loaded=!0,n("log","result",i," at pages/user/channel.vue:262")}))},goHome:function(){uni.switchTab({url:"/pages/index/index"})}}};e.default=h}).call(this,i("a9ff")["default"],i("0de9")["default"])},"51e4":function(t,e,i){"use strict";i.r(e);var n=i("f930"),s=i("2369");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"51ea":function(t,e,i){"use strict";i.r(e);var n=i("fd78"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},5200:function(t,e,i){"use strict";i.r(e);var n=i("6d97"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},5214:function(t,e,i){"use strict";i.r(e);var n=i("1bdd"),s=i("a2eb");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"bb6acdf2",null,!1,n["a"],r);e["default"]=c.exports},5258:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{ref:"uni-rate",staticClass:t._$s(1,"sc","uni-rate"),attrs:{_i:1}},t._l(t._$s(2,"f",{forItems:t.stars}),(function(e,n,s,a){return i("view",{key:t._$s(2,"f",{forIndex:s,key:n}),staticClass:t._$s("2-"+a,"sc","uni-rate__icon"),class:t._$s("2-"+a,"c",{"uni-cursor-not-allowed":t.disabled}),style:t._$s("2-"+a,"s",{"margin-right":t.marginNumber+"px"}),attrs:{_i:"2-"+a},on:{touchstart:function(e){return e.stopPropagation(),t.touchstart(e)},touchmove:function(e){return e.stopPropagation(),t.touchmove(e)},mousedown:function(e){return e.stopPropagation(),t.mousedown(e)},mousemove:function(e){return e.stopPropagation(),t.mousemove(e)},mouseleave:t.mouseleave}},[i("uni-icons",{attrs:{color:t.color,size:t.size,type:t.isFill?"star-filled":"star",_i:"3-"+a}}),i("view",{staticClass:t._$s("4-"+a,"sc","uni-rate__icon-on"),style:t._$s("4-"+a,"s",{width:e.activeWitch}),attrs:{_i:"4-"+a}},[i("uni-icons",{attrs:{color:t.disabled?t.disabledColor:t.activeColor,size:t.size,type:"star-filled",_i:"5-"+a}})],1)],1)})),0)])},a=[]},"52ab":function(t,e,i){"use strict";i.r(e);var n=i("144d"),s=i("3d1d");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"1d6c74a2",null,!1,n["a"],r);e["default"]=c.exports},"52fd":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"531f":function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"}')},"53cc":function(t,e,i){"use strict";i.r(e);var n=i("1aaa"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"545b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n="other",s={name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Object,default:function(){return{}}},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:function(){return{fabShow:!1,isShow:!1,isAndroidNvue:"android"===n,styles:{color:"#3c3e49",selectedColor:"#007AFF",backgroundColor:"#fff",buttonColor:"#007AFF",iconColor:"#fff"}}},computed:{contentWidth:function(t){return 55*(this.content.length+1)+15+"px"},contentWidthMin:function(){return"55px"},boxWidth:function(){return this.getPosition(3,"horizontal")},boxHeight:function(){return this.getPosition(3,"vertical")},leftBottom:function(){return this.getPosition(0,"left","bottom")},rightBottom:function(){return this.getPosition(0,"right","bottom")},leftTop:function(){return this.getPosition(0,"left","top")},rightTop:function(){return this.getPosition(0,"right","top")},flexDirectionStart:function(){return this.getPosition(1,"vertical","top")},flexDirectionEnd:function(){return this.getPosition(1,"vertical","bottom")},horizontalLeft:function(){return this.getPosition(2,"horizontal","left")},horizontalRight:function(){return this.getPosition(2,"horizontal","right")}},watch:{pattern:{handler:function(t,e){this.styles=Object.assign({},this.styles,t)},deep:!0}},created:function(){this.isShow=this.show,0===this.top&&(this.fabShow=!0),this.styles=Object.assign({},this.styles,this.pattern)},methods:{_onClick:function(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open:function(){this.isShow=!0},close:function(){this.isShow=!1},_onItemClick:function(t,e){this.$emit("trigger",{index:t,item:e})},getPosition:function(t,e,i){return 0===t?this.horizontal===e&&this.vertical===i:1===t?this.direction===e&&this.vertical===i:2===t?this.direction===e&&this.horizontal===i:this.isShow&&this.direction===e?this.contentWidth:this.contentWidthMin}}};e.default=s},5492:function(t,e,i){"use strict";i.r(e);var n=i("c903"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"549f":function(t,e,i){"use strict";i.r(e);var n=i("869c"),s=i("c2b7");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"3f2f3416",null,!1,n["a"],r);e["default"]=c.exports},"54fa":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var r=t.apply(e,i);function o(t){a(r,n,s,o,c,"next",t)}function c(t){a(r,n,s,o,c,"throw",t)}o(void 0)}))}}var o={data:function(){return{src:""}},onLoad:function(t){this.src=this.getItemData(),this.loadData()},methods:{loadData:function(){return r(n.default.mark((function e(){var i,s,a;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=getCurrentPages(),s=i[i.length-1],a=s.$getAppWebview(),t("log",a.id," at pages/app/web.vue:24"),t("log",a.isVisible()," at pages/app/web.vue:25");case 5:case"end":return e.stop()}}),e)})))()}}};e.default=o}).call(this,i("0de9")["default"])},5501:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(t){this.$emit("scrolltolower")}}};e.default=n},5575:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=u(i("a34a")),a=u(i("06f9")),r=i("26cb"),o=u(i("8bbf")),c=i("adf2");function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function d(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){l(a,n,s,r,o,"next",t)}function o(t){l(a,n,s,r,o,"throw",t)}r(void 0)}))}}function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){_(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p="",m="",g={onLaunch:function(e){var i=this;if(t("log","App Launch",e," at App.vue:18"),e.query||(e.query={}),e.query.q){var n=decodeURIComponent(e.query.q);Object.assign(e.query,h({},(0,c.getQueryString)(n))),delete e.query.q,t("log","options.query",e.query," at App.vue:29")}e.query.channel&&(m=e.query.channel,t("log","\u6e20\u9053",m," at App.vue:34"),this.setChannelCode(e.query.channel)),e.query.u?(p=e.query.u,t("log","invite",p," at App.vue:40"),this.setInviteCode(e.query.u)):this.getInviteFromClipboard(),this.setDefaultInfo({}),this.autoLogin(e.query),(0,a.default)().then((function(e){t("log","\u68c0\u67e5\u66f4\u65b0\u7ed3\u679c",e," at App.vue:52")})),this.initUniverify(),this.checkPush(),this.initSize(uni.getSystemInfoSync()),uni.onNetworkStatusChange((function(n){n.isConnected&&(t("log","isConnected"," at App.vue:61"),i.autoLogin(e.query))}))},onShow:function(){t("log","App Show"," at App.vue:67")},onHide:function(){t("log","App Hide"," at App.vue:70")},computed:{},methods:h(h(h({},(0,r.mapMutations)({setInviteCode:function(t,e){t("user/SET_INVITECODE",e)},setChannelCode:function(t,e){t("user/SET_CHANNELCODE",e)},setDefaultInfo:function(t,e){t("user/SET_USER_INFO",e)},setPushClient:function(t,e){t("user/UPDATE_PUSH_CLIENT",e)},setUniverifyInit:function(t){t("user/UNIVERIFY_INIT")}})),(0,r.mapActions)({initApp:"app/init",mpLogin:"user/mpLogin"})),{},{autoLogin:function(e){var i=this;return d(s.default.mark((function n(){return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i.$store.getters["user/isInitTokenValid"]||t("log","\u83b7\u53d6APP\u4fe1\u606f\uff0c\u9700\u8981\u7528\u6237\u8be6\u7ec6\u4fe1\u606f"," at App.vue:108"),i.micLogin(),i.initApp(h({},e));case 3:case"end":return n.stop()}}),n)})))()},getInviteFromClipboard:function(){var e=this;return d(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:uni.getClipboardData({success:function(i){n.database().collection("uni-id-users").where('my_invite_code=="'.concat(i.data,'"')).field("avatar,nickname").limit(1).get().then((function(n){var s=n.result;s.data&&s.data.length>0?(e.setInviteCode(i.data),t("log","getInviteFromClipboard",i.data," at App.vue:128")):t("log","\u7c98\u8d34\u677f\u9080\u8bf7\u7801\u65e0\u6548"," at App.vue:130")}))},fail:function(t){}});case 1:case"end":return i.stop()}}),i)})))()},micLogin:function(t){return d(s.default.mark((function t(){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},initUniverify:function(e){var i=this;return d(s.default.mark((function n(){var a;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=i,t("log","\u5f00\u59cb\u4e00\u952e\u767b\u5f55"," at App.vue:172"),uni.preLogin({provider:"univerify",success:function(){t("log","\u4e00\u952e\u767b\u5f55\u521d\u59cb\u5316\u6210\u529f"," at App.vue:186"),a.setUniverifyInit()},fail:function(i){t("log",i.errCode," at App.vue:192"),t("log",i.errMsg," at App.vue:193"),e<30&&setTimeout((function(){a.initUniverify(e+1)}),e*e*1e3)},complete:function(){t("log","\u4e00\u952e\u767b\u5f55complete"," at App.vue:203")}});case 3:case"end":return n.stop()}}),n)})))()},checkPush:function(){var e=this;plus.push.addEventListener("receive",(function(e){var i=e.type,n=(e.title,e.content),s=e.payload;t("log",i,"type"," at App.vue:217"),"receive"!=i&&"ios"==uni.getSystemInfoSync().platform||("object"!=typeof s&&(s=JSON.parse(s)),plus.push.createMessage(n,JSON.stringify(s),{title:s.title,subtitle:s.content}))})),plus.push.addEventListener("click",(function(t){var e=t.payload;"object"!=typeof e&&(e=JSON.parse(e));var i=getCurrentPages(),n=i[i.length-1].$getAppWebview();"pages/msg-center/msg-center"!=n.__uniapp_route&&uni.navigateTo({url:"/pages/msg-center/msg-center"}),uni.$emit("readMsg",e)})),plus.push.getClientInfoAsync((function(i){t("log","push.getClientInfoAsync",i," at App.vue:249"),e.setPushClient(i)}),(function(e){t("log","push.getClientInfoAsync",e," at App.vue:253")}))},initSize:function(e){var i,n=e,s={};s={height:36,width:88},i=44,n.custom=s,n.navigationBarHeight=i,n.development=!1,t("log",n," at App.vue:284"),o.default.prototype.systemInfo=n}})};e.default=g}).call(this,i("0de9")["default"],i("a9ff")["default"])},"55c4":function(t,e,i){"use strict";i.r(e);var n=i("6019"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"566f":function(t,e,i){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var n=uni.requireGlobal();ArrayBuffer=n.ArrayBuffer,Int8Array=n.Int8Array,Uint8Array=n.Uint8Array,Uint8ClampedArray=n.Uint8ClampedArray,Int16Array=n.Int16Array,Uint16Array=n.Uint16Array,Int32Array=n.Int32Array,Uint32Array=n.Uint32Array,Float32Array=n.Float32Array,Float64Array=n.Float64Array,BigInt64Array=n.BigInt64Array,BigUint64Array=n.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(i("1c3c").default)})),__definePage("pages/login/login",(function(){return Vue.extend(i("d567").default)})),__definePage("uni_modules/uni-upgrade-center-app/pages/upgrade-popup",(function(){return Vue.extend(i("96b2").default)})),__definePage("uni_modules/tian-article/pages/article/detail",(function(){return Vue.extend(i("8d03").default)})),__definePage("pages/index/category",(function(){return Vue.extend(i("c304").default)})),__definePage("pages/index/cart",(function(){return Vue.extend(i("355e").default)})),__definePage("pages/index/user",(function(){return Vue.extend(i("fd9f").default)})),__definePage("pages/login/bindmobile",(function(){return Vue.extend(i("84c4").default)})),__definePage("pages/search/search",(function(){return Vue.extend(i("aec3").default)})),__definePage("pages/admin/admin",(function(){return Vue.extend(i("a090").default)})),__definePage("pages/admin/order/order",(function(){return Vue.extend(i("a765e").default)})),__definePage("pages/admin/channel/channel",(function(){return Vue.extend(i("7a1b").default)})),__definePage("pages/user/coupons",(function(){return Vue.extend(i("bbef").default)})),__definePage("pages/user/team/team",(function(){return Vue.extend(i("4a1d").default)})),__definePage("pages/user/info",(function(){return Vue.extend(i("2b4f").default)})),__definePage("pages/user/avatar",(function(){return Vue.extend(i("b6e8").default)})),__definePage("pages/user/tasks",(function(){return Vue.extend(i("573a").default)})),__definePage("pages/user/invite",(function(){return Vue.extend(i("0f3b").default)})),__definePage("pages/user/scores",(function(){return Vue.extend(i("da55").default)})),__definePage("pages/user/balances",(function(){return Vue.extend(i("8f24").default)})),__definePage("pages/user/team/member",(function(){return Vue.extend(i("8dd5").default)})),__definePage("pages/user/score/ranking",(function(){return Vue.extend(i("51e4").default)})),__definePage("pages/user/account",(function(){return Vue.extend(i("1c53").default)})),__definePage("pages/user/setinviter",(function(){return Vue.extend(i("a388").default)})),__definePage("pages/user/score/transfer",(function(){return Vue.extend(i("b6ad").default)})),__definePage("pages/user/cashout",(function(){return Vue.extend(i("e9ee").default)})),__definePage("pages/user/score/cashout",(function(){return Vue.extend(i("655c").default)})),__definePage("pages/user/achievement",(function(){return Vue.extend(i("00e1").default)})),__definePage("pages/user/bind/bankcard",(function(){return Vue.extend(i("b7e6").default)})),__definePage("pages/user/bind/alipay",(function(){return Vue.extend(i("f073").default)})),__definePage("pages/user/channel",(function(){return Vue.extend(i("749d").default)})),__definePage("pages/address/add",(function(){return Vue.extend(i("3014").default)})),__definePage("pages/address/edit",(function(){return Vue.extend(i("3f13").default)})),__definePage("pages/address/list",(function(){return Vue.extend(i("3821").default)})),__definePage("pages/address/detail",(function(){return Vue.extend(i("6b94").default)})),__definePage("pages/enterprise/apply",(function(){return Vue.extend(i("aefb").default)})),__definePage("pages/enterprise/detail",(function(){return Vue.extend(i("38ed").default)})),__definePage("pages/product/detail",(function(){return Vue.extend(i("0253").default)})),__definePage("pages/product/list",(function(){return Vue.extend(i("976f").default)})),__definePage("pages/product/visite",(function(){return Vue.extend(i("6c03").default)})),__definePage("pages/product/favorite",(function(){return Vue.extend(i("e187").default)})),__definePage("pages/product/shop",(function(){return Vue.extend(i("da39").default)})),__definePage("pages/product/comment",(function(){return Vue.extend(i("306b").default)})),__definePage("pages/order/order",(function(){return Vue.extend(i("ba65").default)})),__definePage("pages/order/create",(function(){return Vue.extend(i("14b1").default)})),__definePage("pages/order/message",(function(){return Vue.extend(i("18a3").default)})),__definePage("pages/order/coupons",(function(){return Vue.extend(i("06de").default)})),__definePage("pages/order/invoice",(function(){return Vue.extend(i("fa46").default)})),__definePage("pages/order/detail",(function(){return Vue.extend(i("2006").default)})),__definePage("pages/order/refund",(function(){return Vue.extend(i("4679").default)})),__definePage("pages/order/service",(function(){return Vue.extend(i("9406").default)})),__definePage("pages/order/comment",(function(){return Vue.extend(i("86f2").default)})),__definePage("pages/app/about",(function(){return Vue.extend(i("a33f").default)})),__definePage("pages/app/feedback",(function(){return Vue.extend(i("c061").default)})),__definePage("pages/app/contact",(function(){return Vue.extend(i("edff").default)})),__definePage("pages/app/web",(function(){return Vue.extend(i("03df").default)})),__definePage("pages/app/article",(function(){return Vue.extend(i("3962").default)})),__definePage("pages/app/pages",(function(){return Vue.extend(i("8eeb").default)})),__definePage("pages/app/share",(function(){return Vue.extend(i("731d").default)})),__definePage("pages/app/wx/authorize",(function(){return Vue.extend(i("3e0e").default)})),__definePage("pages/app/cities",(function(){return Vue.extend(i("ee10").default)})),__definePage("pages/app/pay",(function(){return Vue.extend(i("6545").default)})),__definePage("pages/app/paysuccess",(function(){return Vue.extend(i("c4df").default)}))},"573a":function(t,e,i){"use strict";i.r(e);var n=i("76fc"),s=i("9ec1");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},5752:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={appid:"__UNI__F80C472"};e.default=n},"57da":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianGoodsJoinList:i("99f2").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("tian-goods-join-list",{ref:"tgjl",attrs:{condition:"user_id==$cloudEnv_uid",collection:"opendb-mall-goods-favorite",field:"_id as favorite_id,dateToString(timestampToDate(update_date),'%Y-%m-%d') as updated_date",configs:{withDel:!0,style:"style-padding"},_i:1},on:{deleteItem:t.delItem}})],1)},a=[]},"59fd":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t.database();var i={data:function(){return{collectionList:"tian-mall-order-refunds",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""}}},onPullDownRefresh:function(){this.$refs.udb.loadData({clear:!0},(function(){uni.stopPullDownRefresh()}))},onReachBottom:function(){this.$refs.udb.loadMore()},methods:{handleItemClick:function(t){uni.navigateTo({url:"./detail?id="+t})}}};e.default=i}).call(this,i("a9ff")["default"])},"5a97":function(t,e,i){"use strict";i.r(e);var n=i("c179"),s=i("a99e");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"5a98":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","login-container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","text-center"),attrs:{_i:1}},[i("image",{staticClass:t._$s(2,"sc","image-width-120 bg-white border-radius "),attrs:{src:t._$s(2,"a-src",t.parentUserInfo.avatar),_i:2}}),i("view",[i("text",[t._v(t._$s(4,"t0-0",t._s(t.parentUserInfo.nickname)))])]),i("view",[i("text",[t._v(t._$s(6,"t0-0",t._s(t.parentUserInfo.mobile)))])]),i("view",{staticClass:t._$s(7,"sc","font-24 colorGray"),attrs:{_i:7}},[i("text")])]),t._$s(9,"i",!t.isValid)?i("view",{staticClass:t._$s(9,"sc","margin-top-100 padding-left-50 padding-right-50 padding-top-60"),attrs:{_i:9}},[i("view",{staticClass:t._$s(10,"sc","text-center"),attrs:{_i:10}},[i("text",[t._v(t._$s(11,"t0-0",t._s(t.inviteCode)))])]),i("view",{staticClass:t._$s(12,"sc","text-center"),attrs:{_i:12}},[i("text")])]):t._$s(14,"e",t.isCopy)?i("view",{staticClass:t._$s(14,"sc","margin-top-100 padding-left-50 padding-right-50 padding-top-60"),attrs:{_i:14}},[i("view",{staticClass:t._$s(15,"sc","text-center"),attrs:{_i:15}},[i("text",[t._v(t._$s(16,"t0-0",t._s(t.inviteCode)))])]),i("view",{staticClass:t._$s(17,"sc","text-center padding-top-20"),attrs:{_i:17}},[i("text")]),t._$s(19,"i",t.customer.downloadUrl)?i("view",{staticClass:t._$s(19,"sc","margin-top-60"),attrs:{_i:19}},[i("button",{attrs:{_i:20},on:{click:t.download}})]):i("view",{staticClass:t._$s(21,"sc","margin-top-120 text-center"),attrs:{_i:21}},[i("text")]),i("view",{staticClass:t._$s(23,"sc","margin-top-40 padding-bottom-36"),attrs:{_i:23}},[i("button",{attrs:{_i:24},on:{click:function(e){return t.copyInviteCode(1)}}})])]):t._$s(25,"e",t.userInfo&&t.userInfo._id)?i("view",{staticClass:t._$s(25,"sc","margin-top-100 padding-left-50 padding-right-50"),attrs:{_i:25}},[i("view",{staticClass:t._$s(26,"sc","text-center"),attrs:{_i:26}},[i("text")]),i("view",{staticClass:t._$s(28,"sc","ti-flex margin-top-18"),attrs:{_i:28}},[i("image",{staticClass:t._$s(29,"sc","image-width-80 bg-white border-radius user-avatar"),attrs:{src:t._$s(29,"a-src",t.userInfo.avatar),_i:29}}),i("view",{staticClass:t._$s(30,"sc","margin-left-18"),attrs:{_i:30}},[i("view",[i("text",[t._v(t._$s(32,"t0-0",t._s(t.userInfo.nickname)))])]),i("view",[i("text",[t._v(t._$s(34,"t0-0",t._s(t.userInfo.mobile)))])])])]),t._$s(35,"i",t.customer.downloadUrl)?i("view",{staticClass:t._$s(35,"sc","margin-top-60"),attrs:{_i:35}},[i("button",{attrs:{_i:36},on:{click:t.download}})]):i("view",{staticClass:t._$s(37,"sc","margin-top-120 text-center"),attrs:{_i:37}},[i("text")]),i("view",{staticClass:t._$s(39,"sc","margin-top-60 padding-bottom-100"),attrs:{_i:39}},[i("button",{attrs:{_i:40},on:{click:t.homepage}})])]):i("uni-forms",{ref:"form",staticClass:t._$s(41,"sc","margin-top-100"),attrs:{value:t.formData,_i:41}},[i("uni-forms-item",{attrs:{required:!0,name:"mobile",_i:42}},[i("view",[i("uni-easyinput",{attrs:{type:"number",maxlength:"11",inputBorder:!1,placeholder:"\u8f93\u5165\u624b\u673a\u53f7\u7801",_i:44},model:{value:t._$s(44,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1)]),i("uni-forms-item",{attrs:{name:"code",_i:45}},[i("view",{staticClass:t._$s(46,"sc","  ti-flex"),attrs:{_i:46}},[i("uni-easyinput",{attrs:{type:"number",maxlength:"6",inputBorder:!1,placeholder:"\u8f93\u5165\u9a8c\u8bc1\u7801",_i:47},model:{value:t._$s(47,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),i("button",{attrs:{_i:48},on:{click:t.sendSmsCode}},[t._v(t._$s(48,"t0-0",t._s(t.codeDuration?t.codeDuration+"s":"\u83b7\u53d6\u9a8c\u8bc1\u7801")))])],1)]),i("checkbox-group",{attrs:{_i:49},on:{change:t.changeRead}},[i("view",{staticClass:t._$s(50,"sc","colorGray font-26 margin-top-40"),attrs:{_i:50}},[i("label",[i("checkbox",{}),i("text")]),i("text",{attrs:{_i:54},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.fwxy)}}}),i("text",{attrs:{_i:55},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.yszc)}}})])]),i("view",{staticClass:t._$s(56,"sc","margin-top-40"),attrs:{_i:56}},[i("button",{attrs:{disabled:t._$s(57,"a-disabled",!t.read),_i:57},on:{click:t.login}})])],1)],1)},a=[]},"5acc":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{level:1,time:"",legend:{todaySignRate:"\u4eca\u65e5\u7b7e\u5230\u7387",todaySign:"\u4eca\u65e5\u7b7e\u5230",monthSignRate:"\u8fd130\u65e5\u7b7e\u5230\u7387"},dataList:[]}},onLoad:function(t){this.level=t.level,this.time=t.time,t.title&&(this.barTitle=t.title),this.loadMemberData()},onReachBottom:function(){"more"==this.loadingType&&this.loadMemberData()},methods:{loadMemberData:function(){var e=this;this.loadingType="loading",this.page++,this.$request("user/info/teammember",{level:this.level,time:this.time,page:this.page,limit:this.limit},{loading:!0}).then((function(i){t("log","loadMemberData",i," at pages/user/team/member.vue:93"),e.buildMember(i),1==e.page?e.dataList=i:e.dataList=e.dataList.concat(i),i.length<e.limit?e.loadingType="noMore":e.loadingType="more"}))},tel:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=i}).call(this,i("0de9")["default"])},"5aec":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uqrcode"),attrs:{_i:0}},[t._$s(1,"i","view"===t.options.mode)?i("view",{staticClass:t._$s(1,"sc","uqrcode-view"),style:t._$s(1,"s",{width:t.options.size+"px",height:t.options.size+"px",padding:t.options.margin+"px","background-color":t.options.backgroundColor}),attrs:{_i:1}},t._l(t._$s(2,"f",{forItems:t.modules.length}),(function(e,n,s,a){return i("view",{key:t._$s(2,"f",{forIndex:s,key:n}),staticClass:t._$s("2-"+a,"sc","uqrcode-view-row"),attrs:{_i:"2-"+a}},t._l(t._$s("3-"+a,"f",{forItems:t.modules.length}),(function(e,s,r,o){return i("view",{key:t._$s("3-"+a,"f",{forIndex:r,key:s}),staticClass:t._$s("3-"+a+"-"+o,"sc","uqrcode-view-col"),style:t._$s("3-"+a+"-"+o,"s",{width:t.colSize+"px",height:t.colSize+"px","background-color":t.modules[n][s]?t.options.foregroundColor:t.options.backgroundColor}),attrs:{_i:"3-"+a+"-"+o}})})),0)})),0):t._$s(4,"e","canvas"===t.options.mode)?i("canvas",{staticClass:t._$s(4,"sc","uqrcode-canvas"),style:t._$s(4,"s",{width:t.options.size+"px",height:t.options.size+"px"}),attrs:{id:t._$s(4,"a-id",t.options.canvasId),"canvas-id":t._$s(4,"a-canvas-id",t.options.canvasId),_i:4}}):t._e()])},a=[]},"5d78":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniList:i("52ab").default,uniListItem:i("908c").default,uniPopup:i("36ef").default,uniPopupDialog:i("a92f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-list",{attrs:{_i:1}},[i("uni-list-item",{attrs:{title:"\u5934\u50cf",showArrow:!0,clickable:!0,_i:2},on:{click:t.changeAvatar}},[i("template",{slot:"footer"},[i("image",{staticClass:t._$s(4,"sc","image-width-50 border-radius"),attrs:{src:t._$s(4,"a-src",t.userInfo.avatar),_i:4}})])],2),i("uni-list-item",{attrs:{title:"\u6635\u79f0",showArrow:!0,clickable:!0,rightText:t.userInfo.nickname,_i:5},on:{click:t.changeNickname}}),t._$s(6,"i",t.userInfo.channel_code)?i("uni-list-item",{attrs:{title:"\u6e20\u9053",rightText:t.userInfo.channel_code,_i:6}}):t._e(),i("uni-list-item",{attrs:{title:"\u5fae\u4fe1",showArrow:!0,clickable:!0,rightText:t.wxStatusText,_i:7},on:{click:t.bindWeixin}}),t._$s(8,"i",t.enableBank)?i("uni-list-item",{attrs:{title:"\u7ed1\u5b9a\u94f6\u884c\u5361",showArrow:!0,clickable:!0,rightText:t.bankStatusText,_i:8},on:{click:function(e){return t.navTo("/pages/user/bind/bankcard")}}}):t._e(),t._$s(9,"i",t.enableAlipay)?i("uni-list-item",{attrs:{title:"\u7ed1\u5b9a\u652f\u4ed8\u5b9d",showArrow:!0,clickable:!0,rightText:t.alipayStatusText,_i:9},on:{click:function(e){return t.navTo("/pages/user/bind/alipay")}}}):t._e()],1),i("uni-popup",{ref:"nicknamePopup",attrs:{type:"dialog",_i:10}},[i("uni-popup-dialog",{attrs:{mode:"input",message:"\u6210\u529f\u6d88\u606f",title:"\u4fee\u6539\u6635\u79f0",placeholder:"\u8bf7\u8f93\u5165",duration:2e3,_i:11},on:{confirm:t.confirmEditNickname}})],1)],1)},a=[]},6019:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("37dc"),s=a(i("c9e6"));function a(t){return t&&t.__esModule?t:{default:t}}var r=(0,n.initVueI18n)(s.default),o=r.t,c={name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:"\u53d6\u6d88"},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1}},data:function(){return{show:!1,showSync:!1,searchVal:""}},computed:{cancelTextI18n:function(){return this.cancelText||o("uni-search-bar.cancel")},placeholderText:function(){return this.placeholder||o("uni-search-bar.placeholder")}},watch:{value:{immediate:!0,handler:function(t){this.searchVal=t,t&&(this.show=!0)}},focus:{immediate:!0,handler:function(t){var e=this;t&&(this.show=!0,this.$nextTick((function(){e.showSync=!0})))}},searchVal:function(t,e){this.$emit("input",t)}},methods:{searchClick:function(){var t=this;this.show||(this.show=!0,this.$nextTick((function(){t.showSync=!0})))},clear:function(){this.$emit("clear",{value:this.searchVal}),this.searchVal=""},cancel:function(){this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord()},confirm:function(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur:function(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})},emitFocus:function(t){this.$emit("focus",t.detail)}}};e.default=c},"61c7":function(t,e,i){"use strict";i.r(e);var n=i("6651"),s=i("2ae3");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"4cf6109d",null,!1,n["a"],r);e["default"]=c.exports},"632a":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{loaded:!1,key:"cloud_express_number",express:{company:"",code:"",number:"",state:""},logisticsTracking:[]}},props:{value:{type:Object,default:function(){}},height:{type:[String,Number],default:920},closeBtn:{type:Boolean,default:!0},notice:{type:Boolean,default:!0}},computed:{style:function(){return parseInt(this.height)>0?"height:".concat(this.height,"rpx"):"height:".concat(this.height)},scrollStyle:function(){return parseInt(this.height)>0?"height:".concat(this.height-270,"rpx"):"height:".concat(this.height)}},watch:{value:function(e){t("log","watch value",e," at uni_modules/tian-express/components/tian-express-detail/tian-express-detail.vue:95"),this.express=e,this.open()}},created:function(){this.express=this.value,this.value.number&&this.open()},methods:{closeMe:function(){this.$emit("canceled")},open:function(){if(this.logisticsTracking=[],!this.express.company||!this.express.code||!this.express.number)return this.notice&&uni.showToast({title:"\u6682\u65e0\u7269\u6d41\u4fe1\u606f",icon:"none"}),!1;this.expressSearch()},expressSearch:function(){var t=this;this.$request("mall/express/detail",{company:this.express.code,number:this.express.number},{functionName:"tiantian-mall"}).then((function(e){if(t.loaded=!0,"200"!=e.status)return t.notice&&uni.showToast({title:e.message,icon:"none"}),t.logisticsTracking=[],!1;t.notice&&uni.showToast({title:"\u67e5\u8be2\u6210\u529f"}),t.showContent(e)}),(function(e){t.notice&&uni.showToast({title:"\u67e5\u8be2\u5931\u8d25",icon:"none"})}))},showContent:function(t){switch(this.logisticsTracking=t.data,t.state/1){case 0:this.express.state="\u5728\u9014";break;case 1:this.express.state="\u63fd\u6536";break;case 2:this.express.state="\u7591\u96be";break;case 3:this.express.state="\u7b7e\u6536";break;case 4:this.express.state="\u9000\u7b7e";break;case 5:this.express.state="\u6d3e\u4ef6";break;case 6:this.express.state="\u9000\u56de";break;case 7:this.express.state="\u8f6c\u6295";break;case 10:this.express.state="\u5f85\u6e05\u5173";break;case 11:this.express.state="\u6e05\u5173\u4e2d";break;case 12:this.express.state="\u5df2\u6e05\u5173";break;case 13:this.express.state="\u6e05\u5173\u5f02\u5e38";break;case 14:this.express.state="\u62d2\u7b7e";break;default:break}}}};e.default=i}).call(this,i("0de9")["default"])},"637b":function(t,e,i){"use strict";i.r(e);var n=i("1c28"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},6392:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{_id:"",item:{},dataList:[]}},onLoad:function(t){this.item=this.getItemData(),this._id=t.id,this.dataList=this.item.comments,this.loadData()},onReachBottom:function(){i("log","\u52a0\u8f7d\u4e0b\u4e00\u9875"," at pages/product/comment.vue:48"),this.loadmore=Date.now(),this.loadData()},methods:{loadData:function(t){var e=this;t&&(this.page=0),this.page++,n.collection("opendb-mall-comments").where('goods_id=="'.concat(this._id,'"')).skip((this.page-1)*this.limit).limit(this.limit).get().then((function(t){var i=t.result;1==e.page&&(e.dataList=[]),e.dataList=e.dataList.concat(i.data)}))}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},"63bb":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","article-container"),class:t._$s(0,"c",[t.options.bg_class_name]),style:t._$s(0,"s",t.bgStyle),attrs:{_i:0},on:{click:t.bgClick}},[t._l(t._$s(1,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(1,"f",{forIndex:s,key:n})},[i("view",{staticClass:t._$s("2-"+a,"sc","item"),class:t._$s("2-"+a,"c",e.className),style:t._$s("2-"+a,"s",e.style),attrs:{_i:"2-"+a},on:{click:function(i){return i.stopPropagation(),t.navToDetail(e)}}},[i("view",{staticClass:t._$s("3-"+a,"sc","content"),attrs:{_i:"3-"+a}},[i("view",{staticClass:t._$s("4-"+a,"sc","title"),attrs:{_i:"4-"+a}},[i("text",[t._v(t._$s("5-"+a,"t0-0",t._s(e.title)))])]),i("view",{staticClass:t._$s("6-"+a,"sc","more"),attrs:{_i:"6-"+a}},[t._$s("7-"+a,"i",e.excerpt)?i("view",{staticClass:t._$s("7-"+a,"sc","time"),attrs:{_i:"7-"+a}},[i("text",[t._v(t._$s("8-"+a,"t0-0",t._s(e.excerpt)))])]):t._e(),i("view",{staticClass:t._$s("9-"+a,"sc","time"),attrs:{_i:"9-"+a}},[i("text",[t._v(t._$s("10-"+a,"t0-0",t._s(e.publish_date)))])]),t._$s("11-"+a,"i",e.source_from)?i("view",{staticClass:t._$s("11-"+a,"sc","time"),attrs:{_i:"11-"+a}},[i("text",[t._v(t._$s("12-"+a,"t0-0",t._s(e.source_from)))])]):t._e()])]),i("image",{staticClass:t._$s("13-"+a,"sc","image"),attrs:{src:t._$s("13-"+a,"a-src",e.avatar),_i:"13-"+a}})]),t._$s("14-"+a,"i",e.adpid)?i("ad",{staticClass:t._$s("14-"+a,"sc","ad"),class:t._$s("14-"+a,"c",[t.options.adClassName]),attrs:{adpid:t._$s("14-"+a,"a-adpid",e.adpid),"unit-id":t._$s("14-"+a,"a-unit-id",e.adpid),_i:"14-"+a},on:{load:t.adLoad,error:t.adError,close:t.adClose}}):t._e()])})),t._$s(15,"i",t.options.loadmore)?i("uni-load-more",{attrs:{status:t.status,_i:15}}):t._e()],2)},a=[]},"63fe":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("a963"));function a(t){return t&&t.__esModule?t:{default:t}}var r=t.database(),o={mixins:[s.default],data:function(){return{goods:{},mainCategory:{},categories:[],subCategories:[],subCateHeight:100,options:{scrollLeft:0,scrollTop:0,sv:"",mainCurrentId:"",subCurrentId:""}}},onLoad:function(t){t.id&&(this.options.mainCurrentId=t.id),this.loadData()},computed:{goodsCondition:function(){return n("log","change goods condition"," at pages/index/category.vue:89"),'category_id=="'.concat(this.options.subCurrentId,'"')},searchStyle:function(){return""}},onShow:function(){},onHide:function(){var t=this;uni.showTabBar(),setTimeout((function(){t.$refs.tianSkuPop.close()}),500)},mounted:function(){},methods:{subCategoryScroll:function(t){},loadList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";getApp().globalData.searchText=t,uni.navigateTo({url:"/pages/product/list"})},loadData:function(){var t=this;r.collection("tian-mall-categories").where("status==true").field("parent_id,name,icon,sort,ad_banner,ad_open_url").orderBy("sort asc").get({getTree:!0}).then((function(e){var i=e.result,n=!1;i.data.forEach((function(e,i){e.index=i,e.ad_banner?e.ad_banner=t.$thumbImg(e.ad_banner,"450x150"):e.ad_banner="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-3fbab731-e993-47e6-882f-a74e444709a3/11b41427-1164-4254-a723-aacec29d1eb6.jpg",e.icon=t.$thumbImg(e.icon,"80x80"),t.options.mainCurrentId&&e._id==t.options.mainCurrentId&&(n=e),e.children.forEach((function(e,i){e.children&&e.children.forEach((function(e){e.icon=t.$thumbImg(e.icon,"130x130")}))}))})),t.categories=i.data,n||(n=t.categories[0]),t.changeMainCategory(n)}))},adClick:function(){this.mainCategory.ad_open_url&&this.navTo(this.mainCategory.ad_open_url)},changeMainCategory:function(t){var e=-1;return this.categories.forEach((function(i,n){i._id==t._id&&(e=n),i.className=""})),-1==e?(n("log","\u4e3b\u5206\u7c7bid\u4e0d\u5728\u8303\u56f4\u5185",t," at pages/index/category.vue:184"),!1):this.options.mainCurrentId==t._id?(n("log","\u91cd\u590d\u70b9\u51fb\u65e0\u6548",t," at pages/index/category.vue:187"),!1):(this.options.mainCurrentId=t._id,this.mainCategory=this.categories[e],this.mainCategory.className="current",this.subCategories=this.categories[e].children,this.subCategories.length>0?this.options.subCurrentId=this.subCategories[0]._id:this.options.subCurrentId=this.options.mainCurrentId,0!=e&&(this.categories[e-1].className="prev"),void(e!=this.categories.length-1&&(this.categories[e+1].className="next")))},changeSubCategory:function(t,e){var i=this;this.options.subCurrentId=t._id,setTimeout((function(){i.options.scrollTop=30*e-60}),300)},openSku:function(t){n("log","openSku",t," at pages/index/category.vue:226"),this.goods=t,this.$refs.tianSkuPop.open()}}};e.default=o}).call(this,i("a9ff")["default"],i("0de9")["default"])},6439:function(t,e,i){"use strict";i.r(e);var n=i("8023"),s=i("69d0");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},6455:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default,uniEasyinput:i("549f").default,cloudImage:i("2cc0").default,uniList:i("52ab").default,uniListItem:i("908c").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","padding-20"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc"," bg-white padding-20 border-radius"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","font-bold margin-bottom-20"),attrs:{_i:2}},[i("text")]),i("view",{staticClass:t._$s(4,"sc","ti-flex"),attrs:{_i:4}},[i("image",{staticClass:t._$s(5,"sc","image-width-120 border-radius"),attrs:{src:t._$s(5,"a-src",t.goods.goods_thumb),_i:5}}),i("view",{staticClass:t._$s(6,"sc","flex-1 padding-left-12"),attrs:{_i:6}},[i("view",[i("text",[t._v(t._$s(8,"t0-0",t._s(t.goods.name)))])]),i("view",[i("text",{staticClass:t._$s(10,"sc","font-24"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.goods.sku_name)))])]),i("view",{staticClass:t._$s(11,"sc"," between"),attrs:{_i:11}},[i("text",{staticClass:t._$s(12,"sc","price"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.goods.price/100)))]),t._$s(13,"i",t.goods.use_score)?i("text",{staticClass:t._$s(13,"sc","font-20"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.goods.use_score)))]):t._e(),i("text",{staticClass:t._$s(14,"sc","margin-left-10"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.goods.amount)))])])])])]),t._$s(15,"i",t.afterServiceType)?[t._$s(16,"i",-1!=t.afterServiceType.indexOf("refund"))?i("view",{staticClass:t._$s(16,"sc","bg-white border-radius margin-top-20 padding-bottom-10"),attrs:{_i:16}},[i("view",{staticClass:t._$s(17,"sc","font-bold padding-20"),attrs:{_i:17}},[i("text")]),i("view",{staticClass:t._$s(19,"sc","padding-lr-20 padding-bottom-10"),attrs:{_i:19}},[t._$s(20,"i","refund"==t.afterServiceType)?i("view",{staticClass:t._$s(20,"sc","ti-flex margin-top-20"),attrs:{_i:20}},[i("view",{staticClass:t._$s(21,"sc","flex-1"),attrs:{_i:21}},[i("text")]),i("view",{staticClass:t._$s(23,"sc","colorGray"),attrs:{_i:23}},[i("picker",{attrs:{value:t._$s(24,"a-value",t.goodsStatusIndex),range:t._$s(24,"a-range",t.goodsStatus),_i:24},on:{change:t.changeGoodsStatus}},[i("view",{staticClass:t._$s(25,"sc","uni-input"),attrs:{_i:25}},[t._v(t._$s(25,"t0-0",t._s(t.goodsStatus[t.goodsStatusIndex])))])])]),i("tian-icons",{attrs:{type:"xiangyou1",_i:26}})],1):t._e(),i("view",{staticClass:t._$s(27,"sc","ti-flex margin-top-20"),attrs:{_i:27}},[i("view",{staticClass:t._$s(28,"sc","flex-1"),attrs:{_i:28}},[i("text")]),i("view",{staticClass:t._$s(30,"sc","colorGray"),attrs:{_i:30}},[i("picker",{attrs:{value:t._$s(31,"a-value",t.afterServiceReasonIndex),range:t._$s(31,"a-range",t.afterServiceReason),_i:31},on:{change:t.changeServiceReason}},[i("view",{staticClass:t._$s(32,"sc","uni-input"),attrs:{_i:32}},[t._v(t._$s(32,"t0-0",t._s(t.afterServiceReason[t.afterServiceReasonIndex])))])])]),i("tian-icons",{attrs:{type:"xiangyou1",_i:33}})],1),i("view",{staticClass:t._$s(34,"sc"," margin-top-20"),attrs:{_i:34}},[i("view",{staticClass:t._$s(35,"sc","ti-flex"),attrs:{_i:35}},[i("view",{staticClass:t._$s(36,"sc","flex-1"),attrs:{_i:36}},[i("text")]),i("uni-easyinput",{staticClass:t._$s(38,"sc","text-right"),attrs:{placeholder:"\u9000\u6b3e\u91d1\u989d",type:"digit",inputBorder:!1,_i:38},on:{input:t.changeMoney},model:{value:t._$s(38,"v-model",t.formData.money),callback:function(e){t.$set(t.formData,"money",e)},expression:"formData.money"}})],1),i("view",{staticClass:t._$s(39,"sc","font-20 colorGray"),attrs:{_i:39}},[i("text"),i("text",{staticClass:t._$s(41,"sc","price"),attrs:{_i:41}},[t._v(t._$s(41,"t0-0",t._s(t.goods.canRefundMoney/100)))])])])])]):t._e(),i("view",{staticClass:t._$s(42,"sc","bg-white border-radius margin-top-20 padding-bottom-10"),attrs:{_i:42}},[i("view",{staticClass:t._$s(43,"sc","font-bold padding-20"),attrs:{_i:43}},[i("text")]),i("view",{staticClass:t._$s(45,"sc"," padding-lr-20"),attrs:{_i:45}},[i("uni-easyinput",{staticClass:t._$s(46,"sc","text-right"),attrs:{placeholder:"\u8865\u5145\u63cf\u8ff0,\u6709\u52a9\u4e8e\u5546\u5bb6\u66f4\u597d\u7684\u5904\u7406\u552e\u540e\u95ee\u9898",type:"textarea",inputBorder:!1,_i:46},model:{value:t._$s(46,"v-model",t.formData.describe),callback:function(e){t.$set(t.formData,"describe",e)},expression:"formData.describe"}})],1),i("view",{staticClass:t._$s(47,"sc"," padding-lr-20"),attrs:{_i:47}},[i("cloud-image",{attrs:{name:"imgs",imageNumber:6,_i:48},model:{value:t._$s(48,"v-model",t.formData.imgs),callback:function(e){t.$set(t.formData,"imgs",e)},expression:"formData.imgs"}})],1)]),i("view",{staticClass:t._$s(49,"sc","margin-top-40"),attrs:{_i:49}},[i("button",{attrs:{_i:50},on:{click:t.submit}})])]:i("view",{staticClass:t._$s(51,"sc","bg-white border-radius margin-top-20 padding-bottom-10"),attrs:{_i:51}},[i("view",{staticClass:t._$s(52,"sc","font-bold padding-top-20 padding-lr-20"),attrs:{_i:52}},[i("text")]),i("uni-list",{attrs:{border:!1,_i:54}},t._l(t._$s(55,"f",{forItems:t.afterServices}),(function(e,n,s,a){return i("uni-list-item",{key:t._$s(55,"f",{forIndex:s,key:n}),attrs:{title:e.title,showArrow:!0,note:e.notice,clickable:!0,_i:"55-"+a},on:{click:function(i){return t.changeType(e.type)}}})})),1)],1)],2)},a=[]},6545:function(t,e,i){"use strict";i.r(e);var n=i("45ac"),s=i("b759");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"655c":function(t,e,i){"use strict";i.r(e);var n=i("c0d7"),s=i("4a6f");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},6563:function(t,e,i){"use strict";i.r(e);var n=i("0008"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},6569:function(t,e,i){"use strict";i.r(e);var n=i("a839"),s=i("7636");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"4939f0e4",null,!1,n["a"],r);e["default"]=c.exports},"65a1":function(t,e,i){"use strict";i.r(e);var n=i("ff65"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"65ec":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("e10c");function s(t){return c(t)||o(t)||r(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){f(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function f(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:function(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}},customClass:{type:String,default:""}},data:function(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler:function(t){t?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject:function(){var t=d(d({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),e="";for(var i in t){var n=this.toLine(i);e+=n+":"+t[i]+";"}return e},transformStyles:function(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created:function(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.duration&&(this.durationTime=t.duration),this.animation=(0,n.createAnimation)(Object.assign(this.config,t),this)},onClick:function(){this.$emit("click",{detail:this.isShow})},step:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.animation){for(var n in e)try{var a;if("object"===typeof e[n])(a=this.animation)[n].apply(a,s(e[n]));else this.animation[n](e[n])}catch(r){t("error","\u65b9\u6cd5 ".concat(n," \u4e0d\u5b58\u5728")," at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139")}return this.animation.step(i),this}},run:function(t){this.animation&&this.animation.run(t)},open:function(){var t=this;clearTimeout(this.timer),this.transform="",this.isShow=!0;var e=this.styleInit(!1),i=e.opacity,s=e.transform;"undefined"!==typeof i&&(this.opacity=i),this.transform=s,this.$nextTick((function(){t.timer=setTimeout((function(){t.animation=(0,n.createAnimation)(t.config,t),t.tranfromInit(!1).step(),t.animation.run(),t.$emit("change",{detail:t.isShow})}),20)}))},close:function(t){var e=this;this.animation&&this.tranfromInit(!0).step().run((function(){e.isShow=!1,e.animationData=null,e.animation=null;var t=e.styleInit(!1),i=t.opacity,n=t.transform;e.opacity=i||1,e.transform=n,e.$emit("change",{detail:e.isShow})}))},styleInit:function(t){var e=this,i={transform:""},n=function(t,n){"fade"===n?i.opacity=e.animationType(t)[n]:i.transform+=e.animationType(t)[n]+" "};return"string"===typeof this.modeClass?n(t,this.modeClass):this.modeClass.forEach((function(e){n(t,e)})),i},tranfromInit:function(t){var e=this,i=function(t,i){var n=null;"fade"===i?n=t?0:1:(n=t?"-100%":"0","zoom-in"===i&&(n=t?.8:1),"zoom-out"===i&&(n=t?1.2:1),"slide-right"===i&&(n=t?"100%":"0"),"slide-bottom"===i&&(n=t?"100%":"0")),e.animation[e.animationMode()[i]](n)};return"string"===typeof this.modeClass?i(t,this.modeClass):this.modeClass.forEach((function(e){i(t,e)})),this.animation},animationType:function(t){return{fade:t?1:0,"slide-top":"translateY(".concat(t?"0":"-100%",")"),"slide-right":"translateX(".concat(t?"0":"100%",")"),"slide-bottom":"translateY(".concat(t?"0":"100%",")"),"slide-left":"translateX(".concat(t?"0":"-100%",")"),"zoom-in":"scaleX(".concat(t?1:.8,") scaleY(").concat(t?1:.8,")"),"zoom-out":"scaleX(".concat(t?1:1.2,") scaleY(").concat(t?1:1.2,")")}},animationMode:function(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=h}).call(this,i("0de9")["default"])},6651:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.width)?i("view",{staticClass:t._$s(0,"sc","uni-grid-item"),style:t._$s(0,"s","width:"+t.width+";"+(t.square?"height:"+t.width:"")),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-grid-item__box"),class:t._$s(1,"c",{"uni-grid-item--border":t.showBorder,"uni-grid-item--border-top":t.showBorder&&t.index<t.column,"uni-highlight":t.highlight}),style:t._$s(1,"s",{"border-right-color":t.borderColor,"border-bottom-color":t.borderColor,"border-top-color":t.borderColor}),attrs:{_i:1},on:{click:t._onClick}},[t._t("default",null,{_i:2})],2)]):t._e()},a=[]},"675a":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","page-body uni-content-info"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","cropper-content"),attrs:{_i:2}},[t._$s(3,"i",t.isShowImg)?i("view",{staticClass:t._$s(3,"sc","uni-corpper"),style:t._$s(3,"s","width:"+t.cropperInitW+"px;height:"+t.cropperInitH+"px;background:#000000"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-corpper-content"),style:t._$s(4,"s","width:"+t.cropperW+"px;height:"+t.cropperH+"px;left:"+t.cropperL+"px;top:"+t.cropperT+"px"),attrs:{_i:4}},[i("image",{style:t._$s(5,"s","width:"+t.cropperW+"px;height:"+t.cropperH+"px"),attrs:{src:t._$s(5,"a-src",t.imageSrc),_i:5}}),i("view",{staticClass:t._$s(6,"sc","uni-corpper-crop-box"),style:t._$s(6,"s","left:"+t.cutL+"px;top:"+t.cutT+"px;right:"+t.cutR+"px;bottom:"+t.cutB+"px"),attrs:{_i:6},on:{touchstart:function(e){return e.stopPropagation(),t.contentStartMove(e)},touchmove:function(e){return e.stopPropagation(),t.contentMoveing(e)},touchend:function(e){return e.stopPropagation(),t.contentTouchEnd(e)}}},[i("view",{staticClass:t._$s(7,"sc","uni-cropper-view-box"),attrs:{_i:7}},[i("view",{staticClass:t._$s(8,"sc","uni-cropper-dashed-h"),attrs:{_i:8}}),i("view",{staticClass:t._$s(9,"sc","uni-cropper-dashed-v"),attrs:{_i:9}}),i("view",{staticClass:t._$s(10,"sc","uni-cropper-line-t"),attrs:{_i:10},on:{touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchmove:function(e){return e.stopPropagation(),t.dragMove(e)}}}),i("view",{staticClass:t._$s(11,"sc","uni-cropper-line-r"),attrs:{_i:11},on:{touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchmove:function(e){return e.stopPropagation(),t.dragMove(e)}}}),i("view",{staticClass:t._$s(12,"sc","uni-cropper-line-b"),attrs:{_i:12},on:{touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchmove:function(e){return e.stopPropagation(),t.dragMove(e)}}}),i("view",{staticClass:t._$s(13,"sc","uni-cropper-line-l"),attrs:{_i:13},on:{touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchmove:function(e){return e.stopPropagation(),t.dragMove(e)}}}),i("view",{staticClass:t._$s(14,"sc","uni-cropper-point point-t"),attrs:{_i:14},on:{touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchmove:function(e){return e.stopPropagation(),t.dragMove(e)}}}),i("view",{staticClass:t._$s(15,"sc","uni-cropper-point point-tr"),attrs:{_i:15}}),i("view",{staticClass:t._$s(16,"sc","uni-cropper-point point-r"),attrs:{_i:16},on:{touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchmove:function(e){return e.stopPropagation(),t.dragMove(e)}}}),i("view",{staticClass:t._$s(17,"sc","uni-cropper-point point-b"),attrs:{_i:17},on:{touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchmove:function(e){return e.stopPropagation(),t.dragMove(e)},touchend:function(e){return e.stopPropagation(),t.dragEnd(e)}}}),i("view",{staticClass:t._$s(18,"sc","uni-cropper-point point-bl"),attrs:{_i:18}}),i("view",{staticClass:t._$s(19,"sc","uni-cropper-point point-l"),attrs:{_i:19},on:{touchstart:function(e){return e.stopPropagation(),t.dragStart(e)},touchmove:function(e){return e.stopPropagation(),t.dragMove(e)}}}),i("view",{staticClass:t._$s(20,"sc","uni-cropper-point point-lt"),attrs:{_i:20}})])])])]):t._e()]),i("canvas",{style:t._$s(21,"s","position:absolute;border: 1px solid red; width:"+t.imageW+"px;height:"+t.imageH+"px;top:-9999px;left:-9999px;"),attrs:{_i:21}}),i("button",{staticClass:t._$s(22,"sc","buttons"),attrs:{disabled:t._$s(22,"a-disabled",t.isSubmit),_i:22},on:{click:t.getImageInfo}})])])},a=[]},"67b6":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container bg-white"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","icons colorGray"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","options margin-top-40"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","ti-flex flex-column"),attrs:{_i:3},on:{click:function(e){return t.tel()}}},[i("tian-icons",{attrs:{type:"kefu",size:"60",color:"#999999",_i:4}}),i("text",{staticClass:t._$s(5,"sc","margin-top-40"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.customer.telephone)))])],1)]),i("text",[t._v(t._$s(6,"t0-0",t._s(t.customer.serviceTime)))]),i("view",{staticClass:t._$s(7,"sc","opt-item padding-20 ti-flex margin-top-40"),attrs:{_i:7}},[i("button",{staticClass:t._$s(8,"sc","chat"),attrs:{_i:8},on:{click:function(e){return t.tel()}}},[i("text")])])])])},a=[]},6854:function(t,e,i){"use strict";i.r(e);var n=i("cf3d"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},6859:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{qrcode:"",item:{},account:{}}},onLoad:function(){this.item=this.getItemData()},computed:{customer:function(){return this.$store.state.app.customer},userInfo:function(){return this.$store.state.user.userInfo}},methods:{showAccount:function(){var t=this.customer.shopAdminUrl;t?(this.account={url:t,account:this.userInfo.mobile,password:this.userInfo.mobile},this.$refs.accountPopup.open()):this.$message("\u672a\u914d\u7f6e\u6536\u6b3e\u4e8c\u7ef4\u7801\u5730\u5740")},showQrcode:function(){var t=this,e=this.customer.shopQrCode;e?(this.$refs.qrPopup.open(),this.$nextTick((function(){var i=t.$stringFormat(e,{shop:t.item});t.$refs.uqrcode.make({size:304,text:i})}))):this.$message("\u672a\u914d\u7f6e\u6536\u6b3e\u4e8c\u7ef4\u7801\u5730\u5740")}}};e.default=n},"685b":function(t,e,i){"use strict";i.r(e);var n=i("dba6"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},6891:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-searchbar"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-searchbar__box"),style:t._$s(1,"s",{borderRadius:t.radius+"px",backgroundColor:t.bgColor}),attrs:{_i:1},on:{click:t.searchClick}},[i("view",{staticClass:t._$s(2,"sc","uni-searchbar__box-icon-search"),attrs:{_i:2}},[t._t("searchIcon",[i("uni-icons",{attrs:{color:"#c0c4cc",size:"18",type:"search",_i:4}})],{_i:3})],2),t._$s(5,"i",t.show||t.searchVal)?i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:t._$s(5,"sc","uni-searchbar__box-search-input"),attrs:{focus:t._$s(5,"a-focus",t.showSync),placeholder:t._$s(5,"a-placeholder",t.placeholderText),maxlength:t._$s(5,"a-maxlength",t.maxlength),_i:5},domProps:{value:t._$s(5,"v-model",t.searchVal)},on:{confirm:t.confirm,blur:t.blur,focus:t.emitFocus,input:function(e){e.target.composing||(t.searchVal=e.target.value)}}}):i("text",{staticClass:t._$s(6,"sc","uni-searchbar__text-placeholder"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.placeholder)))]),t._$s(7,"i",t.show&&("always"===t.clearButton||"auto"===t.clearButton&&""!==t.searchVal))?i("view",{staticClass:t._$s(7,"sc","uni-searchbar__box-icon-clear"),attrs:{_i:7},on:{click:t.clear}},[t._t("clearIcon",[i("uni-icons",{attrs:{color:"#c0c4cc",size:"20",type:"clear",_i:9}})],{_i:8})],2):t._e()]),t._$s(10,"i","always"===t.cancelButton||t.show&&"auto"===t.cancelButton)?i("text",{staticClass:t._$s(10,"sc","uni-searchbar__cancel"),attrs:{_i:10},on:{click:t.cancel}},[t._v(t._$s(10,"t0-0",t._s(t.cancelTextI18n)))]):t._e()])},a=[]},"68a0":function(t,e,i){"use strict";i.r(e);var n=i("fcfb"),s=i("e7e8");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"35a20fe1",null,!1,n["a"],r);e["default"]=c.exports},"68e5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("d2e9"),s=i("c909"),a=i("5079"),r=i("3e08"),o={install:function(t){(0,n.initUtil)(t),(0,s.initRequest)(t),(0,a.initInterceptor)(t),(0,r.initPermission)(t)}};e.default=o},"68f3":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u522a\u9664\u6578\u64da"}')},6961:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("text",{staticClass:t._$s(0,"sc","uni-icons"),class:t._$s(0,"c",["uniui-"+t.type,t.customPrefix,t.customPrefix?t.type:""]),style:t._$s(0,"s",{color:t.color,"font-size":t.iconSize}),attrs:{_i:0},on:{click:t._onClick}})},a=[]},"69c4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("3c69"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={name:"uqrcode",data:function(){return{options:n.default.defaults,modules:[],result:{}}},computed:{colSize:function(){return(this.options.size-2*this.options.margin)/this.modules.length}},methods:{make:function(t){var e=this;if(t=r(r({},this.options),t),t.mode||(t.mode="view"),t.canvasId||(t.canvasId=this.uuid()),this.options=t,"view"===t.mode)this.modules=n.default.getModules(t);else if("canvas"===t.mode)return new Promise((function(i,s){n.default.make(t,e).then((function(t){e.result=t,i(r({},t))})).catch((function(t){s(t)}))}))},save:function(){"view"===this.options.mode?uni.showToast({icon:"none",title:"view\u6a21\u5f0f\u4e0d\u652f\u6301\u4fdd\u5b58\uff0c\u8bf7\u63d0\u793a\u7528\u6237\u4f7f\u7528\u622a\u5c4f\u4fdd\u5b58"}):"canvas"===this.options.mode&&uni.saveImageToPhotosAlbum({filePath:this.result.tempFilePath,success:function(t){uni.showToast({icon:"success",title:"\u4fdd\u5b58\u6210\u529f"})},fail:function(t){uni.showToast({icon:"none",title:JSON.stringify(t)})}})},uuid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];if(i=i||n.length,t)for(var a=0;a<t;a++)s[a]=n[0|Math.random()*i];else{var r;s[8]=s[13]=s[18]=s[23]="-",s[14]="4";for(var o=0;o<36;o++)s[o]||(r=0|16*Math.random(),s[o]=n[19==o?3&r|8:r])}return e?(s.shift(),"u"+s.join("")):s.join("")}}};e.default=c},"69ca":function(t,e,i){"use strict";(function(t,i){function n(t){return o(t)||r(t)||a(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function o(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=t.database(),h={data:function(){return{item:{},stock:0,loaded:!1,single:!1,amount:1,where:"",options:{},divider:"&gt;",selectSku:{},selectNames:"",submitButtonGroup:[{text:"\u786e\u5b9a",backgroundColor:"#ff0000",color:"#fff"}],skus:[],nameHash:[],skuNames:[],skuMap:{},skuNamesMap:{}}},props:{value:{type:Object,default:function(){return{price:0,market_price:0,member:{}}}},isSubmitSku:{type:Number,default:0},sid:{type:String,default:""},group_buying_id:{type:String,default:""}},watch:{value:function(t){this.item=t,this.skuNames=t.sku_name?t.sku_name:[],this.loadData()},group_buying_id:function(t){i("log","watch group_buying_id",t," at uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue:133")}},created:function(){this.item=this.value,this.skuNames=this.value.sku_name?this.value.sku_name:[],this.loadData()},methods:{loadData:function(){var t=this;if(this.item&&this.item._id){if(this.single=!1,this.skuNamesMap={},this.loaded=!1,!this.item.sku_name||0==this.item.sku_name.length)return i("log","\u5546\u54c1\u6ca1\u6709\u89c4\u683c"," at uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue:151"),this.loaded=!0,this.single=!0,this.selectSku={price:this.item.price,stock:this.item.remain_count,market_price:this.item.market_price,goods_thumb:this.item.goods_thumb},void(this.stock=this.item.remain_count);this.isSelect=!1,this.selectSku={};var e={},n=[];this.amount=1,i("log","this.skuNames",this.skuNames," at uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue:169"),this.skuNames.map((function(t){e[t]=[]})),i("log","this.item",this.item," at uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue:173"),f.action("goods_skus").collection("opendb-mall-sku,opendb-mall-goods").where('goods_id._id=="'.concat(this.item._id,'"')).field("sku_name,price,market_price,shop_id,stock,goods_thumb,goods_id.use_score_rate,goods_id.use_score,goods_id.is_real,goods_id.is_vip,goods_id.name,goods_id.goods_thumb").limit(200).get().then((function(i){var s=i.result,a={},r=[];t.stock=0,s.data.map((function(i){""==i.goods_thumb?delete i.goods_thumb:i.goods_thumb&&(i.goods_thumb=t.$thumbImg(i.goods_thumb,"168x168"));var s=i.sku_name.split(t.divider);a[i.sku_name]=l(l(l({},t.item),i),{},{sku_name:s.join("+")}),t.stock+=i.stock,s.map((function(i,n){if(t.skuNames[n]&&e[t.skuNames[n]]){var s=e[t.skuNames[n]].findIndex((function(t){return t.name==i}));-1==s&&e[t.skuNames[n]].push({name:i,checked:!1,enable:!0})}})),t.sid==i._id&&(t.selectSku=a[i.sku_name],r=s,t.selectNames=s.join("\uff0c"),t.$emit("change",t.selectSku));for(var o=0;o<s.length-1;o++){var c=[s[o]];n.push(s[o]);for(var u=o+1;u<s.length;u++)n.push(s[u]),n.push([s[o],s[u]].sort().join(t.divider)),c.push(s[u]);n.push(c.sort().join(t.divider))}}));var o={};if(r.length>0){var c=function(t){e[t].forEach((function(e){e.checked=-1!=r.indexOf(e.name),e.checked&&(o[t]=e.name)}))};for(var u in e)c(u)}t.skuNamesMap=e,t.skuMap=a,t.nameHash=t.unique(n),r.length>0&&setTimeout((function(){t.checkSkuEnable(r,o)}),100),t.loaded=!0}))}else i("log","sku \u6ca1\u6709\u5546\u54c1id"," at uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue:144")},unique:function(t){for(var e=[],i=0;i<t.length;i++)-1==e.indexOf(t[i])&&e.push(t[i]);return e},close:function(){this.$refs.skuPopup.close()},change:function(t){var e=t.show;e?uni.hideTabBar():uni.showTabBar()},open:function(){this.$refs.skuPopup.open()},chooseSku:function(t,e,i){var s=this;if(!t.enable)return!1;t.checked=!t.checked,t.checked&&this.skuNamesMap[e].forEach((function(e){e.name!=t.name&&(e.checked=!1)}));var a=[],r=[],o={};for(var c in this.skuNamesMap){var u=this.skuNamesMap[c].filter((function(t){return t.checked}));u.length>0&&(a.push(u[0]),r.push(u[0].name),o[c]=u[0].name)}if(this.selectNames=r.join("\uff0c"),a.length==this.skuNames.length){var l=r.join(this.divider);this.selectSku=this.skuMap[l]}else this.selectSku={};var d=function(t){t!=e&&s.skuNamesMap[t].forEach((function(e){var i=r.filter((function(e){return e!=o[t]})),a=[].concat(n(i),[e.name]).sort().join(s.divider);e.enable=-1!=s.nameHash.indexOf(a)}))};for(var f in this.skuNamesMap)d(f);this.$emit("change",this.selectSku)},checkSkuEnable:function(t,e){for(var i=this,s=0;s<t.length;s++){var a=function(a){a!=s&&i.skuNamesMap[a].forEach((function(s){var r=t.filter((function(t){return t!=e[a]})),o=[].concat(n(r),[s.name]).sort().join(i.divider);s.enable=-1!=i.nameHash.indexOf(o)}))};for(var r in this.skuNamesMap)a(r)}},buttonClick:function(t){var e=this,n=t.index;if(i("log","buttonClick",n," at uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue:360"),this.checkBindMobile("\u5fc5\u987b\u7ed1\u5b9a\u624b\u673a\u624d\u80fd\u4e0b\u5355"))if(this.$store.getters["user/isTokenValid"])if(this.single||this.selectSku._id){if(!this.isSubmit)if(this.selectSku.stock<this.amount)this.$message("\u5e93\u5b58\u4e0d\u8db3");else if(0==n)this.isSubmit=!0,uni.showLoading({title:"\u8bf7\u7b49\u5f85",mask:!0}),f.action("cart").collection("opendb-mall-cart").where({goods_id:this.item._id,sku_id:this.selectSku._id,user_id:f.env.uid}).update({goods_id:this.item._id,goods_name:this.selectSku.name,goods_thumb:this.selectSku.goods_thumb,shop_id:this.item.shop_id,sku_id:this.selectSku._id,sku_name:this.selectSku.sku_name,price:this.selectSku.price,market_price:this.selectSku.market_price,amount:+this.amount,user_id:f.env.uid}).then((function(t){var n=t.result;i("log","\u52a0\u5165\u7ed3\u679c",n," at uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue:407"),n.updated?(e.$store.commit("mall/INCREMENT_CART_NUMBER",+e.amount),e.$success("\u52a0\u5165\u6210\u529f")):e.$message("\u52a0\u5165\u5931\u8d25")})).catch((function(t){e.$message(t.message||"\u52a0\u5165\u5931\u8d25"),i("log","\u52a0\u5165\u5931\u8d25",t," at uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue:417")})).finally((function(){e.isSubmitSku,e.close(),setTimeout((function(){e.isSubmit=!1}),1e3)}));else{this.close();var s=l(l({},this.selectSku),{},{goods_id:this.item._id,sku_id:this.selectSku._id,amount:this.amount});this.navTo("/pages/order/create",{type:"single",goods:[{group_buying:2==n,group_buying_id:this.group_buying_id,goods_id:this.item._id,sku_id:this.selectSku._id,amount:this.amount}],goodsList:[s]})}}else this.$message("\u8bf7\u9009\u62e9\u89c4\u683c");else this.navToLoginNotice()}}};e.default=h}).call(this,i("a9ff")["default"],i("0de9")["default"])},"69d0":function(t,e,i){"use strict";i.r(e);var n=i("c28c"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"6a46":function(t,e,i){"use strict";i.r(e);var n=i("545b"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"6ac5":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.database(),n={data:function(){return{statistics:{total:"0\u4eba",todayUser:"0\u4eba",todayScore:"0\u5206"}}},onLoad:function(){this.getUsersCount()},methods:{getUsersCount:function(){var t=this,e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);var n=e.getTime();i.collection("uni-id-users").count().then((function(e){var i=e.result;t.statistics.total=i.total+"\u4eba"})),i.collection("uni-id-users").where("register_date >= ".concat(n)).count().then((function(e){var i=e.result;t.statistics.todayUser=i.total+"\u4eba"})),i.collection("uni-id-score-day-statistics").where("day >= ".concat(n)).get({getOne:!0}).then((function(e){var i=e.result;t.statistics.todayScore=i.data.value+"\u5206"}))}}};e.default=n}).call(this,i("a9ff")["default"])},"6afc":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{cid:"",shop_id:"",goods:{},searchText:"",formData:{waterfall:!1,status:"loading"},loadmore:0,where:"",tipShow:!1}},onLoad:function(t){t.cid&&(this.cid=t.cid),t.shop_id&&(this.shop_id=t.shop_id,this.search()),t.name&&(getApp().globalData.searchText=t.name)},onShow:function(t){this.searchText=getApp().globalData.searchText},methods:{openSku:function(e){t("log","openSku",e," at pages/product/list.vue:53"),this.goods=e,this.$refs.tianSkuPop.open()},select:function(){this.formData.waterfall=!this.formData.waterfall},onPullDownRefresh:function(){},onReachBottom:function(){t("log","onReachBottom"," at pages/product/list.vue:80"),this.loadmore=Date.now()},load:function(t,e){e&&(this.formData.status="noMore")},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=[];e&&i.push("".concat(new RegExp(e,"gi"),".test(name)")),this.cid&&i.push('category_id=="'.concat(this.cid,'"')),this.shop_id&&i.push('shop_id=="'.concat(this.shop_id,'"')),t("log","search conditions",i," at pages/product/list.vue:101"),this.where=i.join(" && ")},clear:function(){getApp().globalData.searchText=""},searchClick:function(){uni.hideKeyboard(),uni.navigateTo({url:"/pages/search/search",animationType:"fade-in"})}},watch:{searchText:function(t){this.search(t)}},computed:{listTitle:function(){return""===this.searchText?"\u6700\u70ed\u5546\u54c1":"\u641c\u7d22\u7ed3\u679c"}}};e.default=i}).call(this,i("0de9")["default"])},"6b94":function(t,e,i){"use strict";i.r(e);var n=i("3945"),s=i("7af4");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"6bb4":function(t,e,i){"use strict";i.r(e);var n=i("bbf7"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"6bdb":function(t,e,i){"use strict";i.r(e);var n=i("59fd"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"6c03":function(t,e,i){"use strict";i.r(e);var n=i("1503"),s=i("454a");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"6c13":function(t,e,i){"use strict";i.r(e);var n=i("a4cb"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"6c81":function(t,e,i){"use strict";i.r(e);var n=i("8a56"),s=i("b3af");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"04942d6a",null,!1,n["a"],r);e["default"]=c.exports},"6cc1":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("text",[t._v(t._$s(0,"t0-0",t._s(t.dateShow)))])},a=[]},"6cfc":function(t,e,i){"use strict";i.r(e);var n=i("0d1f"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"6d26":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._t("default",null,{_i:1})],2)},a=[]},"6d42":function(t,e,i){"use strict";i.r(e);var n=i("6d26"),s=i("8f28");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"6d6c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function o(t){var e=l();return function(){var i,n=d(t);if(e){var s=d(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return c(this,i)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function h(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){f(a,n,s,r,o,"next",t)}function o(t){f(a,n,s,r,o,"throw",t)}r(void 0)}))}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e,i){return e&&p(t.prototype,e),i&&p(t,i),t}var g={email:/^\S+?@\S+?\.\S+?$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i")},v={int:"integer",bool:"boolean",double:"number",long:"number",password:"string"};function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=["label"];i.forEach((function(e){void 0===t[e]&&(t[e]="")}));var n=e;for(var s in t){var a=new RegExp("{"+s+"}");n=n.replace(a,t[s])}return n}function y(t,e){return void 0===t||null===t||("string"===typeof t&&!t||(!(!Array.isArray(t)||t.length)||"object"===e&&!Object.keys(t).length))}var w={integer:function(t){return w.number(t)&&parseInt(t,10)===t},string:function(t){return"string"===typeof t},number:function(t){return!isNaN(t)&&"number"===typeof t},boolean:function(t){return"boolean"===typeof t},float:function(t){return w.number(t)&&!w.integer(t)},array:function(t){return Array.isArray(t)},object:function(t){return"object"===typeof t&&!w.array(t)},date:function(t){return t instanceof Date},timestamp:function(t){return!(!this.integer(t)||Math.abs(t).toString().length>16)},file:function(t){return"string"===typeof t.url},email:function(t){return"string"===typeof t&&!!t.match(g.email)&&t.length<255},url:function(t){return"string"===typeof t&&!!t.match(g.url)},pattern:function(t,e){try{return new RegExp(t).test(e)}catch(i){return!1}},method:function(t){return"function"===typeof t},idcard:function(t){return"string"===typeof t&&!!t.match(g.idcard)},"url-https":function(t){return this.url(t)&&t.startsWith("https://")},"url-scheme":function(t){return t.startsWith("://")},"url-web":function(t){return!1}},$=function(){function t(e){_(this,t),this._message=e}return m(t,[{key:"validateRule",value:function(){var t=h(n.default.mark((function t(e,i,s,a,r){var o,c,u,l,d,f,h,_,p;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=null,c=i.rules,u=c.findIndex((function(t){return t.required})),!(u<0)){t.next=8;break}if(null!==s&&void 0!==s){t.next=6;break}return t.abrupt("return",o);case 6:if("string"!==typeof s||s.length){t.next=8;break}return t.abrupt("return",o);case 8:if(l=this._message,void 0!==c){t.next=11;break}return t.abrupt("return",l["default"]);case 11:d=0;case 12:if(!(d<c.length)){t.next=35;break}if(f=c[d],h=this._getValidateType(f),Object.assign(f,{label:i.label||'["'.concat(e,'"]')}),!x[h]){t.next=20;break}if(o=x[h](f,s,l),null==o){t.next=20;break}return t.abrupt("break",35);case 20:if(!f.validateExpr){t.next=26;break}if(_=Date.now(),p=f.validateExpr(s,r,_),!1!==p){t.next=26;break}return o=this._getMessage(f,f.errorMessage||this._message["default"]),t.abrupt("break",35);case 26:if(!f.validateFunction){t.next=32;break}return t.next=29,this.validateFunction(f,s,a,r,h);case 29:if(o=t.sent,null===o){t.next=32;break}return t.abrupt("break",35);case 32:d++,t.next=12;break;case 35:return null!==o&&(o=l.TAG+o),t.abrupt("return",o);case 37:case"end":return t.stop()}}),t,this)})));function e(e,i,n,s,a){return t.apply(this,arguments)}return e}()},{key:"validateFunction",value:function(){var t=h(n.default.mark((function t(e,i,s,a,r){var o,c,u;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=null,t.prev=1,c=null,t.next=5,e.validateFunction(e,i,a||s,(function(t){c=t}));case 5:u=t.sent,(c||"string"===typeof u&&u||!1===u)&&(o=this._getMessage(e,c||u,r)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),o=this._getMessage(e,t.t0.message,r);case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(e,i,n,s,a){return t.apply(this,arguments)}return e}()},{key:"_getMessage",value:function(t,e,i){return b(t,e||t.errorMessage||this._message[i]||e["default"])}},{key:"_getValidateType",value:function(t){var e="";return t.required?e="required":t.format?e="format":t.arrayType?e="arrayTypeFormat":t.range?e="range":void 0!==t.maximum||void 0!==t.minimum?e="rangeNumber":void 0!==t.maxLength||void 0!==t.minLength?e="rangeLength":t.pattern?e="pattern":t.validateFunction&&(e="validateFunction"),e}}]),t}(),x={required:function(t,e,i){return t.required&&y(e,t.format||typeof e)?b(t,t.errorMessage||i.required):null},range:function(t,e,i){for(var n=t.range,s=t.errorMessage,a=new Array(n.length),r=0;r<n.length;r++){var o=n[r];w.object(o)&&void 0!==o.value?a[r]=o.value:a[r]=o}var c=!1;return Array.isArray(e)?c=new Set(e.concat(a)).size===a.length:a.indexOf(e)>-1&&(c=!0),c?null:b(t,s||i["enum"])},rangeNumber:function(t,e,i){if(!w.number(e))return b(t,t.errorMessage||i.pattern.mismatch);var n=t.minimum,s=t.maximum,a=t.exclusiveMinimum,r=t.exclusiveMaximum,o=a?e<=n:e<n,c=r?e>=s:e>s;return void 0!==n&&o?b(t,t.errorMessage||i["number"][a?"exclusiveMinimum":"minimum"]):void 0!==s&&c?b(t,t.errorMessage||i["number"][r?"exclusiveMaximum":"maximum"]):void 0!==n&&void 0!==s&&(o||c)?b(t,t.errorMessage||i["number"].range):null},rangeLength:function(t,e,i){if(!w.string(e)&&!w.array(e))return b(t,t.errorMessage||i.pattern.mismatch);var n=t.minLength,s=t.maxLength,a=e.length;return void 0!==n&&a<n?b(t,t.errorMessage||i["length"].minLength):void 0!==s&&a>s?b(t,t.errorMessage||i["length"].maxLength):void 0!==n&&void 0!==s&&(a<n||a>s)?b(t,t.errorMessage||i["length"].range):null},pattern:function(t,e,i){return w["pattern"](t.pattern,e)?null:b(t,t.errorMessage||i.pattern.mismatch)},format:function(t,e,i){var n=Object.keys(w),s=v[t.format]?v[t.format]:t.format||t.arrayType;return n.indexOf(s)>-1&&!w[s](e)?b(t,t.errorMessage||i.typeError):null},arrayTypeFormat:function(t,e,i){if(!Array.isArray(e))return b(t,t.errorMessage||i.typeError);for(var n=0;n<e.length;n++){var s=e[n],a=this.format(t,s,i);if(null!==a)return a}return null}},k=function(t){a(i,t);var e=o(i);function i(t,n){var s;return _(this,i),s=e.call(this,i.message),s._schema=t,s._options=n||null,s}return m(i,[{key:"updateSchema",value:function(t){this._schema=t}},{key:"validate",value:function(){var t=h(n.default.mark((function t(e,i){var s;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=this._checkFieldInSchema(e),s){t.next=5;break}return t.next=4,this.invokeValidate(e,!1,i);case 4:s=t.sent;case 5:return t.abrupt("return",s.length?s[0]:null);case 6:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"validateAll",value:function(){var t=h(n.default.mark((function t(e,i){var s;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=this._checkFieldInSchema(e),s){t.next=5;break}return t.next=4,this.invokeValidate(e,!0,i);case 4:s=t.sent;case 5:return t.abrupt("return",s);case 6:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"validateUpdate",value:function(){var t=h(n.default.mark((function t(e,i){var s;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=this._checkFieldInSchema(e),s){t.next=5;break}return t.next=4,this.invokeValidateUpdate(e,!1,i);case 4:s=t.sent;case 5:return t.abrupt("return",s.length?s[0]:null);case 6:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"invokeValidate",value:function(){var t=h(n.default.mark((function t(e,i,s){var a,r,o,c,u;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=[],r=this._schema,t.t0=n.default.keys(r);case 3:if((t.t1=t.t0()).done){t.next=15;break}return o=t.t1.value,c=r[o],t.next=8,this.validateRule(o,c,e[o],e,s);case 8:if(u=t.sent,null==u){t.next=13;break}if(a.push({key:o,errorMessage:u}),i){t.next=13;break}return t.abrupt("break",15);case 13:t.next=3;break;case 15:return t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,this)})));function e(e,i,n){return t.apply(this,arguments)}return e}()},{key:"invokeValidateUpdate",value:function(){var t=h(n.default.mark((function t(e,i,s){var a,r,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=[],t.t0=n.default.keys(e);case 2:if((t.t1=t.t0()).done){t.next=13;break}return r=t.t1.value,t.next=6,this.validateRule(r,this._schema[r],e[r],e,s);case 6:if(o=t.sent,null==o){t.next=11;break}if(a.push({key:r,errorMessage:o}),i){t.next=11;break}return t.abrupt("break",13);case 11:t.next=2;break;case 13:return t.abrupt("return",a);case 14:case"end":return t.stop()}}),t,this)})));function e(e,i,n){return t.apply(this,arguments)}return e}()},{key:"_checkFieldInSchema",value:function(t){var e=Object.keys(t),n=Object.keys(this._schema);if(new Set(e.concat(n)).size===n.length)return"";var s=e.filter((function(t){return n.indexOf(t)<0})),a=b({field:JSON.stringify(s)},i.message.TAG+i.message["defaultInvalid"]);return[{key:"invalid",errorMessage:a}]}}]),i}($);function C(){return{TAG:"",default:"\u9a8c\u8bc1\u9519\u8bef",defaultInvalid:"\u63d0\u4ea4\u7684\u5b57\u6bb5{field}\u5728\u6570\u636e\u5e93\u4e2d\u5e76\u4e0d\u5b58\u5728",validateFunction:"\u9a8c\u8bc1\u65e0\u6548",required:"{label}\u5fc5\u586b",enum:"{label}\u8d85\u51fa\u8303\u56f4",timestamp:"{label}\u683c\u5f0f\u65e0\u6548",whitespace:"{label}\u4e0d\u80fd\u4e3a\u7a7a",typeError:"{label}\u7c7b\u578b\u65e0\u6548",date:{format:"{label}\u65e5\u671f{value}\u683c\u5f0f\u65e0\u6548",parse:"{label}\u65e5\u671f\u65e0\u6cd5\u89e3\u6790,{value}\u65e0\u6548",invalid:"{label}\u65e5\u671f{value}\u65e0\u6548"},length:{minLength:"{label}\u957f\u5ea6\u4e0d\u80fd\u5c11\u4e8e{minLength}",maxLength:"{label}\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7{maxLength}",range:"{label}\u5fc5\u987b\u4ecb\u4e8e{minLength}\u548c{maxLength}\u4e4b\u95f4"},number:{minimum:"{label}\u4e0d\u80fd\u5c0f\u4e8e{minimum}",maximum:"{label}\u4e0d\u80fd\u5927\u4e8e{maximum}",exclusiveMinimum:"{label}\u4e0d\u80fd\u5c0f\u4e8e\u7b49\u4e8e{minimum}",exclusiveMaximum:"{label}\u4e0d\u80fd\u5927\u4e8e\u7b49\u4e8e{maximum}",range:"{label}\u5fc5\u987b\u4ecb\u4e8e{minimum}and{maximum}\u4e4b\u95f4"},pattern:{mismatch:"{label}\u683c\u5f0f\u4e0d\u5339\u914d"}}}k.message=new C;var S=k;e.default=S},"6d97":function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{dataList:[],formData:{rate:5,comment:""},rateResult:["\u5f88\u5dee\u52b2","\u8fd8\u597d\u4e86","\u4e00\u822c\u822c","\u5f88\u597d","\u975e\u5e38\u597d"]}},onLoad:function(){this.loadData(),this.$store.state.app.customer.commentLevel&&(this.rateResult=this.$store.state.app.customer.commentLevel)},computed:{rateString:function(){return this.rateResult[this.formData.rate-1]}},methods:{changeRate:function(t){i("log","changeRate",t," at pages/order/comment.vue:74")},loadData:function(){var t=this;n.collection("tian-mall-orders").where("user_id==$cloudEnv_uid && is_delete==0 && state==3").orderBy("create_time desc").field("goods,shop").get().then((function(e){var n=e.result;i("log",n," at pages/order/comment.vue:81"),t.dataList=[],n.data.map((function(e){e.goods&&(e.goods.forEach((function(t){t.order_id=e._id})),t.dataList=t.dataList.concat(e.goods.filter((function(t){return!t.comment}))))}))}))},comment:function(t){this.formData={rate:5,comment:"",goods_id:t.goods_id,sku_id:t.sku_id,id:t.order_id},this.$refs.popup.open()},cancel:function(){this.$refs.popup.close()},submit:function(){var t=this;this.formData.comment?(this.$request("mall/order/comment",this.formData).then((function(e){t.$success("\u8bc4\u8bba\u6210\u529f"),t.loadData()})),this.cancel()):this.$message("\u8bf7\u8f93\u5165\u8bc4\u4ef7\u5185\u5bb9")}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},"6e2e":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianTabPages:i("c9eb").default,tianPages:i("e453").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","index-container"),attrs:{_i:0}},[t._$s(1,"i","tian-tab-pages"==t.configs.component)?i("tian-tab-pages",{attrs:{configs:t.configs,refresh:t.refresh,loadmore:t.loadmore,_i:1}}):t._$s(2,"e","tian-pages"==t.configs.component)?i("tian-pages",{attrs:{configs:t.configs,refresh:t.refresh,loadmore:t.loadmore,_i:2}}):i("view",{staticClass:t._$s(3,"sc","text-center padding-top-100"),attrs:{_i:3}},[i("image",{attrs:{_i:4}})]),t._$s(5,"i",t.configs.install_notice)?i("view",{staticClass:t._$s(5,"sc","bg-white padding-22 font-32"),attrs:{_i:5}},[i("text",[t._v(t._$s(6,"t0-0",t._s(t.configs.install_notice)))])]):t._e()],1)},a=[]},"6f57":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return d(t)||l(t,e)||c(t,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){s=!0,a=c}finally{try{n||null==o["return"]||o["return"]()}finally{if(s)throw a}}return i}}function d(t){if(Array.isArray(t))return t}function f(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function h(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){f(a,n,s,r,o,"next",t)}function o(t){f(a,n,s,r,o,"throw",t)}r(void 0)}))}}function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g=t.database(),v={data:function(){return{firstGoods:{},secondGoods:{},dataList:[],goods:{},bgStyle:"",isItemClick:!1,options:{checkLocation:!1,display:"default",mode:"mode_more",className:"",bgClassName:"",itemClassName:"",width:716,height:300,loadmore:!1,loading:!1,image_size:"260x260",page_size:20,scrollY:!1}}},props:{configs:{type:Object,default:function(){return{}}},condition:{type:String,default:""},withSku:{type:Boolean,default:!0}},watch:{configs:function(t){n("log","watch configs ",t," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:97"),this.options=Object.assign(this.options,p({},t))}},computed:{where:function(){var t=["is_on_sale==true"];return this.configs&&this.configs.condition&&t.push("(".concat(this.configs.condition,")")),this.condition&&t.push("(".concat(this.condition,")")),n("log","conditions",t," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:112"),t.join(" && ")},orderby:function(){return this.options&&this.options.order?this.options.order:"last_modify_date desc"}},created:function(){this.configs&&(n("log","goods layout this.configs",this.configs," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:124"),this.options=Object.assign(this.options,p({},this.configs))),this.setBg(),this.loadData()},methods:{bgClick:function(){!this.isItemClick&&this.options.top_url&&(n("log","bg click"," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:136"),this.navTo(this.options.top_url))},loadData:function(){var t=this;return h(s.default.mark((function e(){var i,a,o,c;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n("log","goods layout where",t.where," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:141"),e.next=3,g.action("goods_member").collection("opendb-mall-goods").where(t.where).field("goods_sn,name,keywords,shop_id,goods_thumb,price,goods_banner,market_price,sku_name,is_vip,remain_count,month_sell_count,total_sell_count,comment_count,is_real,is_on_sale,is_alone_sale,is_best,is_new,is_hot,add_date,last_modify_date,use_score,use_score_rate").orderBy(t.orderby).limit(t.options.page_size).get();case 3:i=e.sent,a=i.result,a.data.forEach((function(e){e.name=e.name?e.name.substr(0,30):"";var i=t.configs.image_size||"260x260",n=i.split("x"),s=r(n,2),a=s[0],o=s[1];e.goods_style="width:".concat(a,"rpx;height:").concat(o,"rpx;"),e.goods_thumb=t.$thumbImg(e.goods_thumb,i),e.hasCart=!!e.is_real})),"mode_1_3"==t.options.mode&&(o=a.data.filter((function(t){return t.goods_banner})),o.length>0&&(t.firstGoods=o[parseInt(Math.random()*o.length)],a.data.splice(a.data.findIndex((function(e){return e._id==t.firstGoods._id})),1),c=t.firstGoods.goods_banner,t.firstGoods.banner_path=c.path,t.firstGoods.style="width:".concat(c.image.width,"rpx;height:").concat(c.image.height,"rpx;")),n("log","this.firstGoods",t.firstGoods," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:170")),t.dataList=a.data,n("log","goods layout",a.data," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:173");case 9:case"end":return e.stop()}}),e)})))()},setBg:function(){this.options.background_img&&(this.bgStyle="background-image:url(".concat(this.options.background_img,") ; background-repeat: no-repeat;   background-size: 100%;"))},scrolltolower:function(){n("log","goods scrolltolower"," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:183"),this.configs.loadmore&&this.$refs.udb.loadMore()},loadMore:function(){n("log","goods loadmore"," at uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue:190"),this.$refs.udb.loadMore()},navToDetail:function(t){this.navTo("/pages/product/detail?id="+t._id,t)},openSku:function(t){var e=this;this.withSku?(this.goods=t,this.$refs.tianSkuPop.open()):this.$emit("click",t),this.isItemClick=!0,setTimeout((function(){e.isItemClick=!1}),2e3)}}};e.default=v}).call(this,i("a9ff")["default"],i("0de9")["default"])},7003:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view")},a=[]},"70bd":function(t,e,i){"use strict";i.r(e);var n=i("3ae6"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},7215:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{where:"",orderby:"updated_date desc,update_date desc",goods:{}}},props:{configs:{type:Object,default:function(){return{hasMore:!1,style:"style1",image_size:"260x260",column:4}}},collection:{type:String,default:""},field:{type:String,default:""},condition:{type:String,default:""},withSku:{type:Boolean,default:!0},withGroupTime:{type:Boolean,default:!1}},watch:{condition:function(e){t("log","watch condition",e," at uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list.vue:87"),this.where="(".concat(e,") && goods_id.is_on_sale==true")}},created:function(){t("log","goods-list created",this.condition," at uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list.vue:92"),this.where="(".concat(this.condition,") && goods_id.is_on_sale==true")},methods:{refresh:function(){this.$refs.udb.loadData({clear:!0})},loadData:function(e){var i=this,n="";e.forEach((function(t){t._id=t.goods_id,i.withGroupTime&&t.updated_date!=n&&(n=t.updated_date,t.groupTime=n),t.name=t.name?t.name.substr(0,30):"",t.goods_thumb=i.$thumbImg(t.goods_thumb,i.configs.image_size||"260x260")})),t("log","goods loadData",e," at uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list.vue:117")},loadMore:function(){t("log","goods loadMore"," at uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list.vue:120"),this.$refs.udb.loadMore()},navToDetail:function(t){this.navTo("/pages/product/detail?id="+t._id,t)},openSku:function(e){this.withSku?(t("log","sku item",e," at uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list.vue:129"),this.goods=e,this.$refs.tianSkuPop.open()):this.$emit("click",e)},delItem:function(e){t("log","delItem"," at uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list.vue:137"),this.$emit("deleteItem",e)}}};e.default=i}).call(this,i("0de9")["default"])},"731d":function(t,e,i){"use strict";i.r(e);var n=i("5a98"),s=i("f09c");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"73cf":function(t,e,i){"use strict";(function(t,i){function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t.database(),o={data:function(){return{goods:{},pageStyle:"",dataList:[]}},props:{configs:{type:Object,default:function(){return{}}},styles:{type:Object,default:function(){return{}}},items:{type:Array,default:function(){}},refresh:{type:Number,default:0},loadmore:{type:Number,default:0},preview:{type:Boolean,default:!1}},computed:{hasGoodsModule:function(){return!!this.dataList&&this.dataList.filter((function(t){return-1!=t.component.indexOf("goods")})).length>0},bgClassName:function(){if(this.configs&&this.configs.configs){var t=[];return this.configs.configs.bgClassName&&t.push(this.configs.configs.bgClassName),this.configs.configs.isImmersive&&t.push("immersive"),t.join(" ")}return""}},watch:{configs:function(t){this.buildPage(),t.children?this.preview?(i("log","page \u91cd\u65b0\u52a0\u8f7d"," at uni_modules/tian-mall/components/tian-pages/tian-pages.vue:150"),this.dataList=[],setTimeout((function(){}),120),this.dataList=t.children):this.dataList=t.children:t.parent_id!=this.configs.parent_id&&this.loadData(),i("log","page newVal",t," at uni_modules/tian-mall/components/tian-pages/tian-pages.vue:164")},loadmore:function(){i("log","pages loadmore"," at uni_modules/tian-mall/components/tian-pages/tian-pages.vue:167")}},created:function(){this.buildPage(),this.configs.children?this.dataList=this.checkData(this.configs.children):this.loadData()},mounted:function(){this.loaded=!0},methods:{clickPreview:function(t){this.$emit("click",t)},delItem:function(t,e){this.$emit("deletes",t,e)},buildPage:function(){var t=Object.assign({},s(s(s({},this.configs),this.configs.configs),{},{configs:void 0,children:void 0}));if(i("log","buildPage page config",t," at uni_modules/tian-mall/components/tian-pages/tian-pages.vue:196"),t.title&&uni.setNavigationBarTitle({title:t.title}),t.topbarColor&&t.topbarBgColor?uni.setNavigationBarColor({backgroundColor:t.topbarBgColor,frontColor:t.topbarColor}):uni.setNavigationBarColor({backgroundColor:"#ffffff",frontColor:"#000000"}),this.pageStyle="",t.backgroundImg&&(this.pageStyle="background-image:url(".concat(t.backgroundImg,") ;background-repeat:no-repeat;background-size: 100%;")),t.isImmersive){var e=this.systemInfo.custom.top;this.pageStyle+="padding-top:".concat(e,"px;")}},loadData:function(){var t=this;r.collection("tian-pages").where("state==1").orderBy("posid asc").get({getTree:{limitLevel:10,startWith:'parent_id=="'.concat(this.configs.parent_id,'"')}}).then((function(e){var i=e.result;t.dataList=t.checkData(i.data)}))},checkData:function(t){var e=this;return t||(t=[]),t.forEach((function(t){e.configs.city&&(t.configs.city=e.configs.city,t.configs.condition&&(t.configs.condition+=' && city_ids=="'.concat(e.configs.city,'"')),t.city=e.configs.city),e.configs.shop_id&&(t.configs.condition&&(t.configs.condition+=' && shop_id=="'.concat(e.configs.shop_id,'"')),t.shop_id=e.configs.shop_id),t.children&&e.checkData(t.children)})),t},openSku:function(t){i("log","openSku",t," at uni_modules/tian-mall/components/tian-pages/tian-pages.vue:274"),this.goods=t,this.$refs.tianSkuPop.open()}}};e.default=o}).call(this,i("a9ff")["default"],i("0de9")["default"])},"749d":function(t,e,i){"use strict";i.r(e);var n=i("8c86"),s=i("9d38");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},7636:function(t,e,i){"use strict";i.r(e);var n=i("3cd4"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"76b3":function(t,e,i){"use strict";i.r(e);var n=i("7e0b"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"76fc":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",t._l(t._$s(1,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(1,"f",{forIndex:s,key:n}),staticClass:t._$s("1-"+a,"sc","ti-flex bg-white margin-22 padding-22 border-radius"),attrs:{_i:"1-"+a}},[i("tian-icons",{attrs:{type:e.icon,size:"32",_i:"2-"+a}}),i("view",{staticClass:t._$s("3-"+a,"sc","flex-1 margin-left-16"),attrs:{_i:"3-"+a}},[i("view",[i("text",[t._v(t._$s("5-"+a,"t0-0",t._s(e.name)))])]),i("view",{staticClass:t._$s("6-"+a,"sc","font-24 colorGray margin-top-8"),attrs:{_i:"6-"+a}},[i("text",[t._v(t._$s("7-"+a,"t0-0",t._s(e.note)))])]),t._$s("8-"+a,"i",e.per_amount>1)?i("view",{staticClass:t._$s("8-"+a,"sc","progress margin-top-8 ti-flex"),attrs:{_i:"8-"+a}},[i("progress",{staticClass:t._$s("9-"+a,"sc","flex-1 margin-right-8"),attrs:{percent:t._$s("9-"+a,"a-percent",e.percent),_i:"9-"+a}}),i("text",[t._v(t._$s("10-"+a,"t0-0",t._s(e.finishAmount))+t._$s("10-"+a,"t0-1",t._s(e.per_amount)))])]):t._e()]),i("view",{staticClass:t._$s("11-"+a,"sc","margin-left-30"),attrs:{_i:"11-"+a}},[i("button",{attrs:{disabled:t._$s("12-"+a,"a-disabled",e.disabled),_i:"12-"+a},on:{click:function(i){return t.navTo(e.open_url,e)}}},[t._v(t._$s("12-"+a,"t0-0",t._s(e.finish)))])])],1)})),0)},a=[]},"785e":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("8c3c");function a(t,e){return l(t)||u(t,e)||o(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function u(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){s=!0,a=c}finally{try{n||null==o["return"]||o["return"]()}finally{if(s)throw a}}return i}}function l(t){if(Array.isArray(t))return t}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _=t.database(),p="uni-id-address";function m(t){var e={};for(var i in s.validator)t.indexOf(i)>-1&&(e[i]=s.validator[i]);return e}var g={data:function(){return{formData:{user_id:"",name:"",alias:"",mobile:"",mobile_area_code:"",province_code:"",city_code:"",area_code:"",address:"",formatted_address:"",zip_code:"",email:"",is_default:!1},formOtherData:{},formOptions:{},rules:f({},m(["user_id","name","alias","mobile","mobile_area_code","province_code","city_code","area_code","address","formatted_address","zip_code","email","is_default"]))}},onLoad:function(t){var e=t.id;this.formDataId=e,this.getDetail(e)},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.submit().then((function(e){t.formOtherData.formatted_address&&(e=Object.assign({},f(f({},t.formOtherData),e))),e.update_date=Date.now(),n("log",e,t.formData," at pages/address/edit.vue:104"),t.submitForm(e)})).catch((function(t){uni.hideLoading()}))},changeAddress:function(t){n("log","changeAddress",t," at pages/address/edit.vue:111");var e=t.detail.value.map((function(t){return t.value})),i=a(e,3),s=i[0],r=i[1];i[2];this.formOtherData={province_code:s,city_code:r,formatted_address:t.detail.value.map((function(t){return t.text})).join("")}},submitForm:function(t){var e=this;_.collection(p).doc(this.formDataId).update(t).then((function(t){uni.showToast({icon:"none",title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),_.collection(p).doc(t).field("user_id,name,alias,mobile,mobile_area_code,province_code,city_code,area_code,address,formatted_address,zip_code,email,is_default").get().then((function(t){var i=t.result.data[0];i&&(e.formData=i)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},handleDelete:function(){var t=this;this.confirmAction((function(){_.collection(p).doc(t.formDataId).remove().then((function(e){uni.showToast({icon:"none",title:"\u5220\u9664\u6210\u529f"}),t.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)}))}),"\u662f\u5426\u786e\u5b9a\u5220\u9664\uff1f")}}};e.default=g}).call(this,i("a9ff")["default"],i("0de9")["default"])},"79df":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast",_i:1}},[i("uni-forms-item",{attrs:{name:"name",label:"\u59d3\u540d",required:!0,_i:2}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",trim:"both",_i:3},model:{value:t._$s(3,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"number",label:"\u8d26\u53f7",required:!0,_i:4}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.number),callback:function(e){t.$set(t.formData,"number",e)},expression:"formData.number"}})],1),i("view",{staticClass:t._$s(6,"sc","uni-button-group"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","text-center colorRed padding-bottom-20"),attrs:{_i:7}},[i("text")]),i("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}})])],1)],1)},a=[]},"7a1b":function(t,e,i){"use strict";i.r(e);var n=i("f6e5"),s=i("a2bc");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"7af4":function(t,e,i){"use strict";i.r(e);var n=i("f241"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"7b53":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),s=a(i("410d"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function o(t){r(a,n,s,o,c,"next",t)}function c(t){r(a,n,s,o,c,"throw",t)}o(void 0)}))}}var c=t.database(),u={data:function(){return{id:!1,content:""}},onLoad:function(t){t.id&&(this.id=t.id),this.loadData()},methods:{loadData:function(){var t=this;return o(n.default.mark((function e(){return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c.collection("opendb-news-articles").doc(t.id).field("title,content").get({getOne:!0}).then((function(e){var i=e.result;uni.setNavigationBarTitle({title:i.data.title}),t.content=(0,s.default)(i.data.content)}));case 1:case"end":return e.stop()}}),e)})))()}}};e.default=u}).call(this,i("a9ff")["default"])},"7e0b":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("e482");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={data:function(){return{formData:{amount:"",mode:""},formOptions:a({},n.enumConverter)}},computed:{userInfo:function(){return this.$store.state.user.userInfo},items:function(){return this.userInfo.cashoutType?this.userInfo.cashoutType:[]}},onLoad:function(){},onShow:function(){this.userInfo.cashoutLimit||(t("log","\u6ca1\u6709\u6700\u4f4e\u9650\u5236"," at pages/user/cashout.vue:113"),uni.navigateBack({}))},onPullDownRefresh:function(){this.$refs.udb.loadData({clear:!0},(function(){uni.stopPullDownRefresh()}))},onReachBottom:function(){t("log","\u52a0\u8f7d\u4e0b\u4e00\u9875"," at pages/user/cashout.vue:128"),this.$refs.udb.loadMore()},methods:{onchange:function(e){t("log","onchange",e," at pages/user/cashout.vue:133")},onnodeclick:function(e){this.formData.mode=e.value,t("log","onnodeclick",e," at pages/user/cashout.vue:137")},submit:function(){var t=this;this.formData.amount?this.formData.amount>this.userInfo.balance/100?this.$message("\u4f59\u989d\u4e0d\u8db3!"):this.formData.amount<this.userInfo.cashoutLimit.min||this.formData.amount>this.userInfo.cashoutLimit.max?this.$message("\u91d1\u989d\u8d85\u51fa\u9650\u5236!"):this.formData.mode?this.$request("user/info/cashout",this.formData,{loading:!0}).then((function(e){t.$success("\u7533\u8bf7\u6210\u529f"),t.$store.dispatch("user/getUserInfo"),t.$refs.udb.loadData({clear:!0}),t.formData.amount=""})):this.$message("\u8bf7\u9009\u62e9\u63d0\u73b0\u8def\u5f84!"):this.$message("\u8bf7\u8f93\u5165\u63d0\u73b0\u91d1\u989d!")},loadData:function(t){}}};e.default=o}).call(this,i("0de9")["default"])},"7fdb":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","login-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,_i:1}},[i("uni-forms-item",{attrs:{required:!0,name:"mobile",_i:2}},[i("view",{staticClass:t._$s(3,"sc"," "),attrs:{_i:3}},[i("uni-easyinput",{attrs:{type:"number",maxlength:"11",inputBorder:!1,placeholder:"\u8f93\u5165\u624b\u673a\u53f7\u7801",_i:4},on:{confirm:t.login},model:{value:t._$s(4,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1)]),i("uni-forms-item",{attrs:{required:!0,name:"code",_i:5}},[i("view",{staticClass:t._$s(6,"sc","ti-flex"),attrs:{_i:6}},[i("uni-easyinput",{attrs:{type:"number",maxlength:"6",inputBorder:!1,placeholder:"\u8f93\u5165\u9a8c\u8bc1\u7801",_i:7},on:{confirm:t.login},model:{value:t._$s(7,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),i("button",{attrs:{_i:8},on:{click:t.sendSmsCode}},[t._v(t._$s(8,"t0-0",t._s(t.codeDuration?t.codeDuration+"s":"\u83b7\u53d6\u9a8c\u8bc1\u7801")))])],1)]),i("checkbox-group",{attrs:{_i:9},on:{change:t.changeRead}},[i("view",{staticClass:t._$s(10,"sc","colorGray font-26 margin-top-40"),attrs:{_i:10}},[i("label",[i("checkbox",{}),i("text")]),i("text",{attrs:{_i:14},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.fwxy)}}}),i("text",{attrs:{_i:15},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.yszc)}}})])]),i("view",{staticClass:t._$s(16,"sc","margin-top-40"),attrs:{_i:16}},[i("button",{attrs:{disabled:t._$s(17,"a-disabled",!t.read),_i:17},on:{click:t.login}})])],1)],1)},a=[]},8023:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","icon-container"),class:t._$s(0,"c",[t.align]),style:t._$s(0,"s",{color:t.color}),attrs:{_i:0},on:{click:t._onClick}},[i("text",{staticClass:t._$s(1,"sc","tiantian_iconfont "),class:t._$s(1,"c",[t.iconType]),style:t._$s(1,"s",{"font-size":t.size+"px",color:t.icolor}),attrs:{_i:1}}),t._t("default",null,{_i:2}),t._$s(3,"i",t.badge)?i("text",{staticClass:t._$s(3,"sc","badge"),style:t._$s(3,"s",{backgroundColor:t.badgeBgColor}),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.badge)))]):t._e()],2)},a=[]},"81de":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:function(){return[0,0]}},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{width:function(){return 8*String(this.text).length+12},classNames:function(){var t=this.inverted,e=this.type,i=this.size,n=this.absolute;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+i,n?"uni-badge--absolute":""].join(" ")},positionStyle:function(){if(!this.absolute)return{};var t=this.width/2,e=10;this.isDot&&(t=5,e=5);var i="".concat(-t+this.offset[0],"px"),n="".concat(-e+this.offset[1],"px"),s={rightTop:{right:i,top:n},rightBottom:{right:i,bottom:n},leftBottom:{left:i,bottom:n},leftTop:{left:i,top:n}},a=s[this.absolute];return a||s["rightTop"]},badgeWidth:function(){return{width:"".concat(this.width,"px")}},dotStyle:function(){return this.isDot?{width:"10px",height:"10px",borderRadius:"10px"}:{}},displayValue:function(){var t=this.isDot,e=this.text,i=this.maxNum;return t?"":Number(e)>i?"".concat(i,"+"):e}},methods:{onClick:function(){this.$emit("click")}}};e.default=n},"82d8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{maxGoodsLength:3,current:0,options:{}}},computed:{userInfo:function(){return this.$store.state.user.userInfo},where:function(){var t=["rebates.id==$cloudEnv_uid"];return 1==this.current?t.push("rebate_state==2"):2==this.current?(t.push("rebate_state<2"),t.push("state<0")):(t.push("rebate_state<2"),t.push("state>0")),t.join(" && ")},scoreName:function(){return this.$store.state.app.customer.scoreName?this.$store.state.app.customer.scoreName:"\u79ef\u5206"}},methods:{loadData:function(t){var e=this;t.forEach((function(t){t.inviter={money:0,score:0,title:""},t.rebates&&t.rebates.filter((function(t){return t.id==e.userInfo._id})).map((function(e){t.inviter.money+=e.money,t.inviter.score+=e.score,e.title&&(t.inviter.title+=(t.inviter.title?"\uff0c":"")+e.title)})),t.goods&&(t.goods.forEach((function(t){t.goods_thumb=e.$thumbImg(t.goods_thumb,"168x168")})),t.hasMoreGoods=!1,t.goods.length>3&&(t.origin_goods=t.goods,t.goods=t.goods.filter((function(t,i){return i<e.maxGoodsLength})),t.hasMoreGoods=!0,t.showGoodsType=0))}))},showMore:function(t,e){var i=this;t.goods=e?t.origin_goods:t.goods.filter((function(t,e){return e<i.maxGoodsLength})),t.showGoodsType=e},changeTab:function(t){this.current=t}}};e.default=n},8318:function(t,e,i){"use strict";i.r(e);var n=i("208c"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"845b":function(t,e,i){"use strict";(function(t,i){function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t.database();var r={data:function(){return{balance:0,type:"",order:{},paymentList:[]}},props:{value:{type:Object,default:function(){return{}}},confirm:{type:Boolean,default:!1}},watch:{value:function(t){i("log","watch value",t," at uni_modules/tian-mall/components/tian-payment/tian-payment.vue:53"),this.order=t,this.loadData(t)}},created:function(){},methods:{loadData:function(t){var e=this;t._id&&this.$request("payment/info",s(s({},t),{},{id:t._id,module:t.module})).then((function(t){e.paymentList=t.paymentList,e.order=t.order,e.balance=t.balance}))},choose:function(t){var e=this,i="".concat(t.key,"BeforePayment");this.type=t.key,t.confirm?uni.showModal({content:"\u786e\u5b9a\u4f7f\u7528".concat(t.name,"\u5417\uff1f"),success:function(t){t.confirm&&(e[i]&&!e[i]()||e.paymentProcess())}}):this[i]&&!this[i]()||this.paymentProcess()},balanceBeforePayment:function(){return!(this.order.total_fee>this.balance)||(this.$message("\u4f59\u989d\u4e0d\u8db3"),!1)},paymentProcess:function(){var t=this;uni.showLoading({title:"\u652f\u4ed8\u4e2d",mask:!0}),this.$request("payment/pay",s(s({},this.order),{},{id:this.order.id,module:this.order.module,type:this.type})).then((function(e){uni.hideLoading(),e.transaction_id?t.paySuccess():uni.requestPayment({provider:t.type,orderInfo:e,success:function(e){t.paySuccess()},fail:function(e){t.payFailed()}})}),(function(e){t.$refs.payPopup.close()}))},paySuccess:function(){i("log","\u652f\u4ed8\u6210\u529f",this.confirm," at uni_modules/tian-mall/components/tian-payment/tian-payment.vue:150"),this.$success("\u652f\u4ed8\u6210\u529f"),this.$emit("success",this.value),this.$refs.payPopup.close(),this.$emit("successed",this.order)},payFailed:function(){this.$message("\u652f\u4ed8\u5931\u8d25")},close:function(){var t=this;this.$refs.payPopup.close(),this.confirm&&uni.showModal({content:"\u786e\u5b9a\u53d6\u6d88\u8ba2\u5355\u5417\uff1f",confirmText:"\u53bb\u610f\u5df2\u51b3",cancelText:"\u6211\u518d\u60f3\u60f3",success:function(e){e.confirm?(uni.showLoading({title:"\u6b63\u5728\u53d6\u6d88\u8ba2\u5355",mask:!0}),t.$request("payment/cancel",{id:t.order.id,module:t.order.module}).then((function(e){t.$message("\u53d6\u6d88\u6210\u529f"),t.navTimeBack()}))):t.$refs.payPopup.open()}})},open:function(){this.$refs.payPopup.open()},change:function(t){var e=t.show;e||this.$emit("close")}}};e.default=r}).call(this,i("a9ff")["default"],i("0de9")["default"])},"848e":function(t,e,i){"use strict";i.r(e);var n=i("f6b0"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"84c4":function(t,e,i){"use strict";i.r(e);var n=i("7fdb"),s=i("b225");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"857d":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-steps"),attrs:{_i:0}},[i("view",{class:t._$s(1,"c",["column"===t.direction?"uni-steps__column":"uni-steps__row"]),attrs:{_i:1}},[i("view",{class:t._$s(2,"c",["column"===t.direction?"uni-steps__column-text-container":"uni-steps__row-text-container"]),attrs:{_i:2}},t._l(t._$s(3,"f",{forItems:t.options}),(function(e,n,s,a){return i("view",{key:t._$s(3,"f",{forIndex:s,key:n}),class:t._$s("3-"+a,"c",["column"===t.direction?"uni-steps__column-text":"uni-steps__row-text"]),attrs:{_i:"3-"+a}},[i("text",{class:t._$s("4-"+a,"c",["column"===t.direction?"uni-steps__column-title":"uni-steps__row-title"]),style:t._$s("4-"+a,"s",{color:n===t.active?t.activeColor:t.deactiveColor}),attrs:{_i:"4-"+a}},[t._v(t._$s("4-"+a,"t0-0",t._s(e.title)))]),i("text",{class:t._$s("5-"+a,"c",["column"===t.direction?"uni-steps__column-desc":"uni-steps__row-desc"]),style:t._$s("5-"+a,"s",{color:t.deactiveColor}),attrs:{_i:"5-"+a}},[t._v(t._$s("5-"+a,"t0-0",t._s(e.desc)))])])})),0),i("view",{class:t._$s(6,"c",["column"===t.direction?"uni-steps__column-container":"uni-steps__row-container"]),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.options}),(function(e,n,s,a){return i("view",{key:t._$s(7,"f",{forIndex:s,key:n}),class:t._$s("7-"+a,"c",["column"===t.direction?"uni-steps__column-line-item":"uni-steps__row-line-item"]),attrs:{_i:"7-"+a}},[i("view",{class:t._$s("8-"+a,"c",["column"===t.direction?"uni-steps__column-line":"uni-steps__row-line","column"===t.direction?"uni-steps__column-line--before":"uni-steps__row-line--before"]),style:t._$s("8-"+a,"s",{backgroundColor:n<=t.active&&0!==n?t.activeColor:0===n?"transparent":t.deactiveColor}),attrs:{_i:"8-"+a}}),t._$s("9-"+a,"i",n===t.active)?i("view",{class:t._$s("9-"+a,"c",["column"===t.direction?"uni-steps__column-check":"uni-steps__row-check"]),attrs:{_i:"9-"+a}},[i("uni-icons",{attrs:{color:t.activeColor,type:t.activeIcon,size:"14",_i:"10-"+a}})],1):i("view",{class:t._$s("11-"+a,"c",["column"===t.direction?"uni-steps__column-circle":"uni-steps__row-circle"]),style:t._$s("11-"+a,"s",{backgroundColor:n<t.active?t.activeColor:t.deactiveColor}),attrs:{_i:"11-"+a}}),i("view",{class:t._$s("12-"+a,"c",["column"===t.direction?"uni-steps__column-line":"uni-steps__row-line","column"===t.direction?"uni-steps__column-line--after":"uni-steps__row-line--after"]),style:t._$s("12-"+a,"s",{backgroundColor:n<t.active&&n!==t.options.length-1?t.activeColor:n===t.options.length-1?"transparent":t.deactiveColor}),attrs:{_i:"12-"+a}})])})),0)])])},a=[]},"85c8":function(t,e,i){"use strict";i.r(e);var n=i("03ab"),s=i("990e");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"869c":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-easyinput"),class:t._$s(0,"c",{"uni-easyinput-error":t.msg}),style:t._$s(0,"s",{color:t.inputBorder&&t.msg?"#e43d33":t.styles.color}),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-easyinput__content"),class:t._$s(1,"c",{"is-input-border":t.inputBorder,"is-input-error-border":t.inputBorder&&t.msg,"is-textarea":"textarea"===t.type,"is-disabled":t.disabled}),style:t._$s(1,"s",{"border-color":t.inputBorder&&t.msg?"#dd524d":t.styles.borderColor,"background-color":t.disabled?t.styles.disableColor:""}),attrs:{_i:1}},[t._$s(2,"i",t.prefixIcon)?i("uni-icons",{staticClass:t._$s(2,"sc","content-clear-icon"),attrs:{type:t.prefixIcon,color:"#c0c4cc",_i:2},on:{click:function(e){return t.onClickIcon("prefix")}}}):t._e(),t._$s(3,"i","textarea"===t.type)?i("textarea",{staticClass:t._$s(3,"sc","uni-easyinput__content-textarea"),class:t._$s(3,"c",{"input-padding":t.inputBorder}),attrs:{name:t._$s(3,"a-name",t.name),value:t._$s(3,"a-value",t.val),placeholder:t._$s(3,"a-placeholder",t.placeholder),placeholderStyle:t._$s(3,"a-placeholderStyle",t.placeholderStyle),disabled:t._$s(3,"a-disabled",t.disabled),maxlength:t._$s(3,"a-maxlength",t.inputMaxlength),focus:t._$s(3,"a-focus",t.focused),autoHeight:t._$s(3,"a-autoHeight",t.autoHeight),_i:3},on:{input:t.onInput,blur:t.onBlur,focus:t.onFocus,confirm:t.onConfirm}}):i("input",{staticClass:t._$s(4,"sc","uni-easyinput__content-input"),style:t._$s(4,"s",{"padding-right":"password"===t.type||t.clearable||t.prefixIcon?"":"10px","padding-left":t.prefixIcon?"":"10px"}),attrs:{type:t._$s(4,"a-type","password"===t.type?"text":t.type),name:t._$s(4,"a-name",t.name),value:t._$s(4,"a-value",t.val),password:t._$s(4,"a-password",!t.showPassword&&"password"===t.type),placeholder:t._$s(4,"a-placeholder",t.placeholder),placeholderStyle:t._$s(4,"a-placeholderStyle",t.placeholderStyle),disabled:t._$s(4,"a-disabled",t.disabled),maxlength:t._$s(4,"a-maxlength",t.inputMaxlength),focus:t._$s(4,"a-focus",t.focused),confirmType:t._$s(4,"a-confirmType",t.confirmType),_i:4},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput,confirm:t.onConfirm}}),t._$s(5,"i","password"===t.type&&t.passwordIcon)?[t._$s(6,"i",""!=t.val)?i("uni-icons",{staticClass:t._$s(6,"sc","content-clear-icon"),class:t._$s(6,"c",{"is-textarea-icon":"textarea"===t.type}),attrs:{type:t.showPassword?"eye-slash-filled":"eye-filled",size:18,color:"#c0c4cc",_i:6},on:{click:t.onEyes}}):t._e()]:t._$s(7,"e",t.suffixIcon)?[t._$s(8,"i",t.suffixIcon)?i("uni-icons",{staticClass:t._$s(8,"sc","content-clear-icon"),attrs:{type:t.suffixIcon,color:"#c0c4cc",_i:8},on:{click:function(e){return t.onClickIcon("suffix")}}}):t._e()]:[t._$s(10,"i",t.clearable&&t.val&&!t.disabled)?i("uni-icons",{staticClass:t._$s(10,"sc","content-clear-icon"),class:t._$s(10,"c",{"is-textarea-icon":"textarea"===t.type}),attrs:{type:"clear",size:t.clearSize,color:"#c0c4cc",_i:10},on:{click:t.onClear}}):t._e()],t._t("right",null,{_i:11})],2)])},a=[]},"86e5":function(t,e,i){"use strict";i.r(e);var n=i("b4cb"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"86f2":function(t,e,i){"use strict";i.r(e);var n=i("3a68"),s=i("5200");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"874d":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.isShowA)?i("a",{staticClass:t._$s(0,"sc","uni-link"),class:t._$s(0,"c",{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine}),style:t._$s(0,"s",{color:t.color,fontSize:t.fontSize+"px"}),attrs:{href:t._$s(0,"a-href",t.href),download:t._$s(0,"a-download",t.download),_i:0}},[t._t("default",[t._v(t._$s(1,"t0-0",t._s(t.text)))],{_i:1})],2):i("text",{staticClass:t._$s(2,"sc","uni-link"),class:t._$s(2,"c",{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine}),style:t._$s(2,"s",{color:t.color,fontSize:t.fontSize+"px"}),attrs:{_i:2},on:{click:t.openURL}},[t._t("default",[t._v(t._$s(3,"t0-0",t._s(t.text)))],{_i:3})],2)},a=[]},"874d2":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-cursor-point"),attrs:{_i:0}},[t._$s(1,"i",t.popMenu&&(t.leftBottom||t.rightBottom||t.leftTop||t.rightTop)&&t.content.length>0)?i("view",{staticClass:t._$s(1,"sc","uni-fab"),class:t._$s(1,"c",{"uni-fab--leftBottom":t.leftBottom,"uni-fab--rightBottom":t.rightBottom,"uni-fab--leftTop":t.leftTop,"uni-fab--rightTop":t.rightTop}),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-fab__content"),class:t._$s(2,"c",{"uni-fab__content--left":"left"===t.horizontal,"uni-fab__content--right":"right"===t.horizontal,"uni-fab__content--flexDirection":"vertical"===t.direction,"uni-fab__content--flexDirectionStart":t.flexDirectionStart,"uni-fab__content--flexDirectionEnd":t.flexDirectionEnd,"uni-fab__content--other-platform":!t.isAndroidNvue}),style:t._$s(2,"s",{width:t.boxWidth,height:t.boxHeight,backgroundColor:t.styles.backgroundColor}),attrs:{_i:2}},[t._$s(3,"i",t.flexDirectionStart||t.horizontalLeft)?i("view",{staticClass:t._$s(3,"sc","uni-fab__item uni-fab__item--first"),attrs:{_i:3}}):t._e(),t._l(t._$s(4,"f",{forItems:t.content}),(function(e,n,s,a){return i("view",{key:t._$s(4,"f",{forIndex:s,key:n}),staticClass:t._$s("4-"+a,"sc","uni-fab__item"),class:t._$s("4-"+a,"c",{"uni-fab__item--active":t.isShow}),attrs:{_i:"4-"+a},on:{click:function(i){return t._onItemClick(n,e)}}},[i("image",{staticClass:t._$s("5-"+a,"sc","uni-fab__item-image"),attrs:{src:t._$s("5-"+a,"a-src",e.active?e.selectedIconPath:e.iconPath),_i:"5-"+a}}),i("text",{staticClass:t._$s("6-"+a,"sc","uni-fab__item-text"),style:t._$s("6-"+a,"s",{color:e.active?t.styles.selectedColor:t.styles.color}),attrs:{_i:"6-"+a}},[t._v(t._$s("6-"+a,"t0-0",t._s(e.text)))])])})),t._$s(7,"i",t.flexDirectionEnd||t.horizontalRight)?i("view",{staticClass:t._$s(7,"sc","uni-fab__item uni-fab__item--first"),attrs:{_i:7}}):t._e()],2)]):t._e(),i("view",{staticClass:t._$s(8,"sc","uni-fab__circle uni-fab__plus"),class:t._$s(8,"c",{"uni-fab__circle--leftBottom":t.leftBottom,"uni-fab__circle--rightBottom":t.rightBottom,"uni-fab__circle--leftTop":t.leftTop,"uni-fab__circle--rightTop":t.rightTop,"uni-fab__content--other-platform":!t.isAndroidNvue}),style:t._$s(8,"s",{"background-color":t.styles.buttonColor}),attrs:{_i:8},on:{click:t._onClick}},[i("uni-icons",{staticClass:t._$s(9,"sc","fab-circle-icon"),class:t._$s(9,"c",{"uni-fab__plus--active":t.isShow&&t.content.length>0}),attrs:{type:"plusempty",color:t.styles.iconColor,size:"32",_i:9}})],1)])},a=[]},8883:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast",_i:1}},[i("uni-forms-item",{attrs:{name:"title",label:"\u94f6\u884c\u540d\u79f0",required:!0,_i:2}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u94f6\u884c\u540d\u79f0,\u4f8b\u5982:\u5de5\u5546\u94f6\u884c",trim:"both",_i:3},model:{value:t._$s(3,"v-model",t.formData.title),callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),i("uni-forms-item",{attrs:{name:"name",label:"\u59d3\u540d",required:!0,_i:4}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"number",label:"\u5361\u53f7",required:!0,_i:6}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u5361\u53f7",trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.number),callback:function(e){t.$set(t.formData,"number",e)},expression:"formData.number"}})],1),i("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[i("view",{staticClass:t._$s(9,"sc","text-center colorRed padding-bottom-20"),attrs:{_i:9}},[i("text")]),i("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.submit}})])],1)],1)},a=[]},8908:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{formData:{mobile:"",code:""},codeDuration:0,codeInterVal:null,read:!0,inviteCode:"",providerList:[]}},computed:{isLogin:function(){return this.$store.getters["user/isTokenValid"]}},onShow:function(){var t=this;setTimeout((function(){t.checkInviter()}),1e3)},methods:{checkInviter:function(){if(t("log","checkInviter inner"," at pages/user/setinviter.vue:53"),this.isLogin){if(this.$store.state.app.customer&&this.$store.state.app.customer.mustSetInviter){var e=this.$store.state.user.userInfo;e.inviter_uid&&e.inviter_uid.length>0&&uni.reLaunch({url:"/pages/index/index"})}}else uni.reLaunch({url:"/pages/index/index"})},submit:function(){var e=this;if(this.isSubmit)return!1;this.isSubmit=!0,uni.showLoading({title:"\u8bf7\u7b49\u5f85"}),this.$request("user/info/jointeam",{mobile:this.formData.mobile},{loading:!0}).then((function(i){e.isSubmit=!1,t("log","jointeam",i," at pages/user/setinviter.vue:86"),0==i.code&&(e.$success("\u9080\u8bf7\u6210\u529f"),e.$store.dispatch("user/getUserInfo"),setTimeout((function(){uni.reLaunch({url:"/pages/index/index"})}),2e3))}),(function(t){e.isSubmit=!1}))}}};e.default=i}).call(this,i("0de9")["default"])},"895c":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view")},a=[]},"8a04":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-title__box"),style:t._$s(0,"s",{"align-items":t.textAlign}),attrs:{_i:0}},[i("text",{staticClass:t._$s(1,"sc","uni-title__base"),class:t._$s(1,"c",["uni-"+t.type]),style:t._$s(1,"s",{color:t.color}),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.title)))])])},a=[]},"8a3a":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{balance:0,formData:{point:"",mobile:""}}},computed:{userInfo:function(){return this.$store.state.user.userInfo},score:function(){return this.balance},scoreRate:function(){return this.userInfo.score_charge_rate?100*this.userInfo.score_charge_rate:0},scoreName:function(){return this.$store.state.app.customer.scoreName}},onLoad:function(){this.userInfo.score&&(this.balance=parseInt(this.userInfo.score))},onPullDownRefresh:function(){this.$refs.udb.loadData({clear:!0},(function(){uni.stopPullDownRefresh()}))},onReachBottom:function(){t("log","\u52a0\u8f7d\u4e0b\u4e00\u9875"," at pages/user/score/transfer.vue:104"),this.$refs.udb.loadMore()},methods:{loadData:function(t){t.forEach((function(t){t.statusText="\u5ba1\u6838\u4e2d",1==t.status?t.statusText="\u6210\u529f":2==t.status&&(t.statusText="\u62d2\u7edd")}))},submit:function(){var e=this,i=parseInt(this.formData.integral);return i?this.formData.mobile?this.balance<i?(this.$message("\u79ef\u5206\u4e0d\u8db3"),!1):!this.isSubmit&&void this.confirmAction((function(){e.isSubmit=!0,uni.showLoading({title:"\u8bf7\u7b49\u5f85"}),e.$request("user/score/transfer",{integral:i,mobile:e.formData.mobile},{loading:!0}).then((function(i){e.isSubmit=!1,t("log","jointeam",i," at pages/user/score/transfer.vue:150"),0==i.code&&(e.balance=i.balance,e.$success("\u8f6c\u8d26\u6210\u529f")),e.formData.integral="",e.formData.mobile="",e.$refs.udb.loadData({clear:!0})}),(function(t){e.isSubmit=!1}))}),"\u672c\u6b21\u64cd\u4f5c\u4e0d\u53ef\u64a4\u9500\uff01\u662f\u5426\u786e\u5b9a\u8f6c\u8d26\uff1f"):(this.$message("\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a"),!1):(this.$message("\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a"),!1)}}};e.default=i}).call(this,i("0de9")["default"])},"8a56":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","search-container"),class:t._$s(0,"c",{fixed:t.configs.fixed,isSeat:t.configs.isSeat}),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-searchbar"),attrs:{_i:1}},[t._$s(2,"i",t.configs.back)?i("view",{staticClass:t._$s(2,"sc","uni-searchbar-city"),attrs:{_i:2},on:{click:t.goBack}},[i("tian-icons",{staticClass:t._$s(3,"sc","margin-left-6"),attrs:{size:"24",type:"xiangzuo1",_i:3}})],1):t._e(),t._$s(4,"i",t.configs.selectCity)?i("view",{staticClass:t._$s(4,"sc","uni-searchbar-city"),attrs:{_i:4},on:{click:function(e){return t.navTo("/pages/app/cities?save=1")}}},[i("text",{staticClass:t._$s(5,"sc","uni-searchbar-city-result"),style:t._$s(5,"s",{color:t.configs.cityColor}),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.selectedCityName)))]),i("tian-icons",{staticClass:t._$s(6,"sc","margin-left-6"),attrs:{color:t.configs.cityColor,size:"14",type:"xiangxia1",_i:6}})],1):t._e(),i("view",{staticClass:t._$s(7,"sc","uni-searchbar__box"),style:t._$s(7,"s",{borderRadius:t.radius+"px",backgroundColor:t.bgColorText}),attrs:{_i:7},on:{click:t.searchClick}},[i("view",{staticClass:t._$s(8,"sc","uni-searchbar__box-icon-search"),attrs:{_i:8}},[t._t("searchIcon",[i("tian-icons",{attrs:{color:"#999999",size:"18",type:"sousuo",_i:10}})],{_i:9})],2),t._$s(11,"i",t.show||t.searchVal)?i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:t._$s(11,"sc","uni-searchbar__box-search-input"),attrs:{focus:t._$s(11,"a-focus",t.showSync),placeholder:t._$s(11,"a-placeholder",t.placeholderText),maxlength:t._$s(11,"a-maxlength",t.maxlength),_i:11},domProps:{value:t._$s(11,"v-model",t.searchVal)},on:{confirm:t.confirm,blur:t.blur,input:function(e){e.target.composing||(t.searchVal=e.target.value)}}}):i("text",{staticClass:t._$s(12,"sc","uni-searchbar__text-placeholder"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.placeholderText)))]),t._$s(13,"i",t.show&&("always"===t.clearButton||"auto"===t.clearButton&&""!==t.searchVal))?i("view",{staticClass:t._$s(13,"sc","uni-searchbar__box-icon-clear"),attrs:{_i:13},on:{click:t.clear}},[t._t("clearIcon",[i("tian-icons",{attrs:{color:"#c0c4cc",size:"18",type:"shanchu",_i:15}})],{_i:14})],2):t._e()]),t._$s(16,"i","always"===t.cancelButton||t.show&&"auto"===t.cancelButton)?i("text",{staticClass:t._$s(16,"sc","uni-searchbar__cancel"),attrs:{_i:16},on:{click:t.cancel}},[t._v(t._$s(16,"t0-0",t._s(t.cancelText)))]):t._e()]),i("view",{staticClass:t._$s(17,"sc","search-tmp"),attrs:{_i:17}})])},a=[]},"8ac8":function(t,e,i){"use strict";i.r(e);var n=i("39a0"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"8b46":function(t,e){t.exports="/uni_modules/uni-upgrade-center-app/static/bg_top.png"},"8bbf":function(t,e){t.exports=Vue},"8c3c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=e.validator=void 0;var n={user_id:{rules:[{format:"string"}]},name:{rules:[{required:!0},{format:"string"}],label:"\u6536\u8d27\u4eba"},alias:{rules:[{format:"string"}],label:"\u5730\u5740\u522b\u540d"},mobile:{rules:[{required:!0},{format:"string"},{pattern:"^\\+?[0-9-]{3,20}$"}],label:"\u624b\u673a\u53f7"},mobile_area_code:{rules:[{format:"string"}],label:"\u56fd\u9645\u533a\u53f7"},province_code:{rules:[{format:"string"}],label:"\u7701"},city_code:{rules:[{format:"string"}],label:"\u5e02"},area_code:{rules:[{required:!0},{format:"string"}],label:"\u7701\u5e02\u533a"},address:{rules:[{required:!0},{format:"string"}],label:"\u8be6\u7ec6\u4f4f\u5740"},formatted_address:{rules:[{format:"string"}]},zip_code:{rules:[{format:"string"}],label:"\u90ae\u7f16"},email:{rules:[{format:"string"},{format:"email"}],label:"\u90ae\u7bb1"},is_default:{rules:[{format:"bool"}],defaultValue:!1,label:"\u9ed8\u8ba4\u5730\u5740"}};e.validator=n;var s={};e.enumConverter=s},"8c40":function(t,e,i){"use strict";i.r(e);var n=i("2ea0");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var a,r,o,c,u=i("f0c5"),l=Object(u["a"])(n["default"],a,r,!1,null,null,null,!1,o,c);e["default"]=l.exports},"8c86":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniLoadMore:i("458a").default,uqrcode:i("be5a").default,uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[t._$s(1,"i",!t.loaded)?i("view",[i("uni-load-more",{attrs:{status:t.loadingType,_i:2}})],1):t._$s(3,"e",2==t.formData.status)?i("view",{staticClass:t._$s(3,"sc","share"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","text-center"),attrs:{_i:4}},[i("view",[i("text")]),i("view",{staticClass:t._$s(7,"sc","text-center padding-top-20"),attrs:{_i:7}},[i("uqrcode",{ref:"uqrcode",attrs:{_i:8}})],1)]),i("view",{staticClass:t._$s(9,"sc","ti-flex font-36 margin-top-22"),attrs:{_i:9}},[i("text",{staticClass:t._$s(10,"sc","flex-1"),attrs:{_i:10}}),i("text",[t._v(t._$s(11,"t0-0",t._s(t.formData.id)))])]),i("view",{staticClass:t._$s(12,"sc","ti-flex font-36 margin-top-22"),attrs:{_i:12}},[i("text",{staticClass:t._$s(13,"sc","flex-1"),attrs:{_i:13}}),i("text",[t._v(t._$s(14,"t0-0",t._s(t.formData.title)))])]),i("view",{staticClass:t._$s(15,"sc","ti-flex font-36 margin-top-22"),attrs:{_i:15}},[i("text",{staticClass:t._$s(16,"sc","flex-1"),attrs:{_i:16}})]),i("view",{staticClass:t._$s(17,"sc","padding-20 font-30"),attrs:{_i:17}},[i("view",{staticClass:t._$s(18,"sc","ti-flex font-36"),attrs:{_i:18}},[i("text",{staticClass:t._$s(19,"sc","flex-1"),attrs:{_i:19}}),i("text",[t._v(t._$s(20,"t0-0",t._s(t.formData.total)))])]),t._l(t._$s(21,"f",{forItems:t.dayTotal}),(function(e,n,s,a){return i("view",{key:t._$s(21,"f",{forIndex:s,key:n}),staticClass:t._$s("21-"+a,"sc","ti-flex margin-top-12"),attrs:{_i:"21-"+a}},[i("text",{staticClass:t._$s("22-"+a,"sc","flex-1"),attrs:{_i:"22-"+a}},[t._v(t._$s("22-"+a,"t0-0",t._s(e.day)))]),i("text",[t._v(t._$s("23-"+a,"t0-0",t._s(e.total)))])])}))],2),t._$s(24,"i",2==t.type)?i("view",{staticClass:t._$s(24,"sc","uni-button-group"),attrs:{_i:24}},[i("button",{staticClass:t._$s(25,"sc","uni-button"),attrs:{_i:25},on:{click:t.goHome}})]):t._e()]):i("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast",_i:26}},[t._$s(27,"i",t.formData.id)?i("uni-forms-item",{attrs:{name:"id",label:"\u6e20\u9053\u53f7",_i:27}},[i("uni-easyinput",{attrs:{disabled:!0,_i:28},model:{value:t._$s(28,"v-model",t.formData.id),callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}})],1):t._e(),i("uni-forms-item",{attrs:{name:"title",label:"\u540d\u79f0",_i:29}},[i("uni-easyinput",{attrs:{disabled:!t.isEdit,placeholder:"\u4f8b\u5982:\u5f20\u4e09\u3001\u5927\u6da6\u53d1\u8d85\u5e02",_i:30},model:{value:t._$s(30,"v-model",t.formData.title),callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),i("uni-forms-item",{attrs:{name:"mobile",label:"\u7535\u8bdd",_i:31}},[i("uni-easyinput",{attrs:{type:"number",disabled:!t.isEdit,placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u7535\u8bdd",_i:32},model:{value:t._$s(32,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),i("uni-forms-item",{attrs:{name:"address",label:"\u5730\u5740",_i:33}},[i("view",{staticClass:t._$s(34,"sc","ti-flex"),attrs:{_i:34}},[i("view",{staticClass:t._$s(35,"sc","form-item flex-1 ti-flex"),attrs:{_i:35}},[t._$s(36,"i",t.address&&t.address.name)?i("text",{staticClass:t._$s(36,"sc","colorGray"),attrs:{_i:36}},[t._v(t._$s(36,"t0-0",t._s(t.address.name)))]):i("text",{staticClass:t._$s(37,"sc","colorGray"),attrs:{_i:37}})]),t._$s(38,"i",t.isEdit)?i("button",{staticClass:t._$s(38,"sc","font-24"),attrs:{_i:38},on:{click:t.chooseAddress}}):t._e()])]),i("view",{staticClass:t._$s(39,"sc","uni-button-group"),attrs:{_i:39}},[t._$s(40,"i",t.isEdit)?i("button",{staticClass:t._$s(40,"sc","uni-button"),attrs:{_i:40},on:{click:t.submit}}):t._$s(41,"e",1==t.formData.status)?i("button",{staticClass:t._$s(41,"sc","uni-button"),attrs:{_i:41}}):t._e()])],1)],1)},a=[]},"8d03":function(t,e,i){"use strict";i.r(e);var n=i("14f2"),s=i("e7b4");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"8d1c":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianBanner:i("ccbe").default,tianMapLocation:i("c865").default,tianGrides:i("f2aa").default,tianSearchBar:i("6c81").default,tianArticle:i("51ae").default,tianBannerImage:i("85c8").default,tianGoodsList:i("a209").default,tianGoodsLayout:i("b2f3").default,tianGoodsJoinList:i("99f2").default,uniNoticeBar:i("289b").default,uniLink:i("951f").default,uniTitle:i("034d").default,uniRate:i("e22a").default,uniSteps:i("3758").default,uniIcons:i("b5f7").default,tianGoodsSku:i("5a97").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","page-container"),class:t._$s(0,"c",[t.bgClassName]),style:t._$s(0,"s",t.pageStyle),attrs:{_i:0}},[t._l(t._$s(1,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(1,"f",{forIndex:s,key:n}),staticClass:t._$s("1-"+a,"sc","component_item"),class:t._$s("1-"+a,"c",[e.configs.className]),attrs:{_i:"1-"+a}},[t._$s("2-"+a,"i","tian-banner"==e.component)?i("tian-banner",{attrs:{configs:e.configs,_i:"2-"+a}}):t._$s("3-"+a,"e","tian-map-location"==e.component)?i("tian-map-location",{attrs:{configs:e.configs,_i:"3-"+a}}):t._$s("4-"+a,"e","tian-grides"==e.component)?i("tian-grides",{attrs:{configs:e.configs,items:e.items,_i:"4-"+a}}):t._$s("5-"+a,"e","tian-search-bar"==e.component)?i("tian-search-bar",{attrs:{configs:e.configs,_i:"5-"+a}}):t._$s("6-"+a,"e","tian-article"==e.component)?i("tian-article",{attrs:{configs:e.configs,loadmore:t.loadmore,refresh:t.refresh,_i:"6-"+a}}):t._$s("7-"+a,"e","tian-banner-image"==e.component)?i("tian-banner-image",{attrs:{configs:e.configs,loadmore:t.loadmore,refresh:t.refresh,_i:"7-"+a}}):t._$s("8-"+a,"e","tian-goods-list"==e.component)?i("tian-goods-list",{attrs:{configs:e.configs,withSku:!1,loadmore:t.loadmore,refresh:t.refresh,_i:"8-"+a},on:{click:t.openSku}}):t._$s("9-"+a,"e","tian-goods-layout"==e.component)?i("tian-goods-layout",{attrs:{configs:e.configs,withSku:!1,refresh:t.refresh,_i:"9-"+a},on:{click:t.openSku}}):t._$s("10-"+a,"e","tian-goods-join-list"==e.component)?i("tian-goods-join-list",{attrs:{configs:e.configs,refresh:t.refresh,withSku:!1,_i:"10-"+a},on:{click:t.openSku}}):t._$s("11-"+a,"e","uni-notice-bar"==e.component)?i("uni-notice-bar",t._b({attrs:{_i:"11-"+a},on:{click:function(i){return t.navTo(e.configs.clickUrl)}}},"uni-notice-bar",t._$s("11-"+a,"v-bind",e.configs),!1)):t._$s("12-"+a,"e","uni-link"==e.component)?i("uni-link",t._b({attrs:{_i:"12-"+a}},"uni-link",t._$s("12-"+a,"v-bind",e.configs),!1)):t._$s("13-"+a,"e","uni-title"==e.component)?i("uni-title",t._b({attrs:{_i:"13-"+a}},"uni-title",t._$s("13-"+a,"v-bind",e.configs),!1)):t._$s("14-"+a,"e","uni-rate"==e.component)?i("uni-rate",t._b({attrs:{_i:"14-"+a}},"uni-rate",t._$s("14-"+a,"v-bind",e.configs),!1)):t._$s("15-"+a,"e","uni-steps"==e.component)?i("uni-steps",t._b({attrs:{_i:"15-"+a}},"uni-steps",t._$s("15-"+a,"v-bind",e.configs),!1)):t._$s("16-"+a,"e","ad"==e.component)?i("ad",{staticClass:t._$s("16-"+a,"sc","margin-top-22"),attrs:{adpid:t._$s("16-"+a,"a-adpid",e.configs.unitid),"unit-id":t._$s("16-"+a,"a-unit-id",e.configs.unitid),_i:"16-"+a}}):t._e(),t._$s("17-"+a,"i",t.preview)?i("view",{staticClass:t._$s("17-"+a,"sc","preview-cover"),class:t._$s("17-"+a,"c",{checked:e.checked}),attrs:{_i:"17-"+a},on:{click:function(i){return t.clickPreview(e)}}},[i("uni-icons",{staticClass:t._$s("18-"+a,"sc","btnDelete"),attrs:{type:"close",color:"#eb4e38",size:"40",_i:"18-"+a},on:{click:function(i){return t.delItem(e,n)}}})],1):t._e()],1)})),t._$s(19,"i",t.hasGoodsModule)?i("tian-goods-sku",{ref:"tianSkuPop",attrs:{value:t.goods,_i:19}}):t._e()],2)},a=[]},"8d20":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniPopup:i("36ef").default,tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","payment-container"),attrs:{_i:0}},[i("uni-popup",{ref:"payPopup",attrs:{animation:!0,maskClick:!1,type:"bottom",_i:1},on:{change:t.change}},[i("view",{staticClass:t._$s(2,"sc","panel bg-white"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","text-center padding-40"),attrs:{_i:3}},[i("text"),i("tian-icons",{staticClass:t._$s(5,"sc","icon-close"),attrs:{type:"guanbi2",size:"24",_i:5},on:{click:function(e){return t.close()}}})],1),i("view",{staticClass:t._$s(6,"sc","text-center"),attrs:{_i:6}},[i("text",{staticClass:t._$s(7,"sc","price font-40"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.order.total_fee/100)))])]),t._l(t._$s(8,"f",{forItems:t.paymentList}),(function(e,n,s,a){return i("view",{key:t._$s(8,"f",{forIndex:s,key:n}),staticClass:t._$s("8-"+a,"sc","ti-flex padding-22 under-line "),attrs:{_i:"8-"+a},on:{click:function(i){return t.choose(e)}}},[i("tian-icons",{attrs:{type:e.icon,color:e.color,size:"24",_i:"9-"+a}}),i("view",{staticClass:t._$s("10-"+a,"sc","margin-left-20"),attrs:{_i:"10-"+a}},[i("text",[t._v(t._$s("11-"+a,"t0-0",t._s(e.name)))]),i("text",{staticClass:t._$s("12-"+a,"sc","font-24 colorInfo margin-left-10"),attrs:{_i:"12-"+a}},[t._v(t._$s("12-"+a,"t0-0",t._s(e.notice)))])])],1)}))],2)])],1)},a=[]},"8dd5":function(t,e,i){"use strict";i.r(e);var n=i("dbf4"),s=i("1d30");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"8eeb":function(t,e,i){"use strict";i.r(e);var n=i("c0d2"),s=i("f0f6");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"8f04":function(t,e,i){"use strict";i.r(e);var n=i("3c57"),s=i("0e3c");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"f0accd6e",null,!1,n["a"],r);e["default"]=c.exports},"8f24":function(t,e,i){"use strict";i.r(e);var n=i("d31a"),s=i("14b3");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"8f28":function(t,e,i){"use strict";i.r(e);var n=i("4e90"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"8fc1":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","padding-22"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","border-radius bg-white font-20"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","text-center padding-22 ti-flex flex-column"),attrs:{_i:2},on:{click:function(e){return t.navTo("/pages/user/team/member?level=0&title=\u6211\u7684\u7c89\u4e1d")}}},[i("text",{staticClass:t._$s(3,"sc","font-40 colorRed"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.statistics.invite_all_total)))]),i("text")]),i("view",{staticClass:t._$s(5,"sc","ti-flex"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:6},on:{click:function(e){return t.navTo("/pages/user/team/member?level=1&title=\u6211\u7684\u76f4\u63a8")}}},[i("text",{staticClass:t._$s(7,"sc","font-36 colorRed padding-6"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.statistics.invite_total)))]),i("text")]),i("view",{staticClass:t._$s(9,"sc","text-center flex-1 padding-22 left-line padding-bottom-36 ti-flex flex-column"),attrs:{_i:9},on:{click:function(e){return t.navTo("/pages/user/team/member?level=2&title=\u6211\u7684\u793e\u7fa4")}}},[i("text",{staticClass:t._$s(10,"sc","font-36 colorRed padding-6"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.statistics.invite_all_total-t.statistics.invite_total)))]),i("text")])])]),i("view",{staticClass:t._$s(12,"sc","padding-top-22"),attrs:{_i:12}},[i("text")]),i("view",{staticClass:t._$s(14,"sc","ti-flex border-radius bg-white margin-top-12 font-20"),attrs:{_i:14}},[i("view",{staticClass:t._$s(15,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:15},on:{click:function(e){return t.navTo("/pages/user/tasks")}}},[i("text",{staticClass:t._$s(16,"sc","font-28"),class:t._$s(16,"c",{colorRed:!t.todaySignin,colorGreen:t.todaySignin}),attrs:{_i:16}},[t._v(t._$s(16,"t0-0",t._s(t.todaySignin?"\u5df2\u7b7e\u5230":"\u672a\u7b7e\u5230")))])]),i("view",{staticClass:t._$s(17,"sc","text-center flex-1 padding-22 left-line padding-bottom-36 ti-flex flex-column"),attrs:{_i:17}},[i("text",{staticClass:t._$s(18,"sc","font-36 colorRed padding-6"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.todayRate)))]),i("text")]),i("view",{staticClass:t._$s(20,"sc","text-center flex-1 padding-22 left-line padding-bottom-36 ti-flex flex-column"),attrs:{_i:20}},[i("text",{staticClass:t._$s(21,"sc","font-36 colorRed padding-6"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.signinRate)))]),i("text")])]),i("view",{staticClass:t._$s(23,"sc","padding-top-22"),attrs:{_i:23}},[i("text"),i("text",{staticClass:t._$s(25,"sc","font-20 margin-left-10 colorGray"),attrs:{_i:25}})]),i("view",{staticClass:t._$s(26,"sc","ti-flex border-radius bg-white margin-top-12 font-20"),attrs:{_i:26}},[i("view",{staticClass:t._$s(27,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:27}},[i("text",{staticClass:t._$s(28,"sc","font-36 colorRed padding-6"),attrs:{_i:28}},[t._v(t._$s(28,"t0-0",t._s(t.scores.today)))]),i("text")]),i("view",{staticClass:t._$s(30,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:30}},[i("text",{staticClass:t._$s(31,"sc","font-36 colorRed padding-6"),attrs:{_i:31}},[t._v(t._$s(31,"t0-0",t._s(t.scores.yestoday)))]),i("text")]),i("view",{staticClass:t._$s(33,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:33}},[i("text",{staticClass:t._$s(34,"sc","font-36 colorRed padding-6"),attrs:{_i:34}},[t._v(t._$s(34,"t0-0",t._s(t.scores.week)))]),i("text")]),i("view",{staticClass:t._$s(36,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:36}},[i("text",{staticClass:t._$s(37,"sc","font-36 colorRed padding-6"),attrs:{_i:37}},[t._v(t._$s(37,"t0-0",t._s(t.scores.month)))]),i("text")])]),i("view",{staticClass:t._$s(39,"sc","padding-top-22"),attrs:{_i:39}},[i("text"),i("text",{staticClass:t._$s(41,"sc","font-20 margin-left-10 colorGray"),attrs:{_i:41}})]),i("view",{staticClass:t._$s(42,"sc","ti-flex border-radius bg-white margin-top-12 font-20"),attrs:{_i:42}},[i("view",{staticClass:t._$s(43,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:43},on:{click:function(e){return t.navTo("/pages/user/team/member?level=1&time=today&title=\u4eca\u65e5\u65b0\u589e")}}},[i("text",{staticClass:t._$s(44,"sc","font-36 colorRed padding-6"),attrs:{_i:44}},[t._v(t._$s(44,"t0-0",t._s(t.statistics.today_zhi_total))+t._$s(44,"t0-1",t._s(t.statistics.today_total)))]),i("text")]),i("view",{staticClass:t._$s(46,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:46},on:{click:function(e){return t.navTo("/pages/user/team/member?level=1&time=yestoday&title=\u6628\u65e5\u65b0\u589e")}}},[i("text",{staticClass:t._$s(47,"sc","font-36 colorRed padding-6"),attrs:{_i:47}},[t._v(t._$s(47,"t0-0",t._s(t.statistics.yestoday_zhi_total))+t._$s(47,"t0-1",t._s(t.statistics.yestoday_total)))]),i("text")]),i("view",{staticClass:t._$s(49,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:49},on:{click:function(e){return t.navTo("/pages/user/team/member?level=1&time=week&title=\u8fd17\u65e5\u65b0\u589e")}}},[i("text",{staticClass:t._$s(50,"sc","font-36 colorRed padding-6"),attrs:{_i:50}},[t._v(t._$s(50,"t0-0",t._s(t.statistics.week_zhi_total))+t._$s(50,"t0-1",t._s(t.statistics.week_total)))]),i("text")]),i("view",{staticClass:t._$s(52,"sc","text-center flex-1 padding-22 padding-bottom-36 ti-flex flex-column"),attrs:{_i:52},on:{click:function(e){return t.navTo("/pages/user/team/member?level=1&time=month&title=\u8fd130\u65e5\u65b0\u589e")}}},[i("text",{staticClass:t._$s(53,"sc","font-36 colorRed padding-6"),attrs:{_i:53}},[t._v(t._$s(53,"t0-0",t._s(t.statistics.month_zhi_total))+t._$s(53,"t0-1",t._s(t.statistics.month_total)))]),i("text")])]),t._$s(55,"i",t.inviters)?i("view",{staticClass:t._$s(55,"sc","padding-top-22"),attrs:{_i:55}},[i("text")]):t._e(),t._l(t._$s(57,"f",{forItems:t.inviters}),(function(e,n,s,a){return t._$s("57-"+a,"i",t.inviters)?i("view",{key:t._$s(57,"f",{forIndex:s,key:n}),staticClass:t._$s("57-"+a,"sc","ti-flex bg-white border-radius padding-22 margin-top-12"),attrs:{_i:"57-"+a}},[i("image",{staticClass:t._$s("58-"+a,"sc","image-width-100 bg-white border-radius padding-2"),attrs:{src:t._$s("58-"+a,"a-src",e.avatar),_i:"58-"+a}}),i("view",{staticClass:t._$s("59-"+a,"sc","flex-1 margin-left-18"),attrs:{_i:"59-"+a}},[i("view",[i("text",[t._v(t._$s("61-"+a,"t0-0",t._s(e.nickname)))])]),i("tian-icons",{attrs:{type:"dianhua",color:"#eb4e38",size:"20",align:"left",_i:"62-"+a},on:{click:function(i){return t.tel(e.mobile)}}},[t._v(t._$s("62-"+a,"t0-0",t._s(e.mobile)))]),i("view",{staticClass:t._$s("63-"+a,"sc","font-20 colorGray"),attrs:{_i:"63-"+a}},[i("text",[t._v(t._$s("64-"+a,"t0-0",t._s(e.callname)))])])],1)]):t._e()}))],2)},a=[]},"908c":function(t,e,i){"use strict";i.r(e);var n=i("ec4c"),s=i("3301");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},9090:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniRate",props:{isFill:{type:[Boolean,String],default:!0},color:{type:String,default:"#ececec"},activeColor:{type:String,default:"#ffca3e"},disabledColor:{type:String,default:"#c0c0c0"},size:{type:[Number,String],default:24},value:{type:[Number,String],default:0},modelValue:{type:[Number,String],default:0},max:{type:[Number,String],default:5},margin:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},readonly:{type:[Boolean,String],default:!1},allowHalf:{type:[Boolean,String],default:!1},touchable:{type:[Boolean,String],default:!0}},data:function(){return{valueSync:"",userMouseFristMove:!0,userRated:!1,userLastRate:1}},watch:{value:function(t){this.valueSync=Number(t)},modelValue:function(t){this.valueSync=Number(t)}},computed:{stars:function(){for(var t=this.valueSync?this.valueSync:0,e=[],i=Math.floor(t),n=Math.ceil(t),s=0;s<this.max;s++)i>s?e.push({activeWitch:"100%"}):n-1===s?e.push({activeWitch:100*(t-i)+"%"}):e.push({activeWitch:"0"});return e},marginNumber:function(){return Number(this.margin)}},created:function(){this.valueSync=Number(this.value||this.modelValue),this._rateBoxLeft=0,this._oldValue=null},mounted:function(){var t=this;setTimeout((function(){t._getSize()}),100)},methods:{touchstart:function(t){if(!this.readonly&&!this.disabled){var e=t.changedTouches[0],i=e.clientX,n=e.screenX;this._getRateCount(i||n)}},touchmove:function(t){if(!this.readonly&&!this.disabled&&this.touchable){var e=t.changedTouches[0],i=e.clientX,n=e.screenX;this._getRateCount(i||n)}},mousedown:function(t){},mousemove:function(t){},mouseleave:function(t){},_getRateCount:function(t){this._getSize();var e=Number(this.size);if(NaN===e)return new Error("size \u5c5e\u6027\u53ea\u80fd\u8bbe\u7f6e\u4e3a\u6570\u5b57");var i=t-this._rateBoxLeft,n=parseInt(i/(e+this.marginNumber));n=n<0?0:n,n=n>this.max?this.max:n;var s=parseInt(i-(e+this.marginNumber)*n),a=0;(this._oldValue!==n||this.PC)&&(this._oldValue=n,a=this.allowHalf?s>e/2?n+1:n+.5:n+1,a=Math.max(.5,Math.min(a,this.max)),this.valueSync=a,this._onChange())},_onChange:function(){this.$emit("input",this.valueSync),this.$emit("update:modelValue",this.valueSync),this.$emit("change",{value:this.valueSync})},_getSize:function(){var t=this;uni.createSelectorQuery().in(this).select(".uni-rate").boundingClientRect().exec((function(e){e&&(t._rateBoxLeft=e[0].left)}))}}};e.default=n},"90c0":function(t,e,i){"use strict";i.r(e);var n=i("8908"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},9177:function(t,e,i){"use strict";i.r(e);var n=i("2b0d"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"91a8":function(t,e,i){"use strict";i("566f");var n=c(i("8bbf")),s=c(i("8c40")),a=c(i("f9f2")),r=c(i("68e5")),o=c(i("9589"));c(i("8bee"));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}n.default.config.productionTip=!1,n.default.use(r.default),n.default.mixin(o.default),s.default.mpType="app";var f=new n.default(l({store:a.default},s.default));f.$mount()},9294:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.show)?i("view",{staticClass:t._$s(0,"sc","tian-empty"),style:t._$s(0,"s",{marginTop:t.marginTop+"rpx",paddingBottom:t.paddingBottom+"rpx"}),attrs:{_i:0}},[i("tian-icons",{attrs:{type:t.mode,color:t.color,size:t.iconSize,align:"bottom",_i:1}},[i("text",{style:t._$s(2,"s",{fontSize:t.fontSize+"rpx"}),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.text)))])]),i("view",{staticClass:t._$s(3,"sc","tian-slot-wrap"),attrs:{_i:3}},[t._t("bottom",null,{_i:4})],2)],1):t._e()},a=[]},"929f":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianSearchBar:i("6c81").default,tianGoodsList:i("a209").default,tianGoodsSku:i("5a97").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","bg-white"),attrs:{_i:0}},[i("tian-search-bar",{attrs:{configs:{open_url:"/pages/search/search?text=1",disabled:1,back:1,fixed:1},placeholder:t.searchText,_i:1}}),i("view",{staticClass:t._$s(2,"sc","list"),attrs:{_i:2}},[t._$s(3,"i",t.where)?i("tian-goods-list",{ref:"tianGoodsList",attrs:{condition:t.where,withSku:!1,configs:{loadmore:!0,page_size:10,scrollY:!1},loadmore:t.loadmore,_i:3},on:{click:t.openSku}}):t._e()],1),i("tian-goods-sku",{ref:"tianSkuPop",attrs:{value:t.goods,_i:4}})],1)},a=[]},9406:function(t,e,i){"use strict";i.r(e);var n=i("e307"),s=i("6bdb");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"951f":function(t,e,i){"use strict";i.r(e);var n=i("874d"),s=i("acd0");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"956e":function(t,e,i){"use strict";i.r(e);var n=i("44fc9"),s=i("53cc");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"960d":function(t,e,i){"use strict";i.r(e);var n=i("d237"),s=i("848e");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"966a":function(t,e,i){"use strict";i.r(e);var n=i("874d2"),s=i("6a46");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"96b2":function(t,e,i){"use strict";i.r(e);var n=i("c20a"),s=i("65a1");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"96cf":function(t,e){!function(e){"use strict";var i,n=Object.prototype,s=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",u="object"===typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{l=e.regeneratorRuntime=u?t.exports:{},l.wrap=y;var d="suspendedStart",f="suspendedYield",h="executing",_="completed",p={},m={};m[r]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(j([])));v&&v!==n&&s.call(v,r)&&(m=v);var b=k.prototype=$.prototype=Object.create(m);x.prototype=b.constructor=k,k.constructor=x,k[c]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},C(S.prototype),S.prototype[o]=function(){return this},l.AsyncIterator=S,l.async=function(t,e,i,n){var s=new S(y(t,e,i,n));return l.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},C(b),b[c]="Generator",b[r]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},l.values=j,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,s){return o.type="throw",o.arg=t,e.next=n,s&&(e.method="next",e.arg=i),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var c=s.call(r,"catchLoc"),u=s.call(r,"finallyLoc");if(c&&u){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),T(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var s=n.arg;T(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=i),p}}}function y(t,e,i,n){var s=e&&e.prototype instanceof $?e:$,a=Object.create(s.prototype),r=new D(n||[]);return a._invoke=O(t,i,r),a}function w(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(n){return{type:"throw",arg:n}}}function $(){}function x(){}function k(){}function C(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t){function e(i,n,a,r){var o=w(t[i],t,n);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"===typeof u&&s.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,a,r)}),(function(t){e("throw",t,a,r)})):Promise.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return e("throw",t,a,r)}))}r(o.arg)}var i;function n(t,n){function s(){return new Promise((function(i,s){e(t,n,i,s)}))}return i=i?i.then(s,s):s()}this._invoke=n}function O(t,e,i){var n=d;return function(s,a){if(n===h)throw new Error("Generator is already running");if(n===_){if("throw"===s)throw a;return E()}i.method=s,i.arg=a;while(1){var r=i.delegate;if(r){var o=I(r,i);if(o){if(o===p)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=h;var c=w(t,e,i);if("normal"===c.type){if(n=i.done?_:f,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=_,i.method="throw",i.arg=c.arg)}}}function I(t,e){var n=t.iterator[e.method];if(n===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,I(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var s=w(n,t.iterator,e.arg);if("throw"===s.type)return e.method="throw",e.arg=s.arg,e.delegate=null,p;var a=s.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function j(t){if(t){var e=t[r];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){while(++n<t.length)if(s.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=i,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:i,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"96d5":function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"}')},"96f5":function(t,e,i){"use strict";i.r(e);var n=i("a205"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},9707:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uniLink",props:{href:{type:String,default:""},text:{type:String,default:""},download:{type:String,default:""},showUnderLine:{type:[Boolean,String],default:!0},copyTips:{type:String,default:"\u5df2\u81ea\u52a8\u590d\u5236\u7f51\u5740\uff0c\u8bf7\u5728\u624b\u673a\u6d4f\u89c8\u5668\u91cc\u7c98\u8d34\u8be5\u7f51\u5740"},color:{type:String,default:"#999999"},fontSize:{type:[Number,String],default:14}},computed:{isShowA:function(){return!(!this.isMail()&&!this.isTel()||!0!==this._isH5)}},created:function(){this._isH5=null},methods:{isMail:function(){return this.href.startsWith("mailto:")},isTel:function(){return this.href.startsWith("tel:")},openURL:function(){this.isTel()?this.makePhoneCall(this.href.replace("tel:","")):plus.runtime.openURL(this.href)},makePhoneCall:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=n},"976f":function(t,e,i){"use strict";i.r(e);var n=i("929f"),s=i("ac7f");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"0b735abc",null,!1,n["a"],r);e["default"]=c.exports},9832:function(t,e,i){"use strict";i.r(e);var n=i("0c09"),s=i("6854");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},9896:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{isCopy:!1,isValid:!0,parentUserInfo:{nickname:"\u6b63\u5728\u83b7\u53d6",mobile:"***********"},formData:{mobile:"",code:""},codeDuration:0,codeInterVal:null,read:!0,providerList:[]}},onLoad:function(){var t=this;uni.hideLoading(),this.getInviterInfo(),setTimeout((function(){t.copyInviteCode()}),2e3),i("log","this.inviteCode",this.inviteCode," at pages/app/share.vue:138")},computed:{customer:function(){return this.$store.state.app.customer},userInfo:function(){return this.buildUserInfo(this.$store.state.user.userInfo)},appConfig:function(){return this.$config.app},inviteCode:function(){return this.$store.state.user.inviteCode}},methods:{copyInviteCode:function(t){var e=this;uni.setClipboardData({data:this.inviteCode,success:function(){i("log","copyInviteCode success"," at pages/app/share.vue:166"),e.isCopy=!0,t&&e.$success("\u64cd\u4f5c\u6210\u529f")}})},getInviterInfo:function(){var t=this;this.inviteCode&&n.action("mobile").collection("uni-id-users").where('my_invite_code=="'.concat(this.inviteCode,'"')).field("avatar,nickname,mobile").limit(1).get().then((function(e){var n=e.result;i("log","getInviterInfo",n," at pages/app/share.vue:183"),0!=n.data.length?(t.buildMember(n.data),t.parentUserInfo=n.data[0]):t.isValid=!1}))},changeRead:function(t){this.read=t.detail.value.length>0},sendSmsCode:function(){var t=this;this.codeDuration?this.$message("\u8bf7\u5728".concat(this.codeDuration,"\u79d2\u540e\u91cd\u8bd5")):/^1\d{10}$/.test(this.formData.mobile)?(uni.showLoading({title:"\u8bf7\u7b49\u5f85"}),this.$request("user/login/sendSms",{mobile:this.formData.mobile}).then((function(e){t.codeDuration=60,t.codeInterVal=setInterval((function(){t.codeDuration--,0===t.codeDuration&&t.codeInterVal&&(clearInterval(t.codeInterVal),t.codeInterVal=null)}),1e3),t.$success("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f")}),(function(e){t.$message("\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25")}))):this.$message("\u624b\u673a\u53f7\u7801\u586b\u5199\u9519\u8bef")},login:function(){var t=this;if(this.isSubmit)return!1;/^1\d{10}$/.test(this.formData.mobile)?/^\d{6}$/.test(this.formData.code)?(this.isSubmit=!0,uni.showLoading({title:"\u8bf7\u7b49\u5f85"}),this.$request("user/login/mobile",{inviteCode:this.inviteCode,channelCode:this.$store.state.user.channelCode,mobile:this.formData.mobile,code:this.formData.code}).then((function(e){t.$success("\u9080\u8bf7\u6210\u529f"),t.goHome()}),(function(e){t.isSubmit=!1,t.$message("\u767b\u5f55\u5931\u8d25")}))):this.$message("\u9a8c\u8bc1\u7801\u586b\u5199\u9519\u8bef"):this.$message("\u624b\u673a\u53f7\u7801\u586b\u5199\u9519\u8bef")},homepage:function(){uni.reLaunch({url:"/pages/index/index"})},download:function(){this.navTo("/pages/app/web",this.customer.downloadUrl)},goHome:function(){uni.reLaunch({url:"/pages/index/index"})}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},"98f5":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("text")])},a=[]},"990e":function(t,e,i){"use strict";i.r(e);var n=i("c8b5"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"992a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={qqmapWxKey:"ZWYBZ-HOSWD-S2X4S-HHPBQ-YKY7Z-5NFK5",login:{url:"/pages/login/login",title:"\u6e29\u99a8\u63d0\u793a",content:"\u60a8\u7684\u767b\u5f55\u5df2\u5931\u6548\uff0c\u8bf7\u767b\u5f55\u540e\u518d\u64cd\u4f5c",cancelText:"\u53d6\u6d88",confirmText:"\u53bb\u767b\u5f55"},app:{yszc:"http://tian.cqsort.com/markdown-share-docs/b239949abb45d686b40445f494899baa/",fwxy:"http://tian.cqsort.com/markdown-share-docs/1999bd540442b351336bc2b778666ef5/",zz:"http://tian.cqsort.com/markdown-share-docs/68947cddaa61e0e0f7a700389e63534c/"},error:{url:"/pages/index/index"}};e.default=n},"99f2":function(t,e,i){"use strict";i.r(e);var n=i("d41d"),s=i("cfd0");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"9a4a":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"9ab7":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("9db1")),s=r(i("2785")),a=r(i("a777"));function r(t){return t&&t.__esModule?t:{default:t}}var o={mixins:[n.default,s.default,a.default],data:function(){return{formData:{mobile:"",code:""},codeDuration:0,codeInterVal:null,read:!1,providerList:[]}},onLoad:function(){uni.hideLoading(),t("log","this.inviteCode",this.inviteCode," at pages/login/login.vue:82")},computed:{appConfig:function(){return this.$config.app},inviteCode:function(){return this.$store.state.user.inviteCode}},methods:{changeRead:function(t){this.read=t.detail.value.length>0},sendSmsCode:function(){var t=this;this.codeDuration?this.$message("\u8bf7\u5728".concat(this.codeDuration,"\u79d2\u540e\u91cd\u8bd5")):/^1\d{10}$/.test(this.formData.mobile)?(uni.showLoading({title:"\u8bf7\u7b49\u5f85"}),this.$request("user/login/sendSms",{mobile:this.formData.mobile}).then((function(e){t.codeDuration=60,t.codeInterVal=setInterval((function(){t.codeDuration--,0===t.codeDuration&&t.codeInterVal&&(clearInterval(t.codeInterVal),t.codeInterVal=null)}),1e3),t.$success("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f")}),(function(e){t.$message("\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25")}))):this.$message("\u624b\u673a\u53f7\u7801\u586b\u5199\u9519\u8bef")},login:function(){var t=this;return this.read?!this.isSubmit&&void(/^1\d{10}$/.test(this.formData.mobile)?/^\d{6}$/.test(this.formData.code)?(this.isSubmit=!0,uni.showLoading({title:"\u8bf7\u7b49\u5f85"}),this.$request("user/login/mobile",{inviteCode:this.inviteCode,channelCode:this.$store.state.user.channelCode,mobile:this.formData.mobile,code:this.formData.code}).then((function(e){t.loginSuccess(e)}),(function(e){t.isSubmit=!1,t.$message("\u767b\u5f55\u5931\u8d25")}))):this.$message("\u9a8c\u8bc1\u7801\u586b\u5199\u9519\u8bef"):this.$message("\u624b\u673a\u53f7\u7801\u586b\u5199\u9519\u8bef")):(this.$message("\u8bf7\u9605\u8bfb\u5e76\u540c\u610f\u670d\u52a1\u534f\u8bae\u548c\u9690\u79c1\u653f\u7b56"),!1)},loginSuccess:function(t){this.$success("\u767b\u5f55\u6210\u529f"),this.$store.dispatch("mall/getCartTotal"),this.navTimeBack()}}};e.default=o}).call(this,i("0de9")["default"])},"9b17":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"Success","uniCloud.component.update.success":"Success","uniCloud.component.remove.showModal.title":"Tips","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"9bab":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","group-buying"),attrs:{_i:0}},t._l(t._$s(1,"f",{forItems:t.groupBuying}),(function(e,n,s,a){return i("view",{key:t._$s(1,"f",{forIndex:s,key:n}),staticClass:t._$s("1-"+a,"sc","ti-flex  under-line padding-22 font-22 padding-left-50"),attrs:{_i:"1-"+a},on:{click:function(i){return t.btnGroupBuying(e)}}},[i("view",t._l(t._$s("3-"+a,"f",{forItems:e.avatar}),(function(e,n,s,r){return i("image",{key:t._$s("3-"+a,"f",{forIndex:s,key:n}),staticClass:t._$s("3-"+a+"-"+r,"sc","image-width-60 bg-white user-avatar more-avatar"),style:t._$s("3-"+a+"-"+r,"s","z-index:"+(20-n)),attrs:{src:t._$s("3-"+a+"-"+r,"a-src",e),_i:"3-"+a+"-"+r}})})),0),t._l(t._$s("4-"+a,"f",{forItems:e.nickname}),(function(e,n,s,r){return i("text",{key:t._$s("4-"+a,"f",{forIndex:s,key:n}),staticClass:t._$s("4-"+a+"-"+r,"sc","margin-left-10 text-hide"),attrs:{_i:"4-"+a+"-"+r}},[t._v(t._$s("4-"+a+"-"+r,"t0-0",t._s(e)))])})),i("view",{staticClass:t._$s("5-"+a,"sc","flex-1"),attrs:{_i:"5-"+a}}),t._$s("6-"+a,"i",e.amount<2)?i("text",{staticClass:t._$s("6-"+a,"sc","margin-left-10"),attrs:{_i:"6-"+a}},[t._v(t._$s("6-"+a,"t0-0",t._s(e.amount)))]):t._e(),i("view",[i("button",{staticClass:t._$s("8-"+a,"sc","margin-left-10 radius"),attrs:{disabled:t._$s("8-"+a,"a-disabled",!e.enable),_i:"8-"+a}})])],2)})),0)},a=[]},"9d0f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("9f3a"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var i=Date.now();return function(){var n=this,s=arguments,a=Date.now();a-i>=e&&(t.apply(n,s),i=Date.now())}}function r(t){var e=t.touches[0].pageY,i=Math.floor((e-this.winOffsetY)/this.itemHeight);if(this.touchmoveIndex===i)return!1;var n=this.lists[i];n&&(this.scrollViewId="uni-indexed-list-"+i,this.touchmoveIndex=i)}var o=a(r,40),c={name:"UniIndexedList",components:{indexedListItem:n.default},emits:["click"],props:{options:{type:Array,default:function(){return[]}},showSelect:{type:Boolean,default:!1}},data:function(){return{lists:[],winHeight:0,itemHeight:0,winOffsetY:0,touchmove:!1,touchmoveIndex:-1,scrollViewId:"",touchmovable:!0,loaded:!1,isPC:!1}},watch:{options:{handler:function(){this.setList()},deep:!0}},mounted:function(){var t=this;setTimeout((function(){t.setList()}),50),setTimeout((function(){t.loaded=!0}),300)},methods:{setList:function(){var t=this;this.lists=[],this.options.forEach((function(e,i){if(0!==e.data.length){var n=i,s=e.data.map((function(t){var n={};return n["key"]=e.letter,n["name"]=t,n["itemIndex"]=i,i++,n.checked=!!t.checked&&t.checked,n}));t.lists.push({title:e.letter,key:e.letter,items:s,itemIndex:n})}})),uni.createSelectorQuery().in(this).select("#list").boundingClientRect().exec((function(e){t.winOffsetY=e[0].top,t.winHeight=e[0].height,t.itemHeight=t.winHeight/t.lists.length}))},touchStart:function(t){this.touchmove=!0;var e=this.isPC?t.pageY:t.touches[0].pageY,i=Math.floor((e-this.winOffsetY)/this.itemHeight),n=this.lists[i];n&&(this.scrollViewId="uni-indexed-list-"+i,this.touchmoveIndex=i)},touchMove:function(t){o.call(this,t)},touchEnd:function(){this.touchmove=!1},mousedown:function(t){this.isPC&&this.touchStart(t)},mousemove:function(t){this.isPC&&this.touchMove(t)},mouseleave:function(t){this.isPC&&this.touchEnd(t)},onClick:function(t){var e=this,i=t.idx,n=t.index,s={};for(var a in this.lists[i].items[n])s[a]=this.lists[i].items[n][a];var r=[];this.showSelect&&(this.lists[i].items[n].checked=!this.lists[i].items[n].checked,this.lists.forEach((function(t,i){t.items.forEach((function(t,n){if(t.checked){var s={};for(var a in e.lists[i].items[n])s[a]=e.lists[i].items[n][a];r.push(s)}}))}))),this.$emit("click",{item:s,select:r})}}};e.default=c},"9d38":function(t,e,i){"use strict";i.r(e);var n=i("51d0"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"9db1":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,s=a(i("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function o(t){r(a,n,s,o,c,"next",t)}function c(t){r(a,n,s,o,c,"throw",t)}o(void 0)}))}}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d={data:function(){return{hasWeixinAuth:!1,hasAppleLogin:!1,hasQQLogin:!1,hasWeiboLogin:!1,hasUniverifyLogin:!1,hasProvider:!1}},onLoad:function(){var t=this;plus.oauth.getServices((function(e){n=e.find((function(t){return"weixin"===t.id})),n&&(t.hasWeixinAuth=!0)})),this.initProvider()},onShow:function(){},methods:{initProvider:function(){var e=this;uni.getProvider({service:"oauth",success:function(i){t("log","res.provider",i.provider," at pages/login/mixin/app.js:32"),i.provider&&i.provider.length&&(-1!==i.provider.indexOf("apple")&&(e.hasAppleLogin=!0),-1!==i.provider.indexOf("qq")&&(e.hasQQLogin=!0),-1!==i.provider.indexOf("sinaweibo")&&(e.hasWeiboLogin=!0),-1!==i.provider.indexOf("univerify")&&e.$store.getters["user/univerifyInit"]&&(e.hasUniverifyLogin=!0),e.hasProvider=!0)},fail:function(e){t("error","\u83b7\u53d6\u670d\u52a1\u4f9b\u5e94\u5546\u5931\u8d25\uff1a"+JSON.stringify(e)," at pages/login/mixin/app.js:52")}})},appleLogin:function(){},qqLogin:function(){var e=this;uni.login({provider:"qq",success:function(i){t("log","qqLogin loginRes",i," at pages/login/mixin/app.js:61"),t("log","inviteCode",e.inviteCode," at pages/login/mixin/app.js:62"),e.$request("user/login/qq",u({inviteCode:e.inviteCode,channelCode:e.$store.state.user.channelCode},i.authResult)).then((function(t){e.loginSuccess(t)}),(function(t){}))}})},weiboLogin:function(){var e=this;uni.login({provider:"sinaweibo",success:function(i){t("log","sinaweiboLogin loginRes",i," at pages/login/mixin/app.js:82"),t("log","inviteCode",e.inviteCode," at pages/login/mixin/app.js:83"),e.$request("user/login/sinaweibo",u({inviteCode:e.inviteCode,channelCode:e.$store.state.user.channelCode},i.authResult)).then((function(t){e.loginSuccess(t)}),(function(t){}))}})},wxLogin:function(){var e=this;return o(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n.authorize((function(i){t("log","wxLogin loginRes",i," at pages/login/mixin/app.js:101"),e.$request("user/login/weixin",{inviteCode:e.inviteCode,channelCode:e.$store.state.user.channelCode,code:i.code}).then((function(t){e.loginSuccess(t)}),(function(t){}))}),(function(i){t("log",i," at pages/login/mixin/app.js:112"),e.$message(i.message||"\u4f01\u4e1a\u5fc5\u987b\u8ba4\u8bc1\u624d\u6709\u767b\u5f55\u80fd\u529b")}));case 1:case"end":return i.stop()}}),i)})))()},univerify:function(){var e=this;this.navToLoginNotice((function(i){t("log","login",i," at pages/login/mixin/app.js:119"),e.loginSuccess(i)}),!1,!1)}}};e.default=d}).call(this,i("0de9")["default"])},"9e3e":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=c(i("a34a")),a=c(i("a963")),r=c(i("681d")),o=i("2e4f");function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function l(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){u(a,n,s,r,o,"next",t)}function o(t){u(a,n,s,r,o,"throw",t)}r(void 0)}))}}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _=t.database(),p={mixins:[a.default,r.default],data:function(){return{hasSign:!1,adminShops:[],showTeamPopup:!1,taskBtnText:"",signTask:{},orderList:[],stateMap:{},optionDataList:[],options:f({},o.enumConverter)}},computed:{isLogin:function(){return this.$store.getters["user/isTokenValid"]},userInfo:function(){return this.$store.state.user.userInfo},userScore:function(){return parseInt(this.userInfo.score)},adConfig:function(){return this.$store.state&&this.$store.state.app.adConfig&&this.$store.state.app.adConfig.tasks?this.$store.state.app.adConfig.tasks:{}},scoreName:function(){return this.$store.state.app.customer.scoreName?this.$store.state.app.customer.scoreName:"\u79ef\u5206"}},watch:{stateMap:function(t){n("log","watch stateMap",t," at pages/index/user.vue:183"),this.initOrder()}},onLoad:function(){uni.hideLoading(),this.initOrder(),this.initOptions()},onShow:function(){n("log","user onShow"," at pages/index/user.vue:193"),this.getStatistics()},methods:{getStatistics:function(){var t=this;this.isLogin?(this.$request("user/info/info").then((function(e){n("log","user statitics",e," at pages/index/user.vue:201"),t.$store.commit("user/SET_USER_INFO",e),t.initOptions()}),(function(t){n("log","getStatistics err",t," at pages/index/user.vue:205")})),this.getSignTask(),_.collection("tian-mall-orders").where("user_id==$cloudEnv_uid && is_delete==0").groupBy("state").groupField("count(*) as total").get().then((function(e){var i=e.result,s={};n("log","user statitics2",i.data," at pages/index/user.vue:218"),i.data.forEach((function(t){s[t.state]=t.total})),t.stateMap=s})),this.getShopAdmin()):(this.stateMap={},this.initOptions(),this.adminShops=[])},getShopAdmin:function(){var t=this;return l(s.default.mark((function e(){var i,a,r,o;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.collection("tian-mall-shops").where("uid==$cloudEnv_uid || employees==$cloudEnv_uid").field("name,id,src,online,address,phone,apply_id").limit(20).get();case 2:return i=e.sent,a=i.result,r=[],a.data.forEach((function(t){t.page="/pages/enterprise/detail",t.apply_id&&r.push(t.apply_id)})),e.next=8,t.getShopApply(r);case 8:o=e.sent,t.adminShops=a.data.concat(o),n("log","tian-mall-shops",a," at pages/index/user.vue:248");case 11:case"end":return e.stop()}}),e)})))()},getShopApply:function(t){var e=this;return l(s.default.mark((function i(){var n,a;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,_.collection("tian-mall-shop-apply").where("uid==$cloudEnv_uid").field("name,src,address,phone,id,state,apply_result").limit(200).get();case 2:return n=i.sent,a=n.result,i.abrupt("return",a.data.filter((function(e){return-1==t.indexOf(e._id)})).map((function(t){return t.isApply=!0,t.page="/pages/enterprise/apply?id="+t._id,t.stateText=e.options.state_valuetotext[t.state],0==t.state&&(t.apply_result=!1),t})));case 5:case"end":return i.stop()}}),i)})))()},getSignTask:function(){var t=this;this.$request("user/info/sign_task",{},{}).then((function(e){t.buildSignTask(e)}))},buildSignTask:function(t){t&&(this.hasSign=!0,this.taskBtnText="\u7b7e\u5230",t.log&&t.log.result&&(this.taskBtnText="\u5df2\u7b7e\u5230",t.open_url=!1),this.signTask=t,n("log","this.signTask",this.signTask," at pages/index/user.vue:289"))},buildTaskResult:function(t){delete t.task,this.signTask.log=t,this.buildSignTask(this.signTask)},navToSign:function(){this.signTask.open_url?this.navTo(this.signTask.open_url,this.signTask):this.$message("\u4eca\u65e5\u5df2\u7b7e\u5230")},logout:function(){var t=this;this.confirmAction((function(){t.$request("user/login/logout").then((function(e){n("log","\u9000\u51fa\u6210\u529f",e," at pages/index/user.vue:307"),t.localLogout()}),(function(e){n("log","\u9000\u51fa\u5931\u8d25",e," at pages/index/user.vue:311"),t.localLogout()}))}),"\u662f\u5426\u786e\u5b9a\u9000\u51fa\u7cfb\u7edf\uff1f")},localLogout:function(){this.$store.commit("user/REMOVE_TOKEN"),this.$store.commit("user/SET_USER_INFO",{}),this.$store.commit("mall/UPDATE_CART_NUMBER",0),this.stateMap={}},checkTeam:function(){var t=this;if(!this.userInfo.inviter_uid||0==this.userInfo.inviter_uid.length)return this.showTeamPopup=!0,void this.$nextTick((function(){t.$refs.teamPopup.open()}));this.navTo("/pages/user/team/team")},closeInvite:function(){var t=this;uni.showModal({title:"\u9080\u8bf7\u63d0\u793a",content:"\u662f\u5426\u786e\u5b9a\u653e\u5f03\u586b\u5199\u9080\u8bf7\u4eba\u7684\u6743\u5229\uff1f",confirmText:"\u653e\u5f03\u6743\u5229",cancelText:"\u6682\u65f6\u4e0d\u586b",success:function(e){e.confirm?t.$request("user/info/jointeam",{mobile:"none"},{loading:!0}).then((function(e){n("log","jointeam",e," at pages/index/user.vue:352"),t.$store.dispatch("user/getUserInfo"),t.navTo("/pages/user/team")})):t.$refs.teamPopup.close()}})},confirmInvite:function(t){var e=this;if(!t)return this.$message("\u8bf7\u586b\u5199\u9080\u8bf7\u7801"),!1;this.$request("user/info/jointeam",{mobile:t},{loading:!0}).then((function(t){n("log","jointeam",t," at pages/index/user.vue:376"),e.$success("\u9080\u8bf7\u6210\u529f"),e.$store.dispatch("user/getUserInfo"),e.$refs.teamPopup.close()}))},initOptions:function(){var t=5,e="#ec6535",i="#51b2f9",s=[{type:"gouwudai",text:"\u5206\u9500\u4e1a\u7ee9",checkLogin:!0,open_url:"/pages/user/achievement"},{type:"renwu",text:"\u6bcf\u65e5\u4efb\u52a1",checkLogin:!0,open_url:"/pages/user/tasks"},{type:"fenxiang",text:"\u5206\u4eab\u597d\u53cb",checkLogin:!0,open_url:"/pages/user/invite"},{type:"shangji1",text:"\u7533\u8bf7\u6e20\u9053",checkLogin:!0,open_url:"/pages/user/channel?type=1"},{type:"shoucang",text:"\u6211\u7684\u6536\u85cf",checkLogin:!0,open_url:"/pages/product/favorite"},{type:"zuji",text:"\u6211\u7684\u8db3\u8ff9",checkLogin:!0,open_url:"/pages/product/visite"},{type:"zuobiao",text:"\u6536\u8d27\u5730\u5740",checkLogin:!0,open_url:"/pages/address/list"},{type:"tongji",text:this.scoreName+"\u6392\u884c",checkLogin:!0,open_url:"/pages/user/score/ranking"},{type:"gonglve",text:"\u4f59\u989d\u660e\u7ec6",checkLogin:!0,open_url:"/pages/user/balances"},{type:"liebiaoxingshi",text:this.scoreName+"\u660e\u7ec6",checkLogin:!0,open_url:"/pages/user/scores"},{type:"zhengli",text:this.scoreName+"\u4e92\u8f6c",checkLogin:!0,open_url:"/pages/user/score/transfer"},{type:"tuikuan",text:this.scoreName+"\u5151\u6362",checkLogin:!0,open_url:"/pages/user/score/cashout"},{type:"hongbao",text:"\u4f59\u989d\u63d0\u73b0",checkLogin:!0,open_url:"/pages/user/cashout"},{type:"shezhi",text:"\u4e2a\u4eba\u8bbe\u7f6e",checkLogin:!0,open_url:"::navToUserInfo"},{type:"kefu",text:"\u8054\u7cfb\u5ba2\u670d",open_url:"/pages/app/contact"},{type:"bangzhuzhongxin",text:"\u5173\u4e8e\u6211\u4eec",open_url:"/pages/app/about"}];s.push({type:"tuichu",text:"\u8d26\u6237\u7ba1\u7406",mustLogin:!0,open_url:"/pages/user/account"}),s.unshift({type:"pengyou",text:"\u6211\u7684\u56e2\u961f",checkLogin:!0,open_url:"::checkTeam"}),s.unshift({type:"dianpu",text:"\u95e8\u5e97\u5165\u9a7b",checkLogin:!0,open_url:"/pages/enterprise/apply"}),n("log","this.userInfo.role ",this.userInfo.role," at pages/index/user.vue:545"),this.userInfo&&this.userInfo.role&&-1!=this.userInfo.role.indexOf("admin")&&s.push({type:"danpin",text:"\u7cfb\u7edf\u7ba1\u7406",mustLogin:!0,open_url:"/pages/admin/admin"}),s.forEach((function(n,s){parseInt(s/t)%2==1?n.color=i:n.color=e})),this.optionDataList=s},initOrder:function(){var t=this,e=5,i="#ec6535",n="#51b2f9",s=[{type:"baoguofahuo-xianxing",text:"\u5f85\u4ed8\u6b3e",checkLogin:!0,state:0,open_url:"/pages/order/order?type=unpay"},{type:"baoguofahuo",text:"\u5f85\u53d1\u8d27",checkLogin:!0,state:1,open_url:"/pages/order/order?type=undelivery"},{type:"yunshuzhongwuliu",text:"\u5f85\u6536\u8d27",checkLogin:!0,state:2,open_url:"/pages/order/order?type=unreceived"},{type:"liuyanfill",text:"\u5f85\u8bc4\u4ef7",checkLogin:!0,state:3,open_url:"/pages/order/comment"},{type:"chaibaoguoqujian",text:"\u9000\u6362\u8d27",checkLogin:!0,state:4,open_url:"/pages/order/service"}];s.forEach((function(s,a){t.stateMap[s.state]?s.total=t.stateMap[s.state]:s.total=0,parseInt(a/e)%2==1?s.color=n:s.color=i})),this.orderList=s},getPhoneNumber:function(t){var e=this;n("log","getPhoneNumber",t," at pages/index/user.vue:624"),t.detail.iv&&this.$request("user/login/weixin_phone",f(f({},t.detail),{},{sessionKey:this.$store.state.user.sessionKey,uid:this.$store.state.user.userInfo._id,openid:this.$store.state.user.openid}),{loading:!0}).then((function(t){n("log","getPhoneNumber",t," at pages/index/user.vue:637"),e.getStatistics()}))},navToUserInfo:function(){this.navTo("/pages/user/info",{},{login:!0})},editData:function(t){var e=this;n("log","editData",t," at pages/index/user.vue:671"),this.$request("user/info/edit",t,{loading:!0}).then((function(t){e.$store.dispatch("user/getUserInfo")}))},changeAccount:function(){}}};e.default=p}).call(this,i("a9ff")["default"],i("0de9")["default"])},"9e9d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},created:function(){this.popup=this.getParent()},methods:{getParent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniPopup",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};e.default=n},"9ec1":function(t,e,i){"use strict";i.r(e);var n=i("a637"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"9f3a":function(t,e,i){"use strict";i.r(e);var n=i("0623"),s=i("4aae");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"270a8cb6",null,!1,n["a"],r);e["default"]=c.exports},"9f56":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}}};e.default=n},a03c:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniList:i("52ab").default,uniListItem:i("908c").default,uniPopup:i("36ef").default,uqrcode:i("be5a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-list",{attrs:{_i:1}},[i("uni-list-item",{attrs:{title:"\u6536\u6b3e\u4e8c\u7ef4\u7801",rightText:"\u70b9\u51fb\u67e5\u770b",clickable:!0,_i:2},on:{click:t.showQrcode}}),i("uni-list-item",{attrs:{title:"\u540e\u53f0\u767b\u5f55\u8d26\u53f7",rightText:"\u70b9\u51fb\u67e5\u770b",clickable:!0,_i:3},on:{click:t.showAccount}})],1),i("uni-popup",{ref:"qrPopup",attrs:{_i:4}},[i("view",{staticClass:t._$s(5,"sc","text-center bg-white padding-22 border-radius"),attrs:{_i:5}},[i("uqrcode",{ref:"uqrcode",attrs:{_i:6}})],1),i("view",{staticClass:t._$s(7,"sc","margin-top-20 text-center colorWhite"),attrs:{_i:7}},[i("text")])]),i("uni-popup",{ref:"accountPopup",attrs:{_i:9}},[i("view",{staticClass:t._$s(10,"sc","bg-white padding-42 border-radius"),attrs:{_i:10}},[i("view",[i("text"),i("text",{attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.account.url)))])]),i("view",{staticClass:t._$s(14,"sc","margin-top-40"),attrs:{_i:14}},[i("text"),i("text",{attrs:{_i:16}},[t._v(t._$s(16,"t0-0",t._s(t.account.account)))])]),i("view",{staticClass:t._$s(17,"sc","margin-top-40 "),attrs:{_i:17}},[i("text"),i("text",{attrs:{_i:19}},[t._v(t._$s(19,"t0-0",t._s(t.account.password)))])]),i("view",{staticClass:t._$s(20,"sc","margin-top-10 colorGray font-22"),attrs:{_i:20}},[i("text")])])])],1)},a=[]},a079:function(t,e,i){"use strict";i.r(e);var n=i("e810"),s=i("48b9");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"d99173c0",null,!1,n["a"],r);e["default"]=c.exports},a090:function(t,e,i){"use strict";i.r(e);var n=i("133a"),s=i("e528");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},a0ee:function(t,e,i){"use strict";i.r(e);var n=i("65ec"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},a170:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("adf2");function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}t.database();var c={data:function(){return{query:{},active:!1,showKeyboard:!1,chars:[],decimals:2,maxLength:8,dot:".",formData:{remarks:""},type:"",id:"61c9ae37b804f80001267d23",order:{}}},onLoad:function(t){if(t.q){var e=decodeURIComponent(t.q);Object.assign(t,r(r({},(0,s.getQueryString)(e)),{},{q:e}))}t.id?this.id=t.id:t.id=this.id,t.module||(t.module="shopqr"),n("log","onLoad",t," at pages/app/pay.vue:136"),this.query=t,this.loadData(t),this.setGuangbiao()},computed:{showMoney:function(){return this.chars.join("")},payMoney:function(){var t=this,e=0;return 0!=this.chars.length&&(e=-1==this.chars.indexOf(this.dot)?parseInt(this.chars.join("")):this.chars[0]==this.dot?parseFloat("0"+this.chars.filter((function(e,i){return i<=t.decimals})).join("")):parseFloat(this.chars.join(""))),e.toFixed(this.decimals)},bgStyle:function(){return this.order.background?"background: url(".concat(this.order.background,");background-size: 100%;background-repeat: no-repeat;"):"background:#ffffff"}},methods:{focus:function(){this.showKeyboard=!1},blur:function(){this.showKeyboard=!0},del:function(){this.chars.length>0&&this.chars.pop()},btn:function(t,e){if(e)-1==this.chars.indexOf(t)&&this.chars.push(t);else{var i=this.chars.indexOf(this.dot);if(-1==i&&this.chars.length>=this.maxLength)return;if(0==i);else if(i>this.maxLength)return;(-1==this.chars.indexOf(this.dot)||this.chars.length-i<=this.decimals)&&this.chars.push(t)}},loadData:function(t){var e=this;this.$request("payment/info",t).then((function(t){n("log",t," at pages/app/pay.vue:213"),e.order=t.order,e.showKeyboard=!0})),uni.getProvider({service:"payment",success:function(t){e.type=t.provider[0],n("log","this.type",e.type," at pages/app/pay.vue:222")}})},setGuangbiao:function(){var t=this;this.active=!0,setTimeout((function(){t.active=!1,setTimeout((function(){t.setGuangbiao()}),1e3)}),1e3)},paymentProcess:function(){var t=this;this.type&&(uni.showLoading({title:"\u652f\u4ed8\u4e2d",mask:!0}),this.$request("payment/pay",r(r(r({money:this.payMoney,type:this.type},this.formData),this.query),this.order)).then((function(e){uni.hideLoading(),uni.requestPayment({provider:t.type,orderInfo:e,success:function(e){t.paySuccess()},fail:function(e){t.payFailed()}})}),(function(e){t.payFailed()})))},paySuccess:function(t){var e=this;n("log","\u652f\u4ed8\u6210\u529f",t," at pages/app/pay.vue:279"),this.$success("\u652f\u4ed8\u6210\u529f"),setTimeout((function(){uni.redirectTo({url:"/pages/app/paysuccess?id=".concat(e.order.id)})}),2e3)},payFailed:function(){this.$message("\u652f\u4ed8\u5931\u8d25"),this.loadData(this.query)}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},a205:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}}};e.default=n},a209:function(t,e,i){"use strict";i.r(e);var n=i("4f00"),s=i("d5eb");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},a2bc:function(t,e,i){"use strict";i.r(e);var n=i("1f71"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},a2bc1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},props:{groupBuying:{type:Array,default:function(){return[]}}},methods:{btnGroupBuying:function(t){t.enable&&this.$emit("click",t.id)}}};e.default=n},a2eb:function(t,e,i){"use strict";i.r(e);var n=i("232d"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},a33a:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default,uniDataPicker:i("5214").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast",_i:1}},[i("uni-forms-item",{attrs:{name:"name",label:"\u6536\u8d27\u4eba",required:!0,_i:2}},[i("uni-easyinput",{attrs:{placeholder:"\u6536\u8d27\u4eba",inputBorder:!1,trim:"both",_i:3},model:{value:t._$s(3,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"alias",label:"\u522b\u540d",_i:4}},[i("uni-easyinput",{attrs:{placeholder:"\u4f8b\u5982\uff1a\u5bb6\u3001\u516c\u53f8\u3001\u5b66\u6821",inputBorder:!1,trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.alias),callback:function(e){t.$set(t.formData,"alias",e)},expression:"formData.alias"}})],1),i("uni-forms-item",{attrs:{name:"mobile",label:"\u624b\u673a\u53f7",required:!0,_i:6}},[i("uni-easyinput",{attrs:{placeholder:"\u624b\u673a\u53f7\u7801",inputBorder:!1,trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),i("uni-forms-item",{attrs:{name:"area_code",label:"\u7701\u5e02\u533a",required:!0,_i:8}},[i("uni-data-picker",{attrs:{"self-field":"code","parent-field":"parent_code",border:!1,collection:"opendb-city-china",orderby:"value asc",field:"code as value, name as text, eq(type, 2) as isleaf",_i:9},on:{change:t.changeAddress},model:{value:t._$s(9,"v-model",t.formData.area_code),callback:function(e){t.$set(t.formData,"area_code",e)},expression:"formData.area_code"}})],1),i("uni-forms-item",{attrs:{name:"address",label:"\u8be6\u7ec6\u4f4f\u5740",required:!0,_i:10}},[i("uni-easyinput",{attrs:{placeholder:"\u8857\u9053\u5c0f\u533a\u623f\u95f4\u53f7",inputBorder:!1,trim:"both",_i:11},model:{value:t._$s(11,"v-model",t.formData.address),callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),i("uni-forms-item",{attrs:{name:"is_default",label:"\u9ed8\u8ba4\u5730\u5740",_i:12}},[i("switch",{attrs:{checked:t._$s(13,"a-checked",t.formData.is_default),_i:13},on:{change:function(e){return t.binddata("is_default",e.detail.value)}}})])],1),i("view",{staticClass:t._$s(14,"sc","uni-button-group"),attrs:{_i:14}},[i("button",{staticClass:t._$s(15,"sc","uni-button"),attrs:{_i:15},on:{click:t.submit}}),i("button",{staticClass:t._$s(16,"sc","uni-button margin-left-20"),attrs:{_i:16},on:{click:t.handleDelete}})])],1)},a=[]},a33f:function(t,e,i){"use strict";i.r(e);var n=i("ffbb"),s=i("02d8");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},a34a:function(t,e,i){t.exports=i("bbdd")},a388:function(t,e,i){"use strict";i.r(e);var n=i("d0c3"),s=i("90c0");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},a417:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={id:"2852637",name:"uniui\u56fe\u6807\u5e93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]};e.default=n},a4cb:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("c349"),s={name:"uniDateformat",props:{date:{type:[Object,String,Number],default:function(){return"-"}},locale:{type:String,default:"zh"},threshold:{type:Array,default:function(){return[0,0]}},format:{type:String,default:"yyyy/MM/dd hh:mm:ss"},refreshRate:{type:[Number,String],default:0}},data:function(){return{refreshMark:0}},computed:{dateShow:function(){return this.refreshMark,(0,n.friendlyDate)(this.date,{locale:this.locale,threshold:this.threshold,format:this.format})}},watch:{refreshRate:{handler:function(){this.setAutoRefresh()},immediate:!0}},methods:{refresh:function(){this.refreshMark++},setAutoRefresh:function(){var t=this;clearInterval(this.refreshInterval),this.refreshRate&&(this.refreshInterval=setInterval((function(){t.refresh()}),parseInt(this.refreshRate)))}}};e.default=s},a566:function(t,e,i){"use strict";i.r(e);var n=i("0388"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},a637:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("681d"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return l(t)||u(t)||c(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}t.database();var f={mixins:[s.default],data:function(){return{resultKey:"",dataList:[]}},computed:{userInfo:function(){return this.$store.state.user.userInfo},tasks:function(){return this.$store.state.user.tasks},adConfig:function(){return this.$store.state&&this.$store.state.app.adConfig&&this.$store.state.app.adConfig.tasks?this.$store.state.app.adConfig.tasks:{}}},onLoad:function(){this.buildTaskResult(),this.resultKey="user_task_done_"+this.userInfo._id+this.$dateFormat("Y_m_d"),setTimeout((function(){}),500)},methods:{buildTaskResult:function(){var t=this;this.$request("user/task/all",{},{}).then((function(e){var i=r(e);i.forEach((function(t){var e=t.hour;t.finishAmount=0,t.disabled=!1,t.finish="\u5f85\u5b8c\u6210",t.note="\u53ef\u83b7\u5f97".concat(t.max_get_amount,"\u79ef\u5206");var i=t.max_per_day,n=t.max_per_hour;t.log&&(i=t.max_per_day-t.log.amount,t.log.hour_times&&t.log.hour_times[e]&&(n=t.max_per_hour-t.log.hour_times[e])),i>n&&(i=n),t.dayLimit=i,t.log&&t.log.amount>0&&(t.finishAmount=t.log.amount,t.log.result&&(t.note+="\uff0c\u5df2\u83b7\u5f97".concat(t.log.bounty,"\u79ef\u5206"),t.disabled=t.per_amount>1,t.isLimited||t.disabled?t.finish="\u5df2\u5b8c\u6210":t.finish="\u5269\u4f59".concat(t.dayLimit,"\u6b21"))),t.percent=t.finishAmount/t.per_amount*100})),n("log",i," at pages/user/tasks.vue:106"),t.dataList=i}))}}};e.default=f}).call(this,i("a9ff")["default"],i("0de9")["default"])},a6b8:function(t,e,i){"use strict";(function(t){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{current:0,dataList:[],options:{display:"",title:"",style:"",itemClassName:"",width:80,height:80,column:5}}},props:{configs:{type:Object,default:function(){return{column:4}}},items:{type:Array,default:function(){return[]}}},watch:{configs:function(t){this.options=Object.assign(this.options,n({},t))},items:function(e){t("log","watch items",e," at uni_modules/tian-mall/components/tian-grides/tian-grides.vue:58")}},computed:{imageFilter:function(){var t=parseInt(706/this.options.column),e=t;return"".concat(t,"x").concat(e)},imageStyle:function(){parseInt(706/this.options.column);return"".concat(this.options.style)}},created:function(){this.options=Object.assign(this.options,n({},this.configs)),this.options.column>this.items.length&&(this.options.column=this.items.length),t("log","this.items gride",this.items,this.options," at uni_modules/tian-mall/components/tian-grides/tian-grides.vue:82")},methods:{thumbImg:function(t){return this.$thumbImg(t,this.imageFilter)},itemNavTo:function(e,i){if("preview"!=e){if(-1!=e.indexOf("::")){var n=e.substr(2).split(",");return n.push("{}"),n[0]?uni.$emit(n[0],JSON.parse(n[1])):(t("log","\u65b9\u6cd5\u53c2\u6570\u4e0d\u6b63\u786e"," at uni_modules/tian-mall/components/tian-grides/tian-grides.vue:97"),!1)}return t("log",e," at uni_modules/tian-mall/components/tian-grides/tian-grides.vue:100"),this.navTo(e)}this.options.preview_mode&&"single"==this.options.preview_mode?uni.previewImage({current:i,urls:[this.items[i].origin_src]}):uni.previewImage({current:i,urls:this.items.filter((function(t){return"preview"==t.url})).map((function(t){return t.origin_src}))})}}};e.default=a}).call(this,i("0de9")["default"])},a6e4:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,tianEmpty:i("2789").default,uniList:i("52ab").default,uniListItem:i("908c").default,uniLoadMore:i("458a").default,uniFab:i("966a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[i("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-address",where:"user_id==$cloudEnv_uid",field:"user_id,name,alias,mobile,mobile_area_code,province_code,city_code,area_code,address,formatted_address,zip_code,email,is_default",orderby:"update_date desc",_i:1},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=(e.pagination,e.loading),o=e.hasMore,c=e.error;return[n._$s("2-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u6536\u8d27\u5730\u5740",marginTop:"200",_i:"2-"+s}}):t._e(),n._$s("3-"+s,"i",c)?i("view",{attrs:{_i:"3-"+s}},[t._v(n._$s("3-"+s,"t0-0",t._s(c.message)))]):n._$s(4,"e",a)?i("view",{attrs:{_i:4}},[i("uni-list",{attrs:{_i:5}},t._l(n._$s(6,"f",{forItems:a}),(function(e,a,r,o){return i("uni-list-item",{key:n._$s(6,"f",{forIndex:r,key:a}),attrs:{showArrow:!0,clickable:!0,_i:"6-"+o},on:{click:function(i){return t.navToEdit(e)}}},[i("view",{attrs:{slot:"body",_i:"7-"+o},slot:"body"},[i("view",{attrs:{_i:"8-"+o}},[i("text",{attrs:{_i:"9-"+o}},[t._v(n._$s("9-"+o+s,"t0-0",t._s(e.name)))]),i("text",{staticClass:n._$s("10-"+o,"sc","margin-left-20 font-28"),attrs:{_i:"10-"+o}},[t._v(n._$s("10-"+o+s,"t0-0",t._s(e.mobile)))])]),i("view",{staticClass:n._$s("11-"+o,"sc","font-24 colorGray"),attrs:{_i:"11-"+o}},[i("text",{attrs:{_i:"12-"+o}},[t._v(n._$s("12-"+o+s,"t0-0",t._s(e.formatted_address)))]),i("text",{attrs:{_i:"13-"+o}},[t._v(n._$s("13-"+o+s,"t0-0",t._s(e.address)))])])])])})),1)],1):t._e(),n._$s("14-"+s,"i",o)?i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"14-"+s}}):t._e()]}}])}),i("uni-fab",{ref:"fab",attrs:{horizontal:"right",vertical:"bottom",pattern:{buttonColor:"#eb4e38"},"pop-menu":!1,_i:15},on:{fabClick:t.fabClick}})],1)},a=[]},a765:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("4901")),s=r(i("25b0")),a=r(i("eee9"));function r(t){return t&&t.__esModule?t:{default:t}}var o={en:n.default,"zh-Hans":s.default,"zh-Hant":a.default};e.default=o},a765e:function(t,e,i){"use strict";i.r(e);var n=i("0bbf"),s=i("113d");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},a777:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={};e.default=n},a7b1:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view")},a=[]},a7b8:function(t,e,i){"use strict";i.r(e);var n=i("8d20"),s=i("337d");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},a839:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-data-pickerview"),attrs:{_i:0}},[i("scroll-view",{staticClass:t._$s(1,"sc","selected-area"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","selected-list"),attrs:{_i:2}},[t._l(t._$s(3,"f",{forItems:t.selected}),(function(e,n,s,a){return[t._$s("4-"+a,"i",e.text)?i("view",{key:t._$s(3,"f",{forIndex:s,keyIndex:0,key:n}),staticClass:t._$s("4-"+a,"sc","selected-item"),class:t._$s("4-"+a,"c",{"selected-item-active":n==t.selectedIndex,"selected-item-text-overflow":t.ellipsis}),attrs:{_i:"4-"+a},on:{click:function(e){return t.handleSelect(n)}}},[i("text",[t._v(t._$s("5-"+a,"t0-0",t._s(e.text)))])]):t._e()]}))],2)]),i("view",{staticClass:t._$s(6,"sc","tab-c"),attrs:{_i:6}},[t._l(t._$s(7,"f",{forItems:t.dataList}),(function(e,n,s,a){return[t._$s("8-"+a,"i",n==t.selectedIndex)?i("scroll-view",{key:t._$s(7,"f",{forIndex:s,keyIndex:0,key:n}),staticClass:t._$s("8-"+a,"sc","list"),attrs:{_i:"8-"+a}},t._l(t._$s("9-"+a,"f",{forItems:e}),(function(e,s,r,o){return i("view",{key:t._$s("9-"+a,"f",{forIndex:r,key:s}),staticClass:t._$s("9-"+a+"-"+o,"sc","item"),class:t._$s("9-"+a+"-"+o,"c",{"is-disabled":!!e.disable}),attrs:{_i:"9-"+a+"-"+o},on:{click:function(i){return t.handleNodeClick(e,n,s)}}},[i("text",{staticClass:t._$s("10-"+a+"-"+o,"sc","item-text item-text-overflow"),attrs:{_i:"10-"+a+"-"+o}},[t._v(t._$s("10-"+a+"-"+o,"t0-0",t._s(e[t.map.text])))]),t._$s("11-"+a+"-"+o,"i",t.selected.length>n&&e[t.map.value]==t.selected[n].value)?i("view",{staticClass:t._$s("11-"+a+"-"+o,"sc","check"),attrs:{_i:"11-"+a+"-"+o}}):t._e()])})),0):t._e()]})),t._$s(12,"i",t.loading)?i("view",{staticClass:t._$s(12,"sc","loading-cover"),attrs:{_i:12}},[i("uni-load-more",{staticClass:t._$s(13,"sc","load-more"),attrs:{contentText:t.loadMore,status:"loading",_i:13}})],1):t._e(),t._$s(14,"i",t.errorMessage)?i("view",{staticClass:t._$s(14,"sc","error-message"),attrs:{_i:14}},[i("text",{staticClass:t._$s(15,"sc","error-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.errorMessage)))])]):t._e()],2)])},a=[]},a92f:function(t,e,i){"use strict";i.r(e);var n=i("cf42"),s=i("51ea");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},a963:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={computed:{cartCount:function(){return this.$store.state.mall.cartCount},isLogin:function(){return this.$store.getters["user/isTokenValid"]}},watch:{cartCount:function(e){t("log","watch mixin cartCount"," at pages/index/mixin/tabbar.js:12"),this.resetTabCartCount()}},onLoad:function(){},onShow:function(){var t=this;this.resetTabCartCount(),setTimeout((function(){uni.hideLoading()}),3e3),setTimeout((function(){t.checkInviter()}),2e3)},methods:{checkInviter:function(){var e=this.$store.state.user.userInfo;t("log","checkInviter"," at pages/index/mixin/tabbar.js:33"),this.isLogin&&this.$store.state.app.customer&&this.$store.state.app.customer.mustSetInviter&&(!e.inviter_uid||e.inviter_uid.length<1)&&uni.reLaunch({url:"/pages/user/setinviter"})},resetTabCartCount:function(){}}};e.default=i}).call(this,i("0de9")["default"])},a99e:function(t,e,i){"use strict";i.r(e);var n=i("69ca"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},a9ff:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(i("a34a")),a=i("37dc");function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function c(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){o(a,n,s,r,c,"next",t)}function c(t){o(a,n,s,r,c,"throw",t)}r(void 0)}))}}function u(t){return f(t)||d(t)||_(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return p(t)}function h(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=_(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function _(t,e){if(t){if("string"===typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e,i){return e&&m(t.prototype,e),i&&m(t,i),t}function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){y(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}function x(t){var e=I();return function(){var i,n=D(t);if(e){var s=D(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return k(this,i)}}function k(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?C(t):e}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){var e="function"===typeof Map?new Map:void 0;return S=function(t){if(null===t||!P(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return O(t,arguments,D(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),T(i,t)},S(t)}function O(t,e,i){return O=I()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var s=Function.bind.apply(t,n),a=new s;return i&&T(a,i.prototype),a},O.apply(null,arguments)}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function P(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function T(t,e){return T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},T(t,e)}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function j(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E(t,e,i){return t(i={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&i.path)}},i.exports),i.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var L=E((function(t,e){var i;t.exports=(i=i||function(t,e){var i=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),n={},s=n.lib={},a=s.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=s.WordArray=a.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,s=t.sigBytes;if(this.clamp(),n%4)for(var a=0;a<s;a++){var r=i[a>>>2]>>>24-a%4*8&255;e[n+a>>>2]|=r<<24-(n+a)%4*8}else for(a=0;a<s;a+=4)e[n+a>>>2]=i[a>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i,n=[],s=function(e){e=e;var i=987654321,n=4294967295;return function(){var s=((i=36969*(65535&i)+(i>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return s/=4294967296,(s+=.5)*(t.random()>.5?1:-1)}},a=0;a<e;a+=4){var o=s(4294967296*(i||t.random()));i=987654071*o(),n.push(4294967296*o()|0)}return new r.init(n,e)}}),o=n.enc={},c=o.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],s=0;s<i;s++){var a=e[s>>>2]>>>24-s%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new r.init(i,e/2)}},u=o.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],s=0;s<i;s++){var a=e[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new r.init(i,e)}},l=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},d=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,s=i.sigBytes,a=this.blockSize,o=s/(4*a),c=(o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0))*a,u=t.min(4*c,s);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(n,l);var d=n.splice(0,c);i.sigBytes-=u}return new r.init(d,u)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});s.Hasher=d.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new f.HMAC.init(t,i).finalize(e)}}});var f=n.algo={};return n}(Math),i)})),A=(E((function(t,e){var i;t.exports=(i=L,function(t){var e=i,n=e.lib,s=n.WordArray,a=n.Hasher,r=e.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=r.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,s=t[n];t[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var a=this._hash.words,r=t[e+0],c=t[e+1],h=t[e+2],_=t[e+3],p=t[e+4],m=t[e+5],g=t[e+6],v=t[e+7],b=t[e+8],y=t[e+9],w=t[e+10],$=t[e+11],x=t[e+12],k=t[e+13],C=t[e+14],S=t[e+15],O=a[0],I=a[1],P=a[2],T=a[3];O=u(O,I,P,T,r,7,o[0]),T=u(T,O,I,P,c,12,o[1]),P=u(P,T,O,I,h,17,o[2]),I=u(I,P,T,O,_,22,o[3]),O=u(O,I,P,T,p,7,o[4]),T=u(T,O,I,P,m,12,o[5]),P=u(P,T,O,I,g,17,o[6]),I=u(I,P,T,O,v,22,o[7]),O=u(O,I,P,T,b,7,o[8]),T=u(T,O,I,P,y,12,o[9]),P=u(P,T,O,I,w,17,o[10]),I=u(I,P,T,O,$,22,o[11]),O=u(O,I,P,T,x,7,o[12]),T=u(T,O,I,P,k,12,o[13]),P=u(P,T,O,I,C,17,o[14]),O=l(O,I=u(I,P,T,O,S,22,o[15]),P,T,c,5,o[16]),T=l(T,O,I,P,g,9,o[17]),P=l(P,T,O,I,$,14,o[18]),I=l(I,P,T,O,r,20,o[19]),O=l(O,I,P,T,m,5,o[20]),T=l(T,O,I,P,w,9,o[21]),P=l(P,T,O,I,S,14,o[22]),I=l(I,P,T,O,p,20,o[23]),O=l(O,I,P,T,y,5,o[24]),T=l(T,O,I,P,C,9,o[25]),P=l(P,T,O,I,_,14,o[26]),I=l(I,P,T,O,b,20,o[27]),O=l(O,I,P,T,k,5,o[28]),T=l(T,O,I,P,h,9,o[29]),P=l(P,T,O,I,v,14,o[30]),O=d(O,I=l(I,P,T,O,x,20,o[31]),P,T,m,4,o[32]),T=d(T,O,I,P,b,11,o[33]),P=d(P,T,O,I,$,16,o[34]),I=d(I,P,T,O,C,23,o[35]),O=d(O,I,P,T,c,4,o[36]),T=d(T,O,I,P,p,11,o[37]),P=d(P,T,O,I,v,16,o[38]),I=d(I,P,T,O,w,23,o[39]),O=d(O,I,P,T,k,4,o[40]),T=d(T,O,I,P,r,11,o[41]),P=d(P,T,O,I,_,16,o[42]),I=d(I,P,T,O,g,23,o[43]),O=d(O,I,P,T,y,4,o[44]),T=d(T,O,I,P,x,11,o[45]),P=d(P,T,O,I,S,16,o[46]),O=f(O,I=d(I,P,T,O,h,23,o[47]),P,T,r,6,o[48]),T=f(T,O,I,P,v,10,o[49]),P=f(P,T,O,I,C,15,o[50]),I=f(I,P,T,O,m,21,o[51]),O=f(O,I,P,T,x,6,o[52]),T=f(T,O,I,P,_,10,o[53]),P=f(P,T,O,I,w,15,o[54]),I=f(I,P,T,O,c,21,o[55]),O=f(O,I,P,T,b,6,o[56]),T=f(T,O,I,P,S,10,o[57]),P=f(P,T,O,I,g,15,o[58]),I=f(I,P,T,O,k,21,o[59]),O=f(O,I,P,T,p,6,o[60]),T=f(T,O,I,P,$,10,o[61]),P=f(P,T,O,I,h,15,o[62]),I=f(I,P,T,O,y,21,o[63]),a[0]=a[0]+O|0,a[1]=a[1]+I|0,a[2]=a[2]+P|0,a[3]=a[3]+T|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;i[s>>>5]|=128<<24-s%32;var a=t.floor(n/4294967296),r=n;i[15+(s+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(i.length+1),this._process();for(var o=this._hash,c=o.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,i,n,s,a,r){var o=t+(e&i|~e&n)+s+r;return(o<<a|o>>>32-a)+e}function l(t,e,i,n,s,a,r){var o=t+(e&n|i&~n)+s+r;return(o<<a|o>>>32-a)+e}function d(t,e,i,n,s,a,r){var o=t+(e^i^n)+s+r;return(o<<a|o>>>32-a)+e}function f(t,e,i,n,s,a,r){var o=t+(i^(e|~n))+s+r;return(o<<a|o>>>32-a)+e}e.MD5=a._createHelper(c),e.HmacMD5=a._createHmacHelper(c)}(Math),i.MD5)})),E((function(t,e){var i,n,s;t.exports=(n=(i=L).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var i=t.blockSize,n=4*i;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var a=this._oKey=e.clone(),r=this._iKey=e.clone(),o=a.words,c=r.words,u=0;u<i;u++)o[u]^=1549556828,c[u]^=909522486;a.sigBytes=r.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})))})),E((function(t,e){t.exports=L.HmacMD5}))),M="FUNCTION",R="OBJECT",N="CLIENT_DB";function B(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function F(t){return"object"===B(t)}function z(t){return t&&"string"==typeof t?JSON.parse(t):t}var U=!1,G="app-plus",V=z(void 0),q=z([{provider:"aliyun",spaceName:"meijiadouhenmei",spaceId:"d56e4cdf-6291-48bb-910f-9ac7ec025a6b",clientSecret:"f5GPLlisPExvis5v7lcJNg==",endpoint:"https://api.bspapp.com"}]),H=!0,W="";try{var K=i("5752").default||i("5752");W=K.appid}catch(ii){}var J={};function Y(t){var e,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=J,i=t,Object.prototype.hasOwnProperty.call(e,i)||(J[t]=n),J[t]}"app-plus"===G&&(J=uni._globalUniCloudObj?uni._globalUniCloudObj:uni._globalUniCloudObj={});var Z=["invoke","success","fail","complete"],X=Y("_globalUniCloudInterceptor");function Q(t,e){X[t]||(X[t]={}),F(e)&&Object.keys(e).forEach((function(i){Z.indexOf(i)>-1&&function(t,e,i){var n=X[t][e];n||(n=X[t][e]=[]),-1===n.indexOf(i)&&"function"==typeof i&&n.push(i)}(t,i,e[i])}))}function tt(t,e){X[t]||(X[t]={}),F(e)?Object.keys(e).forEach((function(i){Z.indexOf(i)>-1&&function(t,e,i){var n=X[t][e];if(n){var s=n.indexOf(i);s>-1&&n.splice(s,1)}}(t,i,e[i])})):delete X[t]}function et(t,e){return t&&0!==t.length?t.reduce((function(t,i){return t.then((function(){return i(e)}))}),Promise.resolve()):Promise.resolve()}function it(t,e){return X[t]&&X[t][e]||[]}function nt(t,e){return e?function(i){var n,s=this,a=!1;if("callFunction"===e){var r=i&&i.type||M;a=r!==M}n=this.isReady?Promise.resolve():this.initUniCloud,i=i||{};var o=n.then((function(){return a?Promise.resolve():et(it(e,"invoke"),i)})).then((function(){return t.call(s,i)})).then((function(t){return a?Promise.resolve(t):et(it(e,"success"),t).then((function(){return et(it(e,"complete"),t)})).then((function(){return Promise.resolve(t)}))}),(function(t){return a?Promise.reject(t):et(it(e,"fail"),t).then((function(){return et(it(e,"complete"),t)})).then((function(){return Promise.reject(t)}))}));if(!(i.success||i.fail||i.complete))return o;o.then((function(t){i.success&&i.success(t),i.complete&&i.complete(t)}),(function(t){i.fail&&i.fail(t),i.complete&&i.complete(t)}))}:function(e){if(!((e=e||{}).success||e.fail||e.complete))return t.call(this,e);t.call(this,e).then((function(t){e.success&&e.success(t),e.complete&&e.complete(t)}),(function(t){e.fail&&e.fail(t),e.complete&&e.complete(t)}))}}var st,at=function(t){$(i,t);var e=x(i);function i(t){var n;return w(this,i),n=e.call(this,t.message),n.errMsg=t.message||"",n.errCode=n.code=t.code,n.requestId=t.requestId,Object.defineProperties(C(n),{message:{get:function(){return this.errMsg},set:function(t){this.errMsg=t}}}),n}return i}(S(Error));function rt(){var t=uni.getLocale&&uni.getLocale()||"en";if(st)return b(b({},st),{},{LOCALE:t});var e=uni.getSystemInfoSync(),i=e.deviceId,n=e.platform;return st={PLATFORM:G,OS:n,APPID:W,DEVICEID:i,CLIENT_SDK_VERSION:"1.0.25"},b(b({},st),{},{LOCALE:t})}var ot,ct={sign:function(t,e){var i="";return Object.keys(t).sort().forEach((function(e){t[e]&&(i=i+"&"+e+"="+t[e])})),i=i.slice(1),A(i,e).toString()},wrappedRequest:function(t,e){return new Promise((function(i,n){e(Object.assign(t,{complete:function(t){t||(t={}),U&&"h5"===G&&t.errMsg&&0===t.errMsg.indexOf("request:fail")&&console.warn("\u53d1\u5e03H5\uff0c\u9700\u8981\u5728uniCloud\u540e\u53f0\u64cd\u4f5c\uff0c\u7ed1\u5b9a\u5b89\u5168\u57df\u540d\uff0c\u5426\u5219\u4f1a\u56e0\u4e3a\u8de8\u57df\u95ee\u9898\u800c\u65e0\u6cd5\u8bbf\u95ee\u3002\u6559\u7a0b\u53c2\u8003\uff1ahttps://uniapp.dcloud.io/uniCloud/quickstart?id=useinh5");var e=t.data&&t.data.header&&t.data.header["x-serverless-request-id"]||t.header&&t.header["request-id"];if(!t.statusCode||t.statusCode>=400)return n(new at({code:"SYS_ERR",message:t.errMsg||"request:fail",requestId:e}));var s=t.data;if(s.error)return n(new at({code:s.error.code,message:s.error.message,requestId:e}));s.result=s.data,s.requestId=e,delete s.data,i(s)}}))}))}},ut={request:function(t){return uni.request(t)},uploadFile:function(t){return uni.uploadFile(t)},setStorageSync:function(t,e){return uni.setStorageSync(t,e)},getStorageSync:function(t){return uni.getStorageSync(t)},removeStorageSync:function(t){return uni.removeStorageSync(t)},clearStorageSync:function(){return uni.clearStorageSync()}},lt={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},dt=(0,a.initVueI18n)({"zh-Hans":{"uniCloud.init.paramRequired":"\u7f3a\u5c11\u53c2\u6570\uff1a{param}","uniCloud.uploadFile.fileError":"filePath\u5e94\u4e3aFile\u5bf9\u8c61"},"zh-Hant":{"uniCloud.init.paramRequired":"\u7f3a\u5c11\u53c2\u6570\uff1a{param}","uniCloud.uploadFile.fileError":"filePath\u5e94\u4e3aFile\u5bf9\u8c61"},en:lt,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:lt},"zh-Hans"),ft=dt.t,ht=function(){function t(e){w(this,t),["spaceId","clientSecret"].forEach((function(t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(ft("uniCloud.init.paramRequired",{param:t}))})),this.config=Object.assign({},{endpoint:"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=ut,this._getAccessTokenPromise=null,this._getAccessTokenPromiseStatus=null}return g(t,[{key:"setAccessToken",value:function(t){this.accessToken=t}},{key:"requestWrapped",value:function(t){return ct.wrappedRequest(t,this.adapter.request)}},{key:"requestAuth",value:function(t){return this.requestWrapped(t)}},{key:"request",value:function(t,e){var i=this;return Promise.resolve().then((function(){return i.hasAccessToken?e?i.requestWrapped(t):i.requestWrapped(t).catch((function(e){return new Promise((function(t,i){!e||"GATEWAY_INVALID_TOKEN"!==e.code&&"InvalidParameter.InvalidToken"!==e.code?i(e):t()})).then((function(){return i.getAccessToken()})).then((function(){var e=i.rebuildRequest(t);return i.request(e,!0)}))})):i.getAccessToken().then((function(){var e=i.rebuildRequest(t);return i.request(e,!0)}))}))}},{key:"rebuildRequest",value:function(t){var e=Object.assign({},t);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=ct.sign(e.data,this.config.clientSecret),e}},{key:"setupRequest",value:function(t,e){var i=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),n={"Content-Type":"application/json"};return"auth"!==e&&(i.token=this.accessToken,n["x-basement-token"]=this.accessToken),n["x-serverless-sign"]=ct.sign(i,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:i,dataType:"json",header:n}}},{key:"getAccessToken",value:function(){var t=this;return"pending"===this._getAccessTokenPromiseStatus||(this._getAccessTokenPromiseStatus="pending",this._getAccessTokenPromise=this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((function(e){return new Promise((function(i,n){e.result&&e.result.accessToken?(t.setAccessToken(e.result.accessToken),t._getAccessTokenPromiseStatus="fulfilled",i(t.accessToken)):(t._getAccessTokenPromiseStatus="rejected",n(new at({code:"AUTH_FAILED",message:"\u83b7\u53d6accessToken\u5931\u8d25"})))}))}),(function(e){return t._getAccessTokenPromiseStatus="rejected",Promise.reject(e)}))),this._getAccessTokenPromise}},{key:"authorize",value:function(){this.getAccessToken()}},{key:"callFunction",value:function(t){var e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:t.name,functionArgs:t.data||{}})};return this.request(this.setupRequest(e))}},{key:"getOSSUploadOptionsFromPath",value:function(t){var e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFileToOSS",value:function(t){var e=this,i=t.url,n=t.formData,s=t.name,a=t.filePath,r=t.fileType,o=t.onUploadProgress;return new Promise((function(t,c){var u=e.adapter.uploadFile({url:i,formData:n,name:s,filePath:a,fileType:r,header:{"X-OSS-server-side-encrpytion":"AES256"},success:function(e){e&&e.statusCode<400?t(e):c(new at({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){c(new at({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof o&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(t){o({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"reportOSSUpload",value:function(t){var e={method:"serverless.file.resource.report",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFile",value:function(t){var e=this,i=t.filePath,n=t.cloudPath,s=t.fileType,a=void 0===s?"image":s,r=t.onUploadProgress,o=t.config;if("string"!==B(n))throw new at({code:"INVALID_PARAM",message:"cloudPath\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"});if(!(n=n.trim()))throw new at({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});if(/:\/\//.test(n))throw new at({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u5408\u6cd5"});var c,u,l=o&&o.envType||this.config.envType;return this.getOSSUploadOptionsFromPath({env:l,filename:n}).then((function(t){var n=t.result;c=n.id,u="https://"+n.cdnDomain+"/"+n.ossPath;var s={url:"https://"+n.host,formData:{"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:n.accessKeyId,Signature:n.signature,host:n.host,id:c,key:n.ossPath,policy:n.policy,success_action_status:200},fileName:"file",name:"file",filePath:i,fileType:a};return e.uploadFileToOSS(Object.assign({},s,{onUploadProgress:r}))})).then((function(){return e.reportOSSUpload({id:c})})).then((function(t){return new Promise((function(e,n){t.success?e({success:!0,filePath:i,fileID:u}):n(new at({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}},{key:"deleteFile",value:function(t){var e=t.fileList,i={method:"serverless.file.resource.delete",params:JSON.stringify({id:e[0]})};return this.request(this.setupRequest(i))}},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList;return new Promise((function(t,i){Array.isArray(e)&&0!==e.length||i(new at({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"})),t({fileList:e.map((function(t){return{fileID:t,tempFileURL:t}}))})}))}},{key:"hasAccessToken",get:function(){return!!this.accessToken}}]),t}(),_t={init:function(t){var e=new ht(t),i={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return i},e.customAuth=e.auth,e}},pt="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";!function(t){t.local="local",t.none="none",t.session="session"}(ot||(ot={}));var mt,gt=function(){},vt=function(){var t;if(!Promise){t=function(){},t.promise={};var e=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}var i=new Promise((function(e,i){t=function(t,n){return t?i(t):e(n)}}));return t.promise=i,t};function bt(t){return void 0===t}function yt(t){return"[object Null]"===Object.prototype.toString.call(t)}function wt(t){var e,i,n=(e=t,"[object Array]"===Object.prototype.toString.call(e)?t:[t]),s=h(n);try{for(s.s();!(i=s.n()).done;){var a=i.value,r=a.isMatch,o=a.genAdapter,c=a.runtime;if(r())return{adapter:o(),runtime:c}}}catch(u){s.e(u)}finally{s.f()}}!function(t){t.WEB="web",t.WX_MP="wx_mp"}(mt||(mt={}));var $t={adapter:null,runtime:void 0},xt=["anonymousUuidKey"],kt=function(t){$(i,t);var e=x(i);function i(){var t;return w(this,i),t=e.call(this),$t.adapter.root.tcbObject||($t.adapter.root.tcbObject={}),t}return g(i,[{key:"setItem",value:function(t,e){$t.adapter.root.tcbObject[t]=e}},{key:"getItem",value:function(t){return $t.adapter.root.tcbObject[t]}},{key:"removeItem",value:function(t){delete $t.adapter.root.tcbObject[t]}},{key:"clear",value:function(){delete $t.adapter.root.tcbObject}}]),i}(gt);function Ct(t,e){switch(t){case"local":return e.localStorage||new kt;case"none":return new kt;default:return e.sessionStorage||new kt}}var St=function(){function t(e){if(w(this,t),!this._storage){this._persistence=$t.adapter.primaryStorage||e.persistence,this._storage=Ct(this._persistence,$t.adapter);var i="access_token_".concat(e.env),n="access_token_expire_".concat(e.env),s="refresh_token_".concat(e.env),a="anonymous_uuid_".concat(e.env),r="login_type_".concat(e.env),o="user_info_".concat(e.env);this.keys={accessTokenKey:i,accessTokenExpireKey:n,refreshTokenKey:s,anonymousUuidKey:a,loginTypeKey:r,userInfoKey:o}}}return g(t,[{key:"updatePersistence",value:function(t){if(t!==this._persistence){var e="local"===this._persistence;this._persistence=t;var i=Ct(t,$t.adapter);for(var n in this.keys){var s=this.keys[n];if(!e||!xt.includes(n)){var a=this._storage.getItem(s);bt(a)||yt(a)||(i.setItem(s,a),this._storage.removeItem(s))}}this._storage=i}}},{key:"setStore",value:function(t,e,i){if(this._storage){var n={version:i||"localCachev1",content:e},s=JSON.stringify(n);try{this._storage.setItem(t,s)}catch(t){throw t}}}},{key:"getStore",value:function(t,e){try{if(!this._storage)return}catch(t){return""}e=e||"localCachev1";var i=this._storage.getItem(t);return i&&i.indexOf(e)>=0?JSON.parse(i).content:""}},{key:"removeStore",value:function(t){this._storage.removeItem(t)}}]),t}(),Ot={},It={};function Pt(t){return Ot[t]}var Tt=function t(e,i){w(this,t),this.data=i||null,this.name=e},Dt=function(t){$(i,t);var e=x(i);function i(t,n){var s;return w(this,i),s=e.call(this,"error",{error:t,data:n}),s.error=t,s}return i}(Tt),jt=new(function(){function t(){w(this,t),this._listeners={}}return g(t,[{key:"on",value:function(t,e){return function(t,e,i){i[t]=i[t]||[],i[t].push(e)}(t,e,this._listeners),this}},{key:"off",value:function(t,e){return function(t,e,i){if(i&&i[t]){var n=i[t].indexOf(e);-1!==n&&i[t].splice(n,1)}}(t,e,this._listeners),this}},{key:"fire",value:function(t,e){if(t instanceof Dt)return console.error(t.error),this;var i="string"==typeof t?new Tt(t,e||{}):t,n=i.name;if(this._listens(n)){i.target=this;var s,a=this._listeners[n]?u(this._listeners[n]):[],r=h(a);try{for(r.s();!(s=r.n()).done;){var o=s.value;o.call(this,i)}}catch(c){r.e(c)}finally{r.f()}}return this}},{key:"_listens",value:function(t){return this._listeners[t]&&this._listeners[t].length>0}}]),t}());function Et(t,e){jt.on(t,e)}function Lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};jt.fire(t,e)}function At(t,e){jt.off(t,e)}var Mt,Rt="loginStateChanged",Nt="loginStateExpire",Bt="loginTypeChanged",Ft="anonymousConverted",zt="refreshAccessToken";!function(t){t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.NULL="NULL"}(Mt||(Mt={}));var Ut=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],Gt={"X-SDK-Version":"1.3.5"};function Vt(t,e,i){var n=t[e];t[e]=function(e){var s={},a={};i.forEach((function(i){var n=i.call(t,e),r=n.data,o=n.headers;Object.assign(s,r),Object.assign(a,o)}));var r=e.data;return r&&function(){var t;if(t=r,"[object FormData]"!==Object.prototype.toString.call(t))e.data=b(b({},r),s);else for(var i in s)r.append(i,s[i])}(),e.headers=b(b({},e.headers||{}),a),n.call(t,e)}}function qt(){var t=Math.random().toString(16).slice(2);return{data:{seqId:t},headers:b(b({},Gt),{},{"x-seqid":t})}}var Ht=function(){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(this,t),this.config=i,this._reqClass=new $t.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"\u8bf7\u6c42\u5728".concat(this.config.timeout/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad"),restrictedMethods:["post"]}),this._cache=Pt(this.config.env),this._localCache=(e=this.config.env,It[e]),Vt(this._reqClass,"post",[qt]),Vt(this._reqClass,"upload",[qt]),Vt(this._reqClass,"download",[qt])}return g(t,[{key:"post",value:function(){var t=c(s.default.mark((function t(e){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.post(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"upload",value:function(){var t=c(s.default.mark((function t(e){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.upload(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"download",value:function(){var t=c(s.default.mark((function t(e){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.download(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refreshAccessToken",value:function(){var t=c(s.default.mark((function t(){var e,i;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),t.prev=1,t.next=4,this._refreshAccessTokenPromise;case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),i=t.t0;case 10:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,!i){t.next=12;break}throw i;case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"_refreshAccessToken",value:function(){var t=c(s.default.mark((function t(){var e,i,n,a,r,o,c,u,l,d,f,h,_;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,i=e.accessTokenKey,n=e.accessTokenExpireKey,a=e.refreshTokenKey,r=e.loginTypeKey,o=e.anonymousUuidKey,this._cache.removeStore(i),this._cache.removeStore(n),c=this._cache.getStore(a),c){t.next=5;break}throw new Error("\u672a\u767b\u5f55CloudBase");case 5:return u={refresh_token:c},t.next=8,this.request("auth.fetchAccessTokenWithRefreshToken",u);case 8:if(l=t.sent,!l.data.code){t.next=21;break}if(d=l.data.code,"SIGN_PARAM_INVALID"!==d&&"REFRESH_TOKEN_EXPIRED"!==d&&"INVALID_REFRESH_TOKEN"!==d){t.next=20;break}if(this._cache.getStore(r)!==Mt.ANONYMOUS||"INVALID_REFRESH_TOKEN"!==d){t.next=19;break}return f=this._cache.getStore(o),h=this._cache.getStore(a),t.next=17,this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:h});case 17:return _=t.sent,t.abrupt("return",(this.setRefreshToken(_.refresh_token),this._refreshAccessToken()));case 19:Lt(Nt),this._cache.removeStore(a);case 20:throw new Error("\u5237\u65b0access token\u5931\u8d25\uff1a".concat(l.data.code));case 21:if(!l.data.access_token){t.next=23;break}return t.abrupt("return",(Lt(zt),this._cache.setStore(i,l.data.access_token),this._cache.setStore(n,l.data.access_token_expire+Date.now()),{accessToken:l.data.access_token,accessTokenExpire:l.data.access_token_expire}));case 23:l.data.refresh_token&&(this._cache.removeStore(a),this._cache.setStore(a,l.data.refresh_token),this._refreshAccessToken());case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getAccessToken",value:function(){var t=c(s.default.mark((function t(){var e,i,n,a,r,o,c;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,i=e.accessTokenKey,n=e.accessTokenExpireKey,a=e.refreshTokenKey,this._cache.getStore(a)){t.next=3;break}throw new Error("refresh token\u4e0d\u5b58\u5728\uff0c\u767b\u5f55\u72b6\u6001\u5f02\u5e38");case 3:if(r=this._cache.getStore(i),o=this._cache.getStore(n),c=!0,t.t0=this._shouldRefreshAccessTokenHook,!t.t0){t.next=9;break}return t.next=8,this._shouldRefreshAccessTokenHook(r,o);case 8:t.t0=!t.sent;case 9:if(t.t1=t.t0,!t.t1){t.next=12;break}c=!1;case 12:return t.abrupt("return",(!r||!o||o<Date.now())&&c?this.refreshAccessToken():{accessToken:r,accessTokenExpire:o});case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"request",value:function(){var t=c(s.default.mark((function t(e,i,n){var a,r,o,c,u,l,d,f,h,_,p,m,g,v,y,w;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a="x-tcb-trace_".concat(this.config.env),r="application/x-www-form-urlencoded",o=b({action:e,env:this.config.env,dataVersion:"2019-08-16"},i),-1!==Ut.indexOf(e)){t.next=10;break}if(c=this._cache.keys.refreshTokenKey,t.t0=this._cache.getStore(c),!t.t0){t.next=10;break}return t.next=9,this.getAccessToken();case 9:o.access_token=t.sent.accessToken;case 10:if("storage.uploadFile"===e){for(l in u=new FormData,u)u.hasOwnProperty(l)&&void 0!==u[l]&&u.append(l,o[l]);r="multipart/form-data"}else for(d in r="application/json",u={},o)void 0!==o[d]&&(u[d]=o[d]);return f={headers:{"content-type":r}},n&&n.onUploadProgress&&(f.onUploadProgress=n.onUploadProgress),h=this._localCache.getStore(a),h&&(f.headers["X-TCB-Trace"]=h),_=i.parse,p=i.inQuery,m=i.search,g={env:this.config.env},_&&(g.parse=!0),p&&(g=b(b({},p),g)),v=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=/\?/.test(e),s="";for(var a in i)""===s?!n&&(e+="?"):s+="&",s+="".concat(a,"=").concat(encodeURIComponent(i[a]));return/^http(s)?\:\/\//.test(e+=s)?e:"".concat(t).concat(e)}(pt,"//tcb-api.tencentcloudapi.com/web",g),m&&(v+=m),t.next=22,this.post(b({url:v,data:u},f));case 22:if(y=t.sent,w=y.header&&y.header["x-tcb-trace"],w&&this._localCache.setStore(a,w),(200===Number(y.status)||200===Number(y.statusCode))&&y.data){t.next=26;break}throw new Error("network request error");case 26:return t.abrupt("return",y);case 27:case"end":return t.stop()}}),t,this)})));function e(e,i,n){return t.apply(this,arguments)}return e}()},{key:"send",value:function(){var t=c(s.default.mark((function t(e){var i,n,a,r=arguments;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:{},t.next=3,this.request(e,i,{onUploadProgress:i.onUploadProgress});case 3:if(n=t.sent,"ACCESS_TOKEN_EXPIRED"!==n.data.code||-1!==Ut.indexOf(e)){t.next=13;break}return t.next=7,this.refreshAccessToken();case 7:return t.next=9,this.request(e,i,{onUploadProgress:i.onUploadProgress});case 9:if(a=t.sent,!a.data.code){t.next=12;break}throw new Error("[".concat(a.data.code,"] ").concat(a.data.message));case 12:return t.abrupt("return",a.data);case 13:if(!n.data.code){t.next=15;break}throw new Error("[".concat(n.data.code,"] ").concat(n.data.message));case 15:return t.abrupt("return",n.data);case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"setRefreshToken",value:function(t){var e=this._cache.keys,i=e.accessTokenKey,n=e.accessTokenExpireKey,s=e.refreshTokenKey;this._cache.removeStore(i),this._cache.removeStore(n),this._cache.setStore(s,t)}}]),t}(),Wt={};function Kt(t){return Wt[t]}var Jt=function(){function t(e){w(this,t),this.config=e,this._cache=Pt(e.env),this._request=Kt(e.env)}return g(t,[{key:"setRefreshToken",value:function(t){var e=this._cache.keys,i=e.accessTokenKey,n=e.accessTokenExpireKey,s=e.refreshTokenKey;this._cache.removeStore(i),this._cache.removeStore(n),this._cache.setStore(s,t)}},{key:"setAccessToken",value:function(t,e){var i=this._cache.keys,n=i.accessTokenKey,s=i.accessTokenExpireKey;this._cache.setStore(n,t),this._cache.setStore(s,e)}},{key:"refreshUserInfo",value:function(){var t=c(s.default.mark((function t(){var e,i;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,i=e.data,t.abrupt("return",(this.setLocalUserInfo(i),i));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t)}}]),t}(),Yt=function(){function t(e){if(w(this,t),!e)throw new Error("envId is not defined");this._envId=e,this._cache=Pt(this._envId),this._request=Kt(this._envId),this.setUserInfo()}return g(t,[{key:"linkWithTicket",value:function(t){if("string"!=typeof t)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:t})}},{key:"linkWithRedirect",value:function(t){t.signInWithRedirect()}},{key:"updatePassword",value:function(t,e){return this._request.send("auth.updatePassword",{oldPassword:e,newPassword:t})}},{key:"updateEmail",value:function(t){return this._request.send("auth.updateEmail",{newEmail:t})}},{key:"updateUsername",value:function(t){if("string"!=typeof t)throw new Error("username must be a string");return this._request.send("auth.updateUsername",{username:t})}},{key:"getLinkedUidList",value:function(){var t=c(s.default.mark((function t(){var e,i,n,a;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getLinkedUidList",{});case 2:return e=t.sent,i=e.data,n=!1,a=i.users,t.abrupt("return",(a.forEach((function(t){t.wxOpenId&&t.wxPublicId&&(n=!0)})),{users:a,hasPrimaryUid:n}));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setPrimaryUid",value:function(t){return this._request.send("auth.setPrimaryUid",{uid:t})}},{key:"unlink",value:function(t){return this._request.send("auth.unlink",{platform:t})}},{key:"update",value:function(){var t=c(s.default.mark((function t(e){var i,n,a,r,o,c,u,l;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.nickName,n=e.gender,a=e.avatarUrl,r=e.province,o=e.country,c=e.city,t.next=8,this._request.send("auth.updateUserInfo",{nickName:i,gender:n,avatarUrl:a,province:r,country:o,city:c});case 8:u=t.sent,l=u.data,this.setLocalUserInfo(l);case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refresh",value:function(){var t=c(s.default.mark((function t(){var e,i;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,i=e.data,t.abrupt("return",(this.setLocalUserInfo(i),i));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setUserInfo",value:function(){var t=this,e=this._cache.keys.userInfoKey,i=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(e){t[e]=i[e]})),this.location={country:i.country,province:i.province,city:i.city}}},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t),this.setUserInfo()}}]),t}(),Zt=function(){function t(e){if(w(this,t),!e)throw new Error("envId is not defined");this._cache=Pt(e);var i=this._cache.keys,n=i.refreshTokenKey,s=i.accessTokenKey,a=i.accessTokenExpireKey,r=this._cache.getStore(n),o=this._cache.getStore(s),c=this._cache.getStore(a);this.credential={refreshToken:r,accessToken:o,accessTokenExpire:c},this.user=new Yt(e)}return g(t,[{key:"isAnonymousAuth",get:function(){return this.loginType===Mt.ANONYMOUS}},{key:"isCustomAuth",get:function(){return this.loginType===Mt.CUSTOM}},{key:"isWeixinAuth",get:function(){return this.loginType===Mt.WECHAT||this.loginType===Mt.WECHAT_OPEN||this.loginType===Mt.WECHAT_PUBLIC}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),t}(),Xt=function(t){$(i,t);var e=x(i);function i(){return w(this,i),e.apply(this,arguments)}return g(i,[{key:"signIn",value:function(){var t=c(s.default.mark((function t(){var e,i,n,a,r,o,c;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._cache.updatePersistence("local"),e=this._cache.keys,i=e.anonymousUuidKey,n=e.refreshTokenKey,a=this._cache.getStore(i)||void 0,r=this._cache.getStore(n)||void 0,t.next=8,this._request.send("auth.signInAnonymously",{anonymous_uuid:a,refresh_token:r});case 8:if(o=t.sent,!o.uuid||!o.refresh_token){t.next=20;break}return this._setAnonymousUUID(o.uuid),this.setRefreshToken(o.refresh_token),t.next=14,this._request.refreshAccessToken();case 14:return Lt(Rt),Lt(Bt,{env:this.config.env,loginType:Mt.ANONYMOUS,persistence:"local"}),c=new Zt(this.config.env),t.next=19,c.user.refresh();case 19:return t.abrupt("return",c);case 20:throw new Error("\u533f\u540d\u767b\u5f55\u5931\u8d25");case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=c(s.default.mark((function t(e){var i,n,a,r,o,c;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this._cache.keys,n=i.anonymousUuidKey,a=i.refreshTokenKey,r=this._cache.getStore(n),o=this._cache.getStore(a),t.next=7,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:r,refresh_token:o,ticket:e});case 7:if(c=t.sent,!c.refresh_token){t.next=16;break}return this._clearAnonymousUUID(),this.setRefreshToken(c.refresh_token),t.next=13,this._request.refreshAccessToken();case 13:return Lt(Ft,{env:this.config.env}),Lt(Bt,{loginType:Mt.CUSTOM,persistence:"local"}),t.abrupt("return",{credential:{refreshToken:c.refresh_token}});case 16:throw new Error("\u533f\u540d\u8f6c\u5316\u5931\u8d25");case 17:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_setAnonymousUUID",value:function(t){var e=this._cache.keys,i=e.anonymousUuidKey,n=e.loginTypeKey;this._cache.removeStore(i),this._cache.setStore(i,t),this._cache.setStore(n,Mt.ANONYMOUS)}},{key:"_clearAnonymousUUID",value:function(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}]),i}(Jt),Qt=function(t){$(i,t);var e=x(i);function i(){return w(this,i),e.apply(this,arguments)}return g(i,[{key:"signIn",value:function(){var t=c(s.default.mark((function t(e){var i,n;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new Error("ticket must be a string");case 2:return i=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(i)||""});case 5:if(n=t.sent,!n.refresh_token){t.next=15;break}return this.setRefreshToken(n.refresh_token),t.next=10,this._request.refreshAccessToken();case 10:return Lt(Rt),Lt(Bt,{env:this.config.env,loginType:Mt.CUSTOM,persistence:this.config.persistence}),t.next=14,this.refreshUserInfo();case 14:return t.abrupt("return",new Zt(this.config.env));case 15:throw new Error("\u81ea\u5b9a\u4e49\u767b\u5f55\u5931\u8d25");case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),i}(Jt),te=function(t){$(i,t);var e=x(i);function i(){return w(this,i),e.apply(this,arguments)}return g(i,[{key:"signIn",value:function(){var t=c(s.default.mark((function t(e,i){var n,a,r,o,c;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new Error("email must be a string");case 2:return n=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:i,refresh_token:this._cache.getStore(n)||""});case 5:if(a=t.sent,r=a.refresh_token,o=a.access_token,c=a.access_token_expire,!r){t.next=22;break}if(this.setRefreshToken(r),!o||!c){t.next=15;break}this.setAccessToken(o,c),t.next=17;break;case 15:return t.next=17,this._request.refreshAccessToken();case 17:return t.next=19,this.refreshUserInfo();case 19:return Lt(Rt),Lt(Bt,{env:this.config.env,loginType:Mt.EMAIL,persistence:this.config.persistence}),t.abrupt("return",new Zt(this.config.env));case 22:throw a.code?new Error("\u90ae\u7bb1\u767b\u5f55\u5931\u8d25: [".concat(a.code,"] ").concat(a.message)):new Error("\u90ae\u7bb1\u767b\u5f55\u5931\u8d25");case 23:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"activate",value:function(){var t=c(s.default.mark((function t(e){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.activateEndUserMail",{token:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"resetPasswordWithToken",value:function(){var t=c(s.default.mark((function t(e,i){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:i}));case 1:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()}]),i}(Jt),ee=function(t){$(i,t);var e=x(i);function i(){return w(this,i),e.apply(this,arguments)}return g(i,[{key:"signIn",value:function(){var t=c(s.default.mark((function t(e,i){var n,a,r,o,c;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new Error("username must be a string");case 2:return"string"!=typeof i&&(i="",console.warn("password is empty")),n=this._cache.keys.refreshTokenKey,t.next=6,this._request.send("auth.signIn",{loginType:Mt.USERNAME,username:e,password:i,refresh_token:this._cache.getStore(n)||""});case 6:if(a=t.sent,r=a.refresh_token,o=a.access_token_expire,c=a.access_token,!r){t.next=23;break}if(this.setRefreshToken(r),!c||!o){t.next=16;break}this.setAccessToken(c,o),t.next=18;break;case 16:return t.next=18,this._request.refreshAccessToken();case 18:return t.next=20,this.refreshUserInfo();case 20:return Lt(Rt),Lt(Bt,{env:this.config.env,loginType:Mt.USERNAME,persistence:this.config.persistence}),t.abrupt("return",new Zt(this.config.env));case 23:throw a.code?new Error("\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25: [".concat(a.code,"] ").concat(a.message)):new Error("\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25");case 24:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()}]),i}(Jt),ie=function(){function t(e){w(this,t),this.config=e,this._cache=Pt(e.env),this._request=Kt(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Et(Bt,this._onLoginTypeChanged)}return g(t,[{key:"anonymousAuthProvider",value:function(){return new Xt(this.config)}},{key:"customAuthProvider",value:function(){return new Qt(this.config)}},{key:"emailAuthProvider",value:function(){return new te(this.config)}},{key:"usernameAuthProvider",value:function(){return new ee(this.config)}},{key:"signInAnonymously",value:function(){var t=c(s.default.mark((function t(){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Xt(this.config).signIn());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"signInWithEmailAndPassword",value:function(){var t=c(s.default.mark((function t(e,i){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new te(this.config).signIn(e,i));case 1:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"signInWithUsernameAndPassword",value:function(t,e){return new ee(this.config).signIn(t,e)}},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=c(s.default.mark((function t(e){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._anonymousAuthProvider||(this._anonymousAuthProvider=new Xt(this.config)),Et(Ft,this._onAnonymousConverted),t.next=3,this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"signOut",value:function(){var t=c(s.default.mark((function t(){var e,i,n,a,r,o;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loginType!==Mt.ANONYMOUS){t.next=2;break}throw new Error("\u533f\u540d\u7528\u6237\u4e0d\u652f\u6301\u767b\u51fa\u64cd\u4f5c");case 2:if(e=this._cache.keys,i=e.refreshTokenKey,n=e.accessTokenKey,a=e.accessTokenExpireKey,r=this._cache.getStore(i),r){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this._request.send("auth.logout",{refresh_token:r});case 7:return o=t.sent,t.abrupt("return",(this._cache.removeStore(i),this._cache.removeStore(n),this._cache.removeStore(a),Lt(Rt),Lt(Bt,{env:this.config.env,loginType:Mt.NULL,persistence:this.config.persistence}),o));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"signUpWithEmailAndPassword",value:function(){var t=c(s.default.mark((function t(e,i){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:i}));case 1:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"sendPasswordResetEmail",value:function(){var t=c(s.default.mark((function t(e){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.sendPasswordResetEmail",{email:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onLoginStateChanged",value:function(t){var e=this;Et(Rt,(function(){var i=e.hasLoginState();t.call(e,i)}));var i=this.hasLoginState();t.call(this,i)}},{key:"onLoginStateExpired",value:function(t){Et(Nt,t.bind(this))}},{key:"onAccessTokenRefreshed",value:function(t){Et(zt,t.bind(this))}},{key:"onAnonymousConverted",value:function(t){Et(Ft,t.bind(this))}},{key:"onLoginTypeChanged",value:function(t){var e=this;Et(Bt,(function(){var i=e.hasLoginState();t.call(e,i)}))}},{key:"getAccessToken",value:function(){var t=c(s.default.mark((function t(){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.getAccessToken();case 2:return t.t0=t.sent.accessToken,t.t1=this.config.env,t.abrupt("return",{accessToken:t.t0,env:t.t1});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"hasLoginState",value:function(){var t=this._cache.keys.refreshTokenKey;return this._cache.getStore(t)?new Zt(this.config.env):null}},{key:"isUsernameRegistered",value:function(){var t=c(s.default.mark((function t(e){var i,n;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new Error("username must be a string");case 2:return t.next=4,this._request.send("auth.isUsernameRegistered",{username:e});case 4:return i=t.sent,n=i.data,t.abrupt("return",n&&n.isRegistered);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getLoginState",value:function(){return Promise.resolve(this.hasLoginState())}},{key:"signInWithTicket",value:function(){var t=c(s.default.mark((function t(e){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Qt(this.config).signIn(e));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"shouldRefreshAccessToken",value:function(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}},{key:"getUserInfo",value:function(){return this._request.send("auth.getUserInfo",{}).then((function(t){return t.code?t:b(b({},t.data),{},{requestId:t.seqId})}))}},{key:"getAuthHeader",value:function(){var t=this._cache.keys,e=t.refreshTokenKey,i=t.accessTokenKey,n=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(i)+"/@@/"+n}}},{key:"_onAnonymousConverted",value:function(t){var e=t.data.env;e===this.config.env&&this._cache.updatePersistence(this.config.persistence)}},{key:"_onLoginTypeChanged",value:function(t){var e=t.data,i=e.loginType,n=e.persistence,s=e.env;s===this.config.env&&(this._cache.updatePersistence(n),this._cache.setStore(this._cache.keys.loginTypeKey,i))}},{key:"currentUser",get:function(){var t=this.hasLoginState();return t&&t.user||null}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),t}(),ne=function(t,e){e=e||vt();var i=Kt(this.config.env),n=t.cloudPath,s=t.filePath,a=t.onUploadProgress,r=t.fileType,o=void 0===r?"image":r;return i.send("storage.getUploadMetadata",{path:n}).then((function(t){var r=t.data,c=r.url,u=r.authorization,l=r.token,d=r.fileId,f=r.cosFileId,h=t.requestId,_={key:n,signature:u,"x-cos-meta-fileid":f,success_action_status:"201","x-cos-security-token":l};i.upload({url:c,data:_,file:s,name:n,fileType:o,onUploadProgress:a}).then((function(t){201===t.statusCode?e(null,{fileID:d,requestId:h}):e(new Error("STORAGE_REQUEST_FAIL: ".concat(t.data)))})).catch((function(t){e(t)}))})).catch((function(t){e(t)})),e.promise},se=function(t,e){e=e||vt();var i=Kt(this.config.env),n=t.cloudPath;return i.send("storage.getUploadMetadata",{path:n}).then((function(t){e(null,t)})).catch((function(t){e(t)})),e.promise},ae=function(t,e){var i=t.fileList;if(e=e||vt(),!i||!Array.isArray(i))return{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"};var n,s=h(i);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(!a||"string"!=typeof a)return{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"}}}catch(o){s.e(o)}finally{s.f()}var r={fileid_list:i};return Kt(this.config.env).send("storage.batchDeleteFile",r).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.delete_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},re=function(t,e){var i=t.fileList;e=e||vt(),i&&Array.isArray(i)||e(null,{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"});var n,s=[],a=h(i);try{for(a.s();!(n=a.n()).done;){var r=n.value;"object"==typeof r?(r.hasOwnProperty("fileID")&&r.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5305\u542bfileID\u548cmaxAge\u7684\u5bf9\u8c61"}),s.push({fileid:r.fileID,max_age:r.maxAge})):"string"==typeof r?s.push({fileid:r}):e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5b57\u7b26\u4e32"})}}catch(c){a.e(c)}finally{a.f()}var o={file_list:s};return Kt(this.config.env).send("storage.batchGetDownloadUrl",o).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.download_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},oe=function(){var t=c(s.default.mark((function t(e,i){var n,a,r,o;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.fileID,t.next=3,re.call(this,{fileList:[{fileID:n,maxAge:600}]});case 3:if(a=t.sent.fileList[0],"SUCCESS"===a.code){t.next=6;break}return t.abrupt("return",i?i(a):new Promise((function(t){t(a)})));case 6:if(r=Kt(this.config.env),o=a.download_url,o=encodeURI(o),i){t.next=10;break}return t.abrupt("return",r.download({url:o}));case 10:return t.t0=i,t.next=13,r.download({url:o});case 13:t.t1=t.sent,(0,t.t0)(t.t1);case 15:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),ce=function(t,e){var i,n=t.name,s=t.data,a=t.query,r=t.parse,o=t.search,c=e||vt();try{i=s?JSON.stringify(s):""}catch(n){return Promise.reject(n)}if(!n)return Promise.reject(new Error("\u51fd\u6570\u540d\u4e0d\u80fd\u4e3a\u7a7a"));var u={inQuery:a,parse:r,search:o,function_name:n,request_data:i};return Kt(this.config.env).send("functions.invokeFunction",u).then((function(t){if(t.code)c(null,t);else{var e=t.data.response_data;if(r)c(null,{result:e,requestId:t.requestId});else try{e=JSON.parse(t.data.response_data),c(null,{result:e,requestId:t.requestId})}catch(t){c(new Error("response data must be json"))}}return c.promise})).catch((function(t){c(t)})),c.promise},ue={timeout:15e3,persistence:"session"},le={},de=function(){function t(e){w(this,t),this.config=e||this.config,this.authObj=void 0}return g(t,[{key:"init",value:function(e){switch($t.adapter||(this.requestClient=new $t.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:"\u8bf7\u6c42\u5728".concat((e.timeout||5e3)/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad")})),this.config=b(b({},ue),e),!0){case this.config.timeout>6e5:console.warn("timeout\u5927\u4e8e\u53ef\u914d\u7f6e\u4e0a\u9650[10\u5206\u949f]\uff0c\u5df2\u91cd\u7f6e\u4e3a\u4e0a\u9650\u6570\u503c"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout\u5c0f\u4e8e\u53ef\u914d\u7f6e\u4e0b\u9650[100ms]\uff0c\u5df2\u91cd\u7f6e\u4e3a\u4e0b\u9650\u6570\u503c"),this.config.timeout=100}return new t(this.config)}},{key:"auth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.persistence;if(this.authObj)return this.authObj;var i,n=e||$t.adapter.primaryStorage||ue.persistence;return n!==this.config.persistence&&(this.config.persistence=n),function(t){var e=t.env;Ot[e]=new St(t),It[e]=new St(b(b({},t),{},{persistence:"local"}))}(this.config),i=this.config,Wt[i.env]=new Ht(i),this.authObj=new ie(this.config),this.authObj}},{key:"on",value:function(t,e){return Et.apply(this,[t,e])}},{key:"off",value:function(t,e){return At.apply(this,[t,e])}},{key:"callFunction",value:function(t,e){return ce.apply(this,[t,e])}},{key:"deleteFile",value:function(t,e){return ae.apply(this,[t,e])}},{key:"getTempFileURL",value:function(t,e){return re.apply(this,[t,e])}},{key:"downloadFile",value:function(t,e){return oe.apply(this,[t,e])}},{key:"uploadFile",value:function(t,e){return ne.apply(this,[t,e])}},{key:"getUploadMetadata",value:function(t,e){return se.apply(this,[t,e])}},{key:"registerExtension",value:function(t){le[t.name]=t}},{key:"invokeExtension",value:function(){var t=c(s.default.mark((function t(e,i){var n;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=le[e],n){t.next=3;break}throw Error("\u6269\u5c55".concat(e," \u5fc5\u987b\u5148\u6ce8\u518c"));case 3:return t.next=5,n.invoke(i,this);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"useAdapters",value:function(t){var e=wt(t)||{},i=e.adapter,n=e.runtime;i&&($t.adapter=i),n&&($t.runtime=n)}}]),t}(),fe=new de;function he(t,e,i){void 0===i&&(i={});var n=/\?/.test(e),s="";for(var a in i)""===s?!n&&(e+="?"):s+="&",s+=a+"="+encodeURIComponent(i[a]);return/^http(s)?:\/\//.test(e+=s)?e:""+t+e}var _e=function(){function t(){w(this,t)}return g(t,[{key:"post",value:function(t){var e=t.url,i=t.data,n=t.headers;return new Promise((function(t,s){ut.request({url:he("https:",e),data:i,method:"POST",header:n,success:function(e){t(e)},fail:function(t){s(t)}})}))}},{key:"upload",value:function(t){return new Promise((function(e,i){var n=t.url,s=t.file,a=t.data,r=t.headers,o=t.fileType,c=ut.uploadFile({url:he("https:",n),name:"file",formData:Object.assign({},a),filePath:s,fileType:o,header:r,success:function(t){var i={statusCode:t.statusCode,data:t.data||{}};200===t.statusCode&&a.success_action_status&&(i.statusCode=parseInt(a.success_action_status,10)),e(i)},fail:function(t){U&&"mp-alipay"===G&&console.warn("\u652f\u4ed8\u5b9d\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u5de5\u5177\u4e0a\u4f20\u817e\u8baf\u4e91\u65f6\u65e0\u6cd5\u51c6\u786e\u5224\u65ad\u662f\u5426\u4e0a\u4f20\u6210\u529f\uff0c\u8bf7\u4f7f\u7528\u771f\u673a\u6d4b\u8bd5"),i(new Error(t.errMsg||"uploadFile:fail"))}});"function"==typeof t.onUploadProgress&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((function(e){t.onUploadProgress({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}}]),t}(),pe={setItem:function(t,e){ut.setStorageSync(t,e)},getItem:function(t){return ut.getStorageSync(t)},removeItem:function(t){ut.removeStorageSync(t)},clear:function(){ut.clearStorageSync()}},me={genAdapter:function(){return{root:{},reqClass:_e,localStorage:pe,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};fe.useAdapters(me);var ge=fe,ve=ge.init;ge.init=function(t){t.env=t.spaceId;var e=ve.call(this,t);e.config.provider="tencent",e.config.spaceId=t.spaceId;var i=e.auth;return e.auth=function(t){var e=i.call(this,t);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((function(t){e[t]=nt(e[t]).bind(e)})),e},e.customAuth=e.auth,e};var be=ge;function ye(){return{token:ut.getStorageSync("uni_id_token")||ut.getStorageSync("uniIdToken"),tokenExpired:ut.getStorageSync("uni_id_token_expired")}}function we(){U&&"h5"===G&&uni.getStorageSync("__LAST_DCLOUD_APPID")!==W&&(uni.setStorageSync("__LAST_DCLOUD_APPID",W),console.warn("\u68c0\u6d4b\u5230\u5f53\u524d\u9879\u76ee\u4e0e\u4e0a\u6b21\u8fd0\u884c\u5230\u6b64\u7aef\u53e3\u7684\u9879\u76ee\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u6e05\u7406uni-id\u4fdd\u5b58\u7684token\u4fe1\u606f\uff08\u4ec5\u5f00\u53d1\u8c03\u8bd5\u65f6\u751f\u6548\uff09"),ut.removeStorageSync("uni_id_token"),ut.removeStorageSync("uniIdToken"),ut.removeStorageSync("uni_id_token_expired"))}var $e=function(t){$(i,t);var e=x(i);function i(){return w(this,i),e.apply(this,arguments)}return g(i,[{key:"getAccessToken",value:function(){var t=this;return new Promise((function(e,i){var n="Anonymous_Access_token";t.setAccessToken(n),e(n)}))}},{key:"setupRequest",value:function(t,e){var i=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),n={"Content-Type":"application/json"};"auth"!==e&&(i.token=this.accessToken,n["x-basement-token"]=this.accessToken),n["x-serverless-sign"]=ct.sign(i,this.config.clientSecret);var s=rt();n["x-client-info"]=JSON.stringify(s);var a=ye(),r=a.token;return n["x-client-token"]=r,{url:this.config.requestUrl,method:"POST",data:i,dataType:"json",header:JSON.parse(JSON.stringify(n))}}},{key:"uploadFileToOSS",value:function(t){var e=this,i=t.url,n=t.formData,s=t.name,a=t.filePath,r=t.fileType,o=t.onUploadProgress;return new Promise((function(t,c){var u=e.adapter.uploadFile({url:i,formData:n,name:s,filePath:a,fileType:r,success:function(e){e&&e.statusCode<400?t(e):c(new at({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){c(new at({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof o&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(t){o({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(t){var e,i=this,n=t.filePath,s=t.cloudPath,a=t.fileType,r=void 0===a?"image":a,o=t.onUploadProgress;if(!s)throw new at({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});return this.getOSSUploadOptionsFromPath({cloudPath:s}).then((function(t){var s=t.result,a=s.url,c=s.formData,u=s.name;e=t.result.fileUrl;var l={url:a,formData:c,name:u,filePath:n,fileType:r};return i.uploadFileToOSS(Object.assign({},l,{onUploadProgress:o}))})).then((function(){return i.reportOSSUpload({cloudPath:s})})).then((function(t){return new Promise((function(i,s){t.success?i({success:!0,filePath:n,fileID:e}):s(new at({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}},{key:"deleteFile",value:function(t){var e=t.fileList,i={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(i))}},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList,i={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(i))}}]),i}(ht),xe={init:function(t){var e=new $e(t),i={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return i},e.customAuth=e.auth,e}};function ke(t){var e,i=t.data;e=rt();var n=JSON.parse(JSON.stringify(i||{}));if(Object.assign(n,{clientInfo:e}),!n.uniIdToken){var s=ye(),a=s.token;a&&(n.uniIdToken=a)}return n}function Ce(t){var e=this,i=t.name,n=t.data,s=this.localAddress,a=this.localPort,r={aliyun:"aliyun",tencent:"tcb"}[this.config.provider],o=this.config.spaceId,c="http://".concat(s,":").concat(a,"/system/check-function"),u="http://".concat(s,":").concat(a,"/cloudfunctions/").concat(i);return new Promise((function(t,e){ut.request({method:"POST",url:c,data:{name:i,platform:G,provider:r,spaceId:o},timeout:3e3,success:function(e){t(e)},fail:function(){t({data:{code:"NETWORK_ERROR",message:"\u8fde\u63a5\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u5ba2\u6237\u7aef\u662f\u5426\u548c\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u5df2\u90e8\u7f72\u7684\u4e91\u51fd\u6570\u3002"}})}})})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,i=e||{},n=i.code,s=i.message;return{code:0===n?0:n||"SYS_ERR",message:s||"SYS_ERR"}})).then((function(t){var s=t.code,a=t.message;if(0!==s){switch(s){case"MODULE_ENCRYPTED":console.error("\u6b64\u4e91\u51fd\u6570\uff08".concat(i,"\uff09\u4f9d\u8d56\u52a0\u5bc6\u516c\u5171\u6a21\u5757\u4e0d\u53ef\u672c\u5730\u8c03\u8bd5\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u4e91\u7aef\u5df2\u90e8\u7f72\u7684\u4e91\u51fd\u6570"));break;case"FUNCTION_ENCRYPTED":console.error("\u6b64\u4e91\u51fd\u6570\uff08".concat(i,"\uff09\u5df2\u52a0\u5bc6\u4e0d\u53ef\u672c\u5730\u8c03\u8bd5\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u4e91\u7aef\u5df2\u90e8\u7f72\u7684\u4e91\u51fd\u6570"));break;case"ACTION_ENCRYPTED":console.error(a||"\u9700\u8981\u8bbf\u95ee\u52a0\u5bc6\u7684uni-clientDB-action\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u4e91\u7aef\u73af\u5883");break;case"NETWORK_ERROR":var o="\u8fde\u63a5\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u5ba2\u6237\u7aef\u662f\u5426\u548c\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b";throw console.error(o),new Error(o);case"SWITCH_TO_CLOUD":break;default:var c="\u68c0\u6d4b\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u51fa\u73b0\u9519\u8bef\uff1a".concat(a,"\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u73af\u5883\u6216\u91cd\u542f\u5ba2\u6237\u7aef\u518d\u8bd5");throw console.error(c),new Error(c)}return e._originCallFunction({name:i,data:n})}return new Promise((function(t,i){var s=ke.call(e,{data:n});ut.request({method:"POST",url:u,data:{provider:r,platform:G,param:s},success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.statusCode,s=e.data;return!n||n>=400?i(new at({code:s.code||"SYS_ERR",message:s.message||"request:fail"})):t({result:s})},fail:function(t){i(new at({code:t.code||t.errCode||"SYS_ERR",message:t.message||t.errMsg||"request:fail"}))}})}))}))}var Se=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"\uff0c\u4e91\u51fd\u6570[{functionName}]\u5728\u4e91\u7aef\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u6b64\u4e91\u51fd\u6570\u540d\u79f0\u662f\u5426\u6b63\u786e\u4ee5\u53ca\u8be5\u4e91\u51fd\u6570\u662f\u5426\u5df2\u4e0a\u4f20\u5230\u670d\u52a1\u7a7a\u95f4",mode:"append"}],Oe=/[\\^$.*+?()[\]{}|]/g,Ie=RegExp(Oe.source);function Pe(t,e,i){return t.replace(new RegExp((n=e)&&Ie.test(n)?n.replace(Oe,"\\$&"):n,"g"),i);var n}function Te(t){var e=t.functionName,i=t.result,n=t.logPvd;if(this.config.useDebugFunction&&i&&i.requestId){var s=JSON.stringify({spaceId:this.config.spaceId,functionName:e,requestId:i.requestId});console.log("[".concat(n,"-request]").concat(s,"[/").concat(n,"-request]"))}}function De(t){var e=t.callFunction,i=function(i){var n=this,s=i.name;i.data=ke.call(t,{data:i.data});var a={aliyun:"aliyun",tencent:"tcb"}[this.config.provider];return e.call(this,i).then((function(t){return Te.call(n,{functionName:s,result:t,logPvd:a}),Promise.resolve(t)}),(function(t){return Te.call(n,{functionName:s,result:t,logPvd:a}),t&&t.message&&(t.message=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,i=void 0===e?"":e,n=t.extraInfo,s=void 0===n?{}:n,a=t.formatter,r=void 0===a?[]:a,o=0;o<r.length;o++){var c=r[o],u=c.rule,l=c.content,d=c.mode,f=i.match(u);if(f){for(var h=l,_=1;_<f.length;_++)h=Pe(h,"{$".concat(_,"}"),f[_]);for(var p in s)h=Pe(h,"{".concat(p,"}"),s[p]);return"replace"===d?h:i+h}}return i}({message:"[".concat(i.name,"]: ").concat(t.message),formatter:Se,extraInfo:{functionName:s}})),Promise.reject(t)}))};t.callFunction=function(e){var n;return U&&t.debugInfo&&!t.debugInfo.forceRemote&&q?(t._originCallFunction||(t._originCallFunction=i),n=Ce.call(this,e)):n=i.call(this,e),Object.defineProperty(n,"result",{get:function(){return console.warn("\u5f53\u524d\u8fd4\u56de\u7ed3\u679c\u4e3aPromise\u7c7b\u578b\uff0c\u4e0d\u53ef\u76f4\u63a5\u8bbf\u95ee\u5176result\u5c5e\u6027\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\uff1ahttps://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{}}}),n}}var je=Symbol("CLIENT_DB_INTERNAL");function Ee(t,e){return t.then="DoNotReturnProxyWithAFunctionNamedThen",t._internalType=je,t.__ob__=void 0,new Proxy(t,{get:function(t,i,n){if("_uniClient"===i)return null;if(i in t||"string"!=typeof i){var s=t[i];return"function"==typeof s?s.bind(t):s}return e.get(t,i,n)}})}function Le(t){return{on:function(e,i){t[e]=t[e]||[],t[e].indexOf(i)>-1||t[e].push(i)},off:function(e,i){t[e]=t[e]||[];var n=t[e].indexOf(i);-1!==n&&t[e].splice(n,1)}}}var Ae=["db.Geo","db.command","command.aggregate"];function Me(t,e){return Ae.indexOf("".concat(t,".").concat(e))>-1}function Re(t){switch(B(t)){case"array":return t.map((function(t){return Re(t)}));case"object":return t._internalType===je||Object.keys(t).forEach((function(e){t[e]=Re(t[e])})),t;case"regexp":return{$regexp:{source:t.source,flags:t.flags}};case"date":return{$date:t.toISOString()};default:return t}}var Ne=function(){function t(e,i,n){w(this,t),this.content=e,this.prevStage=i||null,this.udb=null,this._database=n}return g(t,[{key:"toJSON",value:function(){for(var t=this,e=[t.content];t.prevStage;)t=t.prevStage,e.push(t.content);return{$db:e.reverse().map((function(t){return{$method:t.$method,$param:Re(t.$param)}}))}}},{key:"getAction",value:function(){var t=this.toJSON().$db.find((function(t){return"action"===t.$method}));return t&&t.$param&&t.$param[0]}},{key:"getCommand",value:function(){return{$db:this.toJSON().$db.filter((function(t){return"action"!==t.$method}))}}},{key:"get",value:function(){return this._send("get",Array.from(arguments))}},{key:"add",value:function(){return this._send("add",Array.from(arguments))}},{key:"remove",value:function(){return this._send("remove",Array.from(arguments))}},{key:"update",value:function(){return this._send("update",Array.from(arguments))}},{key:"end",value:function(){return this._send("end",Array.from(arguments))}},{key:"set",value:function(){throw new Error("clientDB\u7981\u6b62\u4f7f\u7528set\u65b9\u6cd5")}},{key:"_send",value:function(t,e){var i=this.getAction(),n=this.getCommand();if(n.$db.push({$method:t,$param:Re(e)}),U){var s=n.$db.find((function(t){return"collection"===t.$method})),a=s&&s.$param;a&&1===a.length&&"string"==typeof s.$param[0]&&s.$param[0].indexOf(",")>-1&&console.warn("\u68c0\u6d4b\u5230\u4f7f\u7528JQL\u8bed\u6cd5\u8054\u8868\u67e5\u8be2\u65f6\uff0c\u672a\u4f7f\u7528getTemp\u5148\u8fc7\u6ee4\u4e3b\u8868\u6570\u636e\uff0c\u5728\u4e3b\u8868\u6570\u636e\u91cf\u5927\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u67e5\u8be2\u7f13\u6162\u3002\n- \u5982\u4f55\u4f18\u5316\u8bf7\u53c2\u8003\u6b64\u6587\u6863\uff1ahttps://uniapp.dcloud.net.cn/uniCloud/jql?id=lookup-with-temp \n- \u5982\u679c\u4e3b\u8868\u6570\u636e\u91cf\u5f88\u5c0f\u8bf7\u5ffd\u7565\u6b64\u4fe1\u606f\uff0c\u9879\u76ee\u53d1\u884c\u65f6\u4e0d\u4f1a\u51fa\u73b0\u6b64\u63d0\u793a\u3002")}return this._database._callCloudFunction({action:i,command:n})}},{key:"useAggregate",get:function(){for(var t=this,e=!1;t.prevStage;){t=t.prevStage;var i=t.content.$method;if("aggregate"===i||"pipeline"===i){e=!0;break}}return e}},{key:"count",get:function(){if(!this.useAggregate)return function(){return this._send("count",Array.from(arguments))};var t=this;return function(){return Be({$method:"count",$param:Re(Array.from(arguments))},t,this._database)}}}]),t}();function Be(t,e,i){return Ee(new Ne(t,e,i),{get:function(t,e){var n="db";return t&&t.content&&(n=t.content.$method),Me(n,e)?Be({$method:e},t,i):function(){return Be({$method:e,$param:Re(Array.from(arguments))},t,i)}}})}function Fe(t){var e=t.path,i=t.method;return function(){function t(){w(this,t),this.param=Array.from(arguments)}return g(t,[{key:"toJSON",value:function(){return{$newDb:[].concat(u(e.map((function(t){return{$method:t}}))),[{$method:i,$param:this.param}])}}}]),t}()}var ze,Ue=function(t){$(i,t);var e=x(i);function i(){return w(this,i),e.apply(this,arguments)}return g(i,[{key:"_callCloudFunction",value:function(t){var e=this,i=t.action,n=t.command,s=t.multiCommand,a=t.queryList;function r(t,e){if(s&&a)for(var i=0;i<a.length;i++){var n=a[i];n.udb&&"function"==typeof n.udb.setResult&&(e?n.udb.setResult(e):n.udb.setResult(t.result.dataList[i]))}}var o=et(it("database","invoke")),c=this._uniClient;return o.then((function(){return c.callFunction({name:"DCloud-clientDB",type:N,data:{action:i,command:n,multiCommand:s}})})).then((function(t){var i=t.result,n=i.code,s=i.message,a=i.token,o=i.tokenExpired,c=i.systemInfo,u=void 0===c?[]:c;if(u)for(var l=0;l<u.length;l++){var d=u[l],f=d.level,h=d.message,_=d.detail,p=console["app-plus"===G&&"warn"===f?"error":f]||console.log,m="[System Info]"+h;_&&(m="".concat(m,"\n\u8be6\u7ec6\u4fe1\u606f\uff1a").concat(_)),p(m)}if(n){var g=new at({message:s,code:n,requestId:t.requestId});return e._callback("error",[g]),Promise.reject(g)}a&&o&&(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.token,i=t.tokenExpired;e&&ut.setStorageSync("uni_id_token",e),i&&ut.setStorageSync("uni_id_token_expired",i)}({token:a,tokenExpired:o}),e._callbackAuth("refreshToken",[{token:a,tokenExpired:o}]),e._callback("refreshToken",[{token:a,tokenExpired:o}]));var v=t.result.affectedDocs;return"number"==typeof v&&Object.defineProperty(t.result,"affectedDocs",{get:function(){return console.warn("affectedDocs\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528inserted/deleted/updated/data.length\u66ff\u4ee3"),v}}),et(it("database","success"),t).then((function(){return et(it("database","complete"),t)})).then((function(){return r(t,null),Promise.resolve(t)}))}),(function(t){var i=new at({code:t.code||"SYSTEM_ERROR",message:t.message,requestId:t.requestId});return e._callback("error",[i]),/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(t.message)&&console.warn("clientDB\u672a\u521d\u59cb\u5316\uff0c\u8bf7\u5728web\u63a7\u5236\u53f0\u4fdd\u5b58\u4e00\u6b21schema\u4ee5\u5f00\u542fclientDB"),et(it("database","fail"),t).then((function(){return et(it("database","complete"),t)})).then((function(){return r(null,t),Promise.reject(t)}))}))}}]),i}(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.uniClient,n=void 0===i?{}:i;w(this,t),this._uniClient=n,this._authCallBacks={},this._dbCallBacks={},n.isDefault&&(this._dbCallBacks=Y("_globalUniCloudDatabaseCallback")),this.auth=Le(this._authCallBacks),Object.assign(this,Le(this._dbCallBacks)),this.env=Ee({},{get:function(t,e){return{$env:e}}}),this.Geo=Ee({},{get:function(t,e){return Fe({path:["Geo"],method:e})}}),this.serverDate=Fe({path:[],method:"serverDate"}),this.RegExp=Fe({path:[],method:"RegExp"})}return g(t,[{key:"getCloudEnv",value:function(t){if("string"!=typeof t||!t.trim())throw new Error("getCloudEnv\u53c2\u6570\u9519\u8bef");return{$env:t.replace("$cloudEnv_","")}}},{key:"_callback",value:function(t,e){var i=this._dbCallBacks;i[t]&&i[t].forEach((function(t){t.apply(void 0,u(e))}))}},{key:"_callbackAuth",value:function(t,e){var i=this._authCallBacks;i[t]&&i[t].forEach((function(t){t.apply(void 0,u(e))}))}},{key:"multiSend",value:function(){var t=Array.from(arguments),e=t.map((function(t){var e=t.getAction(),i=t.getCommand();if("getTemp"!==i.$db[i.$db.length-1].$method)throw new Error("multiSend\u53ea\u652f\u6301\u5b50\u547d\u4ee4\u5185\u4f7f\u7528getTemp");return{action:e,command:i}}));return this._callCloudFunction({multiCommand:e,queryList:t})}}]),t}());function Ge(t){t.database=function(e){if(e&&Object.keys(e).length>0)return t.init(e).database();if(this._database)return this._database;var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ee(new t(e),{get:function(t,e){return Me("db",e)?Be({$method:e},null,t):function(){return Be({$method:e,$param:Re(Array.from(arguments))},null,t)}}})}(Ue,{uniClient:t});return this._database=i,i}}var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",qe=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function He(){var t,e,i=ye().token||"",n=i.split(".");if(!i||3!==n.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{t=JSON.parse((e=n[1],decodeURIComponent(ze(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(i){throw new Error("\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4fe1\u606f\u51fa\u9519\uff0c\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a"+i.message)}return t.tokenExpired=1e3*t.exp,delete t.exp,delete t.iat,t}ze="function"!=typeof atob?function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!qe.test(t))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var e;t+="==".slice(2-(3&t.length));for(var i,n,s="",a=0;a<t.length;)e=Ve.indexOf(t.charAt(a++))<<18|Ve.indexOf(t.charAt(a++))<<12|(i=Ve.indexOf(t.charAt(a++)))<<6|(n=Ve.indexOf(t.charAt(a++))),s+=64===i?String.fromCharCode(e>>16&255):64===n?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return s}:atob;var We=j(E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="chooseAndUploadFile:ok",s="chooseAndUploadFile:fail";function a(t,e){return t.tempFiles.forEach((function(t,i){t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+i+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((function(t){return t.path}))),t}function r(t,e,n){var s=n.onChooseFile,a=n.onUploadProgress;return e.then((function(t){if(s){var e=s(t);if(void 0!==e)return Promise.resolve(e).then((function(e){return void 0===e?t:e}))}return t})).then((function(e){return!1===e?{errMsg:i,tempFilePaths:[],tempFiles:[]}:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3?arguments[3]:void 0;(e=Object.assign({},e)).errMsg=i;var a=e.tempFiles,r=a.length,o=0;return new Promise((function(i){for(;o<n;)c();function c(){var n=o++;if(n>=r)!a.find((function(t){return!t.url&&!t.errMsg}))&&i(e);else{var u=a[n];t.uploadFile({filePath:u.path,cloudPath:u.cloudPath,fileType:u.fileType,onUploadProgress:function(t){t.index=n,t.tempFile=u,t.tempFilePath=u.path,s&&s(t)}}).then((function(t){u.url=t.fileID,n<r&&c()})).catch((function(t){u.errMsg=t.errMsg||t.message,n<r&&c()}))}}}))}(t,e,5,a)}))}e.initChooseAndUploadFile=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};return"image"===e.type?r(t,function(t){var e=t.count,i=t.sizeType,n=t.sourceType,r=void 0===n?["album","camera"]:n,o=t.extension;return new Promise((function(t,n){uni.chooseImage({count:e,sizeType:i,sourceType:r,extension:o,success:function(e){t(a(e,"image"))},fail:function(t){n({errMsg:t.errMsg.replace("chooseImage:fail",s)})}})}))}(e),e):"video"===e.type?r(t,function(t){var e=t.camera,i=t.compressed,n=t.maxDuration,r=t.sourceType,o=void 0===r?["album","camera"]:r,c=t.extension;return new Promise((function(t,r){uni.chooseVideo({camera:e,compressed:i,maxDuration:n,sourceType:o,extension:c,success:function(e){var i=e.tempFilePath,n=e.duration,s=e.size,r=e.height,o=e.width;t(a({errMsg:"chooseVideo:ok",tempFilePaths:[i],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:i,size:s,type:e.tempFile&&e.tempFile.type||"",width:o,height:r,duration:n,fileType:"video",cloudPath:""}]},"video"))},fail:function(t){r({errMsg:t.errMsg.replace("chooseVideo:fail",s)})}})}))}(e),e):r(t,function(t){var e=t.count,i=t.extension;return new Promise((function(t,r){var o=uni.chooseFile;if("undefined"!=typeof n&&"function"==typeof n.chooseMessageFile&&(o=n.chooseMessageFile),"function"!=typeof o)return r({errMsg:s+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});o({type:"all",count:e,extension:i,success:function(e){t(a(e))},fail:function(t){r({errMsg:t.errMsg.replace("chooseFile:fail",s)})}})}))}(e),e)}}}))),Ke="manual";function Je(t){return{props:{localdata:{type:Array,default:function(){return[]}},options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}},created:function(){var t=this;this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((function(i){e.push(t[i])})),e}),(function(e,i){if(t.loadtime!==Ke){for(var n=!1,s=[],a=2;a<e.length;a++)e[a]!==i[a]&&(s.push(e[a]),n=!0);e[0]!==i[0]&&(t.mixinDatacomPage.current=t.pageCurrent),t.mixinDatacomPage.size=t.pageSize,t.onMixinDatacomPropsChange(n,s)}}))},methods:{onMixinDatacomPropsChange:function(t,e){},mixinDatacomEasyGet:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getone,n=void 0!==i&&i,s=e.success,a=e.fail;this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then((function(e){t.mixinDatacomLoading=!1;var i=e.result,a=i.data,r=i.count;t.getcount&&(t.mixinDatacomPage.count=r),t.mixinDatacomHasMore=a.length<t.pageSize;var o=n?a.length?a[0]:void 0:a;t.mixinDatacomResData=o,s&&s(o)})).catch((function(e){t.mixinDatacomLoading=!1,t.mixinDatacomErrorMessage=e,a&&a(e)})))},mixinDatacomGet:function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.database(this.spaceInfo),s=i.action||this.action;s&&(n=n.action(s));var a=i.collection||this.collection;n=Array.isArray(a)?(e=n).collection.apply(e,u(a)):n.collection(a);var r=i.where||this.where;r&&Object.keys(r).length&&(n=n.where(r));var o=i.field||this.field;o&&(n=n.field(o));var c=i.foreignKey||this.foreignKey;c&&(n=n.foreignKey(c));var l=i.groupby||this.groupby;l&&(n=n.groupBy(l));var d=i.groupField||this.groupField;d&&(n=n.groupField(d)),!0===(void 0!==i.distinct?i.distinct:this.distinct)&&(n=n.distinct());var f=i.orderby||this.orderby;f&&(n=n.orderBy(f));var h=void 0!==i.pageCurrent?i.pageCurrent:this.mixinDatacomPage.current,_=void 0!==i.pageSize?i.pageSize:this.mixinDatacomPage.size,p=void 0!==i.getcount?i.getcount:this.getcount,m=void 0!==i.gettree?i.gettree:this.gettree,g=void 0!==i.gettreepath?i.gettreepath:this.gettreepath,v={getCount:p},b={limitLevel:void 0!==i.limitlevel?i.limitlevel:this.limitlevel,startWith:void 0!==i.startwith?i.startwith:this.startwith};return m&&(v.getTree=b),g&&(v.getTreePath=b),n=n.skip(_*(h-1)).limit(_).get(v),n}}}}function Ye(t){return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.customUI=e.customUI||t.customUI,Object.assign(t.loadingOptions,e.loadingOptions),Object.assign(t.errorOptions,e.errorOptions),t}({customUI:!1,loadingOptions:{text:"\u52a0\u8f7d\u4e2d...",mask:!0},errorOptions:{type:"modal",retry:!1}},i);var n=i,a=n.customUI,r=n.loadingOptions,o=n.errorOptions,u=!a;return new Proxy({},{get:function(i,n){return function(){var i=c(s.default.mark((function i(){var l,d,f,h,_,p,m,g,v,b,y=arguments;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(u&&uni.showLoading({title:r.title,mask:r.mask}),d=y.length,f=new Array(d),h=0;h<d;h++)f[h]=y[h];return i.prev=2,i.next=5,t.callFunction({name:e,type:R,data:{method:n,params:f}});case 5:l=i.sent,i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](2),l={result:i.t0};case 11:if(_=l.result||{},p=_.errCode,m=_.errMsg,u&&uni.hideLoading(),!p){i.next=28;break}if(!u){i.next=26;break}if("toast"!==o.type){i.next=18;break}uni.showToast({title:m,icon:"none"}),i.next=26;break;case 18:if("modal"===o.type){i.next=20;break}throw new Error("Invalid errorOptions.type: ".concat(o.type));case 20:return i.next=22,c(s.default.mark((function t(){var e,i,n,a,r,o,c=arguments;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},i=e.title,n=e.content,a=e.showCancel,r=e.cancelText,o=e.confirmText,t.abrupt("return",new Promise((function(t,e){uni.showModal({title:i,content:n,showCancel:a,cancelText:r,confirmText:o,success:function(e){t(e)},fail:function(){t({confirm:!1,cancel:!0})}})})));case 2:case"end":return t.stop()}}),t)})))({title:"\u63d0\u793a",content:m,showCancel:o.retry,cancelText:"\u53d6\u6d88",confirmText:o.retry?"\u91cd\u8bd5":"\u786e\u5b9a"});case 22:if(g=i.sent,v=g.confirm,!o.retry||!v){i.next=26;break}return i.abrupt("return",a.apply(void 0,f));case 26:throw b=new at({code:p,message:m,requestId:l.requestId}),b.detail=l.result,b;case 28:return i.abrupt("return",l.result);case 29:case"end":return i.stop()}}),i,null,[[2,8]])})));function a(){return i.apply(this,arguments)}return a}()}})}}function Ze(t,e){return Xe.apply(this,arguments)}function Xe(){return Xe=c(s.default.mark((function t(e,i){var n,a,r;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="http://".concat(e,":").concat(i,"/system/ping"),t.prev=1,t.next=4,r={url:n,timeout:500},new Promise((function(t,e){ut.request(b(b({},r),{},{success:function(e){t(e)},fail:function(t){e(t)}}))}));case 4:return a=t.sent,t.abrupt("return",!(!a.data||0!==a.data.code));case 8:return t.prev=8,t.t0=t["catch"](1),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),Xe.apply(this,arguments)}function Qe(t){if(!t.initUniCloudStatus||"rejected"===t.initUniCloudStatus){var e,i=Promise.resolve();e=1,i=new Promise((function(t,i){setTimeout((function(){t()}),e)})),t.isReady=!1,t.isDefault=!1;var n=t.auth();t.initUniCloudStatus="pending",t.initUniCloud=i.then((function(){return n.getLoginState()})).then((function(t){return t?Promise.resolve():n.signInAnonymously()})).then((function(){if(!U)return Promise.resolve();if(U&&t.debugInfo){var e=t.debugInfo,i=e.address,n=e.servePort;return function(){var t=c(s.default.mark((function t(e,i){var n,a,r;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<e.length)){t.next=11;break}return r=e[a],t.next=5,Ze(r,i);case 5:if(!t.sent){t.next=8;break}return n=r,t.abrupt("break",11);case 8:a++,t.next=1;break;case 11:return t.abrupt("return",{address:n,port:i});case 12:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()(i,n)}})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.address,n=e.port;if(!U)return Promise.resolve();if(i)t.localAddress=i,t.localPort=n;else if(t.debugInfo){var s=console["app-plus"===G?"error":"warn"],a="";"remote"===t.debugInfo.initialLaunchType?(t.debugInfo.forceRemote=!0,a="\u5f53\u524d\u5ba2\u6237\u7aef\u548cHBuilderX\u4e0d\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\uff08\u6216\u5176\u4ed6\u7f51\u7edc\u539f\u56e0\u65e0\u6cd5\u8fde\u63a5HBuilderX\uff09\uff0cuniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u4e0d\u5bf9\u5f53\u524d\u5ba2\u6237\u7aef\u751f\u6548\u3002\n- \u5982\u679c\u4e0d\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u76f4\u63a5\u5ffd\u7565\u6b64\u4fe1\u606f\u3002\n- \u5982\u9700\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u5c06\u5ba2\u6237\u7aef\u4e0e\u4e3b\u673a\u8fde\u63a5\u5230\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u5e76\u91cd\u65b0\u8fd0\u884c\u5230\u5ba2\u6237\u7aef\u3002\n- \u5982\u679c\u5728HBuilderX\u5f00\u542f\u7684\u72b6\u6001\u4e0b\u5207\u6362\u8fc7\u7f51\u7edc\u73af\u5883\uff0c\u8bf7\u91cd\u542fHBuilderX\u540e\u518d\u8bd5\n- \u68c0\u67e5\u7cfb\u7edf\u9632\u706b\u5899\u662f\u5426\u62e6\u622a\u4e86HBuilderX\u81ea\u5e26\u7684nodejs"):a="\u65e0\u6cd5\u8fde\u63a5uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u68c0\u67e5\u5f53\u524d\u5ba2\u6237\u7aef\u662f\u5426\u4e0e\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u3002\n- \u5982\u9700\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u5c06\u5ba2\u6237\u7aef\u4e0e\u4e3b\u673a\u8fde\u63a5\u5230\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u5e76\u91cd\u65b0\u8fd0\u884c\u5230\u5ba2\u6237\u7aef\u3002\n- \u5982\u679c\u5728HBuilderX\u5f00\u542f\u7684\u72b6\u6001\u4e0b\u5207\u6362\u8fc7\u7f51\u7edc\u73af\u5883\uff0c\u8bf7\u91cd\u542fHBuilderX\u540e\u518d\u8bd5\n- \u68c0\u67e5\u7cfb\u7edf\u9632\u706b\u5899\u662f\u5426\u62e6\u622a\u4e86HBuilderX\u81ea\u5e26\u7684nodejs","h5"===G&&(a+="\n- \u90e8\u5206\u6d4f\u89c8\u5668\u5f00\u542f\u8282\u6d41\u6a21\u5f0f\u4e4b\u540e\u8bbf\u95ee\u672c\u5730\u5730\u5740\u53d7\u9650\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u542f\u7528\u4e86\u8282\u6d41\u6a21\u5f0f"),s(a)}})).then((function(){we(),t.isReady=!0,t.initUniCloudStatus="fulfilled"})).catch((function(e){console.error(e),t.initUniCloudStatus="rejected"}))}}var ti=new(function(){function t(){w(this,t)}return g(t,[{key:"init",value:function(t){var e={},i=!1!==t.debugFunction&&U&&("h5"===G&&navigator.userAgent.indexOf("HBuilderX")>0||"app-plus"===G);switch(t.provider){case"tencent":e=be.init(Object.assign(t,{useDebugFunction:i}));break;case"aliyun":e=_t.init(Object.assign(t,{useDebugFunction:i}));break;case"private":e=xe.init(Object.assign(t,{useDebugFunction:i}));break;default:throw new Error("\u672a\u63d0\u4f9b\u6b63\u786e\u7684provider\u53c2\u6570")}var n=V;return U&&n&&!n.code&&(e.debugInfo=n),Qe(e),e.reInit=function(){Qe(this)},De(e),function(t){var e=t.uploadFile;t.uploadFile=function(t){return e.call(this,t)}}(e),Ge(e),function(t){t.getCurrentUserInfo=He,t.chooseAndUploadFile=We.initChooseAndUploadFile(t),Object.assign(t,{get mixinDatacom(){return Je(t)}}),t.importObject=Ye(t)}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((function(t){if(e[t]){var i=e[t];e[t]=function(){return e.reInit(),i.apply(e,Array.from(arguments))},e[t]=nt(e[t],t).bind(e)}})),e.init=this.init,e}}]),t}());(function(){var t=q,e={};if(1===t.length)e=t[0],ti=ti.init(e),ti.isDefault=!0;else{var i,n=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"];i=t&&t.length>0?"\u5e94\u7528\u6709\u591a\u4e2a\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u901a\u8fc7uniCloud.init\u65b9\u6cd5\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u670d\u52a1\u7a7a\u95f4":H?"\u5e94\u7528\u672a\u5173\u8054\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u5728uniCloud\u76ee\u5f55\u53f3\u952e\u5173\u8054\u670d\u52a1\u7a7a\u95f4":"uni-app cli\u9879\u76ee\u5185\u4f7f\u7528uniCloud\u9700\u8981\u4f7f\u7528HBuilderX\u7684\u8fd0\u884c\u83dc\u5355\u8fd0\u884c\u9879\u76ee\uff0c\u4e14\u9700\u8981\u5728uniCloud\u76ee\u5f55\u5173\u8054\u670d\u52a1\u7a7a\u95f4",n.forEach((function(t){ti[t]=function(){return console.error(i),Promise.reject(new at({code:"SYS_ERR",message:i}))}}))}Object.assign(ti,{get mixinDatacom(){return Je(ti)}}),ti.addInterceptor=Q,ti.removeInterceptor=tt,U&&"h5"===G&&(window.uniCloud=ti)})();var ei=ti;e.default=ei}).call(this,i("c8ba"),i("fe07")["default"])},aa34:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","tian-map-location"),class:t._$s(0,"c",[t.options.display]),attrs:{_i:0}},[n("map",{staticClass:t._$s(1,"sc","map"),style:t._$s(1,"s",{height:t.options.height+"rpx",width:t.options.width+"rpx"}),attrs:{id:"map",scale:t._$s(1,"a-scale",t.options.scale),latitude:t._$s(1,"a-latitude",t.latitude),longitude:t._$s(1,"a-longitude",t.longitude),_i:1},on:{regionchange:t.onRegionchange}},[n("cover-image",{staticClass:t._$s(2,"sc","map-center-icon"),style:t._$s(2,"s",{top:t.options.height/2-32+"rpx"}),attrs:{src:t._$s(2,"a-src",i("48ea")),_i:2}})]),n("view",{staticClass:t._$s(3,"sc","address"),attrs:{_i:3}},[n("text",[t._v(t._$s(4,"t0-0",t._s(t.name)))])])])},a=[]},ab42:function(t,e,i){"use strict";i.r(e);var n=i("9090"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},ab9b:function(t,e,i){"use strict";i.r(e);var n=i("73cf"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},abe9:function(t,e,i){"use strict";(function(t,i){function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s="opendb-search-log",a="opendb-mall-goods",r="name",o="name,content,goods_desc,goods_sn",c="__local_search_history",u=function(t){for(var e=t.length-1;e>=0;e--){var i=t.indexOf(t[e]),n=t.lastIndexOf(t[e]);i!=n&&t.splice(n,1)}return t};function l(t,e,i){var n=t,s=null,a=!0;return i&&n(),function(){var t=arguments,i=this;a&&(a=!1,n.apply(i,t)),s&&clearTimeout(s),s=setTimeout((function(){clearTimeout(s),s=null,n.apply(i,t)}),e||200)}}var d={data:function(){return{mallGoodsDbName:a,searchLogDbName:s,hasText:0,localSearchList:uni.getStorageSync(c),localSearchListDel:!1,netHotListIsHide:!1,searchText:"",iconColor:"#999999",associativeList:[],keyBoardPopup:!1,hotWorld:"apple",focus:!0,speechEngine:"iFly"}},onLoad:function(t){this.hasText=t.text,t.text&&(this.searchText=getApp().globalData.searchText)},created:function(){var e=this;this.db=t.database(),this.searchLogDb=this.db.collection(this.searchLogDbName),this.mallGoodsDb=this.db.collection(this.mallGoodsDbName),uni.onKeyboardHeightChange((function(t){e.keyBoardPopup=0!==t.height}))},methods:{clear:function(t){i("log","res: ",t," at pages/search/search.vue:178")},confirm:function(t){this.search(t.value)},cancel:function(t){uni.hideKeyboard(),uni.navigateBack({delta:1})},search:function(t){(t||this.hotWorld)&&(t?(this.searchText!==t&&(this.searchText=t),this.localSearchListManage(t),this.searchLogDbAdd(t)):this.hotWorld&&(this.searchText=this.hotWorld),uni.hideKeyboard(),this.loadList(this.searchText))},localSearchListManage:function(t){var e=uni.getStorageSync(c);e.length?(this.localSearchList.unshift(t),u(this.localSearchList),this.localSearchList.length>10&&this.localSearchList.pop()):this.localSearchList=[t],uni.setStorageSync(c,this.localSearchList)},LocalSearchListClear:function(){var t=this;uni.showModal({content:"\u786e\u8ba4\u6e05\u7a7a\u641c\u7d22\u5386\u53f2\u5417\uff1f",confirmText:"\u5220\u9664",confirmColor:"red",cancelColor:"#808080",success:function(e){e.confirm&&(t.localSearchListDel=!1,t.localSearchList=[],uni.removeStorageSync(c))}})},LocalSearchlistItemClick:function(t,e){if(this.localSearchListDel)return this.localSearchList.splice(e,1),uni.setStorageSync(c,this.localSearchList),void(this.localSearchList.length||(this.localSearchListDel=!1));this.search(t)},searchHotRefresh:function(){this.$refs.udb.refresh()},speech:function(){var t=this;plus.speech.startRecognize({engine:this.speechEngine,punctuation:!1,timeout:1e4},(function(e){e=e instanceof Array?e[0]:e,t.search(e)}),(function(t){i("error","\u8bed\u97f3\u8bc6\u522b\u9519\u8bef: ",t," at pages/search/search.vue:263")}))},searchLogDbAdd:function(t){var e=this;this.getDeviceId().then((function(i){e.searchLogDb.add({device_uuid:i,content:t,create_date:Date.now()})}))},getDeviceId:function(){return new Promise((function(t,e){var i=uni.getStorageSync("uni_id");i?t(i):plus.device.getInfo({success:function(e){t(e.uuid)},fail:function(){t(uni.getSystemInfoSync().system+"_"+Math.random().toString(36).substr(2))}})}))},associativeClick:function(t){i("log","associativeClick: ",t," at pages/search/search.vue:304"),this.loadList(t.name)},loadList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";getApp().globalData.searchText=t,t&&!this.hasText?uni.redirectTo({url:"/pages/product/list"}):uni.navigateBack()}},computed:{associativeShow:function(){return this.searchText&&this.associativeList.length}},watch:{searchText:l((function(t){var e=this;t?this.mallGoodsDb.where(n({},r,new RegExp(t,"gi"))).field(o).limit(15).get().then((function(t){e.associativeList=t.result.data})):this.associativeList.length=0}),100)}};e.default=d}).call(this,i("a9ff")["default"],i("0de9")["default"])},ac2f:function(t,e,i){"use strict";i.r(e);var n=i("0639"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},ac3e:function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"\u4e0a\u62c9\u986f\u793a\u66f4\u591a","uni-load-more.contentrefresh":"\u6b63\u5728\u52a0\u8f09...","uni-load-more.contentnomore":"\u6c92\u6709\u66f4\u591a\u6578\u64da\u4e86"}')},ac7f:function(t,e,i){"use strict";i.r(e);var n=i("6afc"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},acd0:function(t,e,i){"use strict";i.r(e);var n=i("9707"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},ad9f:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default,uniDataPicker:i("5214").default,unicloudDb:i("960d").default,tianEmpty:i("2789").default,uniDateformat:i("3a22").default,uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container padding-22"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast",_i:1}},[i("uni-forms-item",{attrs:{name:"balance",label:"\u53ef\u7528\u4f59\u989d",_i:2}},[i("view",{staticClass:t._$s(3,"sc","ti-flex"),attrs:{_i:3}},[i("text",{staticClass:t._$s(4,"sc","price"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.userInfo.balance/100)))]),i("text")])]),i("uni-forms-item",{attrs:{name:"amount",label:"\u63d0\u73b0\u91d1\u989d",required:!0,_i:6}},[i("view",{staticClass:t._$s(7,"sc","ti-flex"),attrs:{_i:7}},[i("uni-easyinput",{attrs:{placeholder:"\u63d0\u73b0\u91d1\u989d",type:"digit",focus:!0,inputBorder:!1,_i:8},on:{confirm:t.submit},model:{value:t._$s(8,"v-model",t.formData.amount),callback:function(e){t.$set(t.formData,"amount",e)},expression:"formData.amount"}}),i("text")],1)]),i("uni-forms-item",{attrs:{name:"mode",label:"\u63d0\u73b0\u8def\u5f84",_i:10}},[i("uni-data-picker",{attrs:{border:!1,value:t.formData.mode,localdata:t.items,"popup-title":"\u8bf7\u63d0\u73b0\u8def\u5f84",_i:11},on:{change:t.onchange,nodeclick:t.onnodeclick}}),i("view",{staticClass:t._$s(12,"sc","colorGray font-20"),attrs:{_i:12}},[i("text")])],1),t._$s(14,"i",t.userInfo.cashoutLimit)?i("view",{staticClass:t._$s(14,"sc","colorGray font-20"),attrs:{_i:14}},[i("text"),i("text",{staticClass:t._$s(16,"sc","price"),attrs:{_i:16}},[t._v(t._$s(16,"t0-0",t._s(t.userInfo.cashoutLimit.min)))]),i("text"),i("text",{staticClass:t._$s(18,"sc","price"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.userInfo.cashoutLimit.max)))])]):t._e()],1),i("view",{staticClass:t._$s(19,"sc","uni-button-group margin-top-60 margin-bottom-40"),attrs:{_i:19}},[i("button",{staticClass:t._$s(20,"sc","uni-button"),attrs:{_i:20},on:{click:t.submit}})]),i("unicloud-db",{ref:"udb",attrs:{collection:"tian-user-cashouts",field:"amount,balance,status,service,mode,create_time",where:"user_id==$cloudEnv_uid",orderby:"create_time desc",_i:21},on:{load:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options,e.hasMore);return[n._$s("22-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u63d0\u73b0\u6570\u636e",marginTop:"300",_i:"22-"+s}}):i("view",{staticClass:n._$s(23,"sc","goods-list "),attrs:{_i:23}},t._l(n._$s(24,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s(24,"f",{forIndex:r,key:a}),staticClass:n._$s("24-"+o,"sc","under-line goods bg-white "),attrs:{_i:"24-"+o}},[i("view",{staticClass:n._$s("25-"+o,"sc","goods-content"),attrs:{_i:"25-"+o}},[i("view",{staticClass:n._$s("26-"+o,"sc","title ti-flex"),attrs:{_i:"26-"+o}},[i("view",{staticClass:n._$s("27-"+o,"sc","flex-1"),attrs:{_i:"27-"+o}},[i("text",{attrs:{_i:"28-"+o}},[t._v("\u63d0\u73b0\u91d1\u989d\uff1a")]),i("text",{staticClass:n._$s("29-"+o,"sc","jifen"),class:n._$s("29-"+o,"c",{xiaofei:1==e.status}),attrs:{_i:"29-"+o}},[t._v(n._$s("29-"+o+s,"t0-0",t._s(e.amount/100)))]),i("view",{staticClass:n._$s("30-"+o,"sc","margin-top-6"),attrs:{_i:"30-"+o}},[i("text",{attrs:{_i:"31-"+o}},[t._v(n._$s("31-"+o+s,"t0-0",t._s(t.formOptions.mode_valuetotext[e.mode])))])])]),i("view",{staticClass:n._$s("32-"+o,"sc","text-right"),attrs:{_i:"32-"+o}},[i("view",{staticClass:n._$s("33-"+o,"sc","font-24"),attrs:{_i:"33-"+o}},[i("text",{attrs:{_i:"34-"+o}},[t._v(n._$s("34-"+o+s,"t0-0",t._s(t.formOptions.status_valuetotext[e.status])))])]),n._$s("35-"+o,"i",e.service>0)?i("text",{staticClass:n._$s("35-"+o,"sc","font-24"),attrs:{_i:"35-"+o}},[t._v(n._$s("35-"+o+s,"t0-0",t._s(e.service/100)))]):i("text",{staticClass:n._$s("36-"+o,"sc","font-24"),attrs:{_i:"36-"+o}},[t._v("\u514d\u624b\u7eed\u8d39")])])]),i("view",{staticClass:n._$s("37-"+o,"sc","ti-flex font-24 colorGray margin-top-12"),attrs:{_i:"37-"+o}},[i("uni-dateformat",{staticClass:n._$s("38-"+o,"sc","font-20"),attrs:{date:e.create_time,format:"yyyy/MM/dd hh:mm",threshold:[6e4,36e5],_i:"38-"+o}}),i("view",{staticClass:n._$s("39-"+o,"sc","flex-1"),attrs:{_i:"39-"+o}}),i("text",{attrs:{_i:"40-"+o}},[t._v(n._$s("40-"+o+s,"t0-0",t._s(e.balance/100)))])],1)])])})),0),n._$s("41-"+s,"i",r||o)?i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"41-"+s}}):t._e()]}}])})],1)},a=[]},adb1:function(t,e,i){"use strict";i.r(e);var n=i("ae57"),s=i("9177");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},ae45:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniSteps",props:{direction:{type:String,default:"row"},activeColor:{type:String,default:"#2979FF"},deactiveColor:{type:String,default:"#B7BDC6"},active:{type:Number,default:0},activeIcon:{type:String,default:"checkbox-filled"},options:{type:Array,default:function(){return[]}}},data:function(){return{}}};e.default=n},ae57:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-forms"),class:t._$s(0,"c",{"uni-forms--top":!t.border}),attrs:{_i:0}},[i("form",{attrs:{_i:1},on:{submit:function(e){return e.stopPropagation(),t.submitForm(e)},reset:t.resetForm}},[t._t("default",null,{_i:2})],2)])},a=[]},aec3:function(t,e,i){"use strict";i.r(e);var n=i("e799"),s=i("1bae");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"7bd69943",null,!1,n["a"],r);e["default"]=c.exports},aefb:function(t,e,i){"use strict";i.r(e);var n=i("099e"),s=i("70bd");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},af95:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}}};e.default=n},b0b5:function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"\u4e0a\u62c9\u663e\u793a\u66f4\u591a","uni-load-more.contentrefresh":"\u6b63\u5728\u52a0\u8f7d...","uni-load-more.contentnomore":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"}')},b133:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{cachekey:"tiantian-accounts",dataList:[]}},onLoad:function(){},onShow:function(){this.loadData()},computed:{userInfo:function(){return this.$store.state.user.userInfo},isMustUniverifyLogin:function(){return this.$store.getters["app/isMustUniverifyLogin"]},multipleAccount:function(){return this.$store.state.app.customer.multipleAccount}},methods:{loadData:function(){var t=this;this.dataList=uni.getStorageSync(this.cachekey),this.dataList||(this.dataList=[]),this.dataList.forEach((function(e){e.checked=t.userInfo._id==e._id}))},changeAccount:function(t){var e=this;if(t.checked)return!1;this.confirmAction((function(){e.$store.commit("user/SET_TOKEN",{token:t.token,tokenExpired:t.tokenExpired,userInfo:t}),e.loadData(),e.$success("\u5207\u6362\u6210\u529f"),e.navTimeBack()}),"\u662f\u5426\u786e\u5b9a\u5207\u6362\u8d26\u6237\uff1f")},logout:function(){var e=this;this.confirmAction((function(){uni.showLoading({title:"\u6b63\u5728\u9000\u51fa"}),e.$request("user/login/logout").then((function(i){t("log","\u9000\u51fa\u6210\u529f",i," at pages/user/account.vue:98"),e.localLogout()}),(function(i){t("log","\u9000\u51fa\u5931\u8d25",i," at pages/user/account.vue:102"),e.localLogout()}))}),"\u662f\u5426\u786e\u5b9a\u9000\u51fa\u7cfb\u7edf\uff1f")},localLogout:function(){var t=this,e=[];if(this.dataList&&this.dataList.length>1&&(e=this.dataList.filter((function(e){return e._id!=t.userInfo._id}))),uni.setStorageSync(this.cachekey,e),0==e.length)this.$store.commit("user/REMOVE_TOKEN"),this.$store.commit("user/SET_USER_INFO",{}),this.$store.commit("mall/UPDATE_CART_NUMBER",0);else{var i=e[0];this.$store.commit("user/SET_TOKEN",{token:i.token,tokenExpired:i.tokenExpired,userInfo:i})}uni.hideLoading(),this.navTimeBack()}}};e.default=i}).call(this,i("0de9")["default"])},b19b:function(t,e,i){"use strict";i.r(e);var n=i("b82b"),s=i("50ab");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"bd410e9c",null,!1,n["a"],r);e["default"]=c.exports},b225:function(t,e,i){"use strict";i.r(e);var n=i("4987"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},b245:function(t,e,i){"use strict";(function(t){function i(){return new Promise((function(e,i){plus.runtime.getProperty(plus.runtime.appid,(function(n){t.callFunction({name:"check-version",data:{appid:plus.runtime.appid,appVersion:plus.runtime.version,wgtVersion:n.version},success:function(t){e(t)},fail:function(t){i(t)}})}))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(this,i("a9ff")["default"])},b25a:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","ti-flex"),attrs:{_i:0}},[i("view",[i("image",{staticClass:t._$s(2,"sc","border-radius"),class:t._$s(2,"c",["image-width-"+t.size]),attrs:{src:t._$s(2,"a-src",t.item.avatar?t.item.avatar:"/static/logo.png"),_i:2}})]),i("view",{staticClass:t._$s(3,"sc","margin-left-20 flex-1"),attrs:{_i:3}},[t._$s(4,"i",t.item.nickname)?i("view",[i("text",[t._v(t._$s(5,"t0-0",t._s(t.item.nickname)))])]):i("view",[i("text")]),t._$s(8,"i",t.item.mobile)?i("view",{staticClass:t._$s(8,"sc","font-20"),attrs:{_i:8},on:{click:function(e){return t.tel(t.item.mobile)}}},[i("text",[t._v(t._$s(9,"t0-0",t._s(t.item.mobile)))])]):t._e()]),t._t("default",null,{_i:10})],2)},a=[]},b272:function(t,e){t.exports="/uni_modules/uni-upgrade-center-app/static/app_update_close.png"},b27c:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,tianEmpty:i("2789").default,tianSingleUser:i("bd1b").default,uniDateformat:i("3a22").default,uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","tab-header ti-flex text-center bg-white"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","item flex-1 padding-12"),class:t._$s(2,"c",{current:0==t.current}),attrs:{_i:2},on:{click:function(e){return t.changeTab(0)}}},[i("text")]),i("view",{staticClass:t._$s(4,"sc","left-line"),attrs:{_i:4}},[i("text")]),i("view",{staticClass:t._$s(6,"sc","item flex-1 padding-12 "),class:t._$s(6,"c",{current:1==t.current}),attrs:{_i:6},on:{click:function(e){return t.changeTab(1)}}},[i("text")]),i("view",{staticClass:t._$s(8,"sc","left-line"),attrs:{_i:8}},[i("text")]),i("view",{staticClass:t._$s(10,"sc","item flex-1 padding-12 "),class:t._$s(10,"c",{current:2==t.current}),attrs:{_i:10},on:{click:function(e){return t.changeTab(2)}}},[i("text")])]),i("view",{staticClass:t._$s(12,"sc","tab-empty"),attrs:{_i:12}}),i("unicloud-db",{ref:"udb",attrs:{collection:"tian-mall-orders",action:"check_order",field:"state,goods,discount,freight,delivers,total_fee,cart_count,userInfo,rebates,group_buying,rebate_state,rebate_last_time,rebate_process_time,create_time,inviters",where:t.where,options:t.options,orderby:"create_time desc",_i:13},on:{load:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options,e.hasMore);return[n._$s("14-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65f6\u8fd8\u6ca1\u6709\u8ba2\u5355",marginTop:"300",_i:"14-"+s}}):i("view",{staticClass:n._$s(15,"sc","padding-lr-20 "),attrs:{_i:15}},t._l(n._$s(16,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s(16,"f",{forIndex:r,key:a}),staticClass:n._$s("16-"+o,"sc","bg-white border-radius margin-top-22"),attrs:{_i:"16-"+o}},[i("tian-single-user",{staticClass:n._$s("17-"+o,"sc","under-line padding-22"),attrs:{size:60,value:e.userInfo,_i:"17-"+o}},[i("view",{staticClass:n._$s("18-"+o,"sc","font-20"),attrs:{_i:"18-"+o}},[n._$s("19-"+o,"i",e.inviter.money)?i("view",{attrs:{_i:"19-"+o}},[i("text",{attrs:{_i:"20-"+o}},[t._v("\u4f63\u91d1\uff1a")]),i("text",{staticClass:n._$s("21-"+o,"sc","price font-26"),attrs:{_i:"21-"+o}},[t._v(n._$s("21-"+o+s,"t0-0",t._s(e.inviter.money/100)))])]):t._e(),n._$s("22-"+o,"i",e.inviter.score)?i("view",{attrs:{_i:"22-"+o}},[i("text",{attrs:{_i:"23-"+o}},[t._v(n._$s("23-"+o+s,"t0-0",t._s(t.scoreName)))]),i("text",{staticClass:n._$s("24-"+o,"sc","font-26"),attrs:{_i:"24-"+o}},[t._v(n._$s("24-"+o+s,"t0-0",t._s(e.inviter.score.toFixed(2))))])]):t._e(),n._$s("25-"+o,"i",e.inviter.title)?i("view",{attrs:{_i:"25-"+o}},[i("text",{attrs:{_i:"26-"+o}},[t._v(n._$s("26-"+o+s,"t0-0",t._s(e.inviter.title)))])]):t._e()])]),i("view",{staticClass:n._$s("27-"+o,"sc","padding-22"),attrs:{_i:"27-"+o}},[i("view",{staticClass:n._$s("28-"+o,"sc","ti-flex between"),attrs:{_i:"28-"+o}},[i("uni-dateformat",{staticClass:n._$s("29-"+o,"sc","font-20"),attrs:{date:e.create_time,format:"yyyy/MM/dd hh:mm:ss",threshold:[0,0],_i:"29-"+o}}),i("text",{style:n._$s("30-"+o,"s",{color:e.state.color}),attrs:{_i:"30-"+o}},[t._v(n._$s("30-"+o+s,"t0-0",t._s(e.state.text)))])],1),t._l(n._$s("31-"+o,"f",{forItems:e.goods}),(function(e,a,r,c){return i("view",{key:n._$s("31-"+o,"f",{forIndex:r,key:a}),staticClass:n._$s("31-"+o+"-"+c,"sc","ti-flex margin-top-12"),attrs:{_i:"31-"+o+"-"+c}},[i("image",{staticClass:n._$s("32-"+o+"-"+c,"sc","image-width-120 border-radius"),attrs:{src:n._$s("32-"+o+"-"+c,"a-src",e.goods_thumb),mode:"aspectFill",_i:"32-"+o+"-"+c}}),i("view",{staticClass:n._$s("33-"+o+"-"+c,"sc","flex-1 padding-left-12"),attrs:{_i:"33-"+o+"-"+c}},[i("view",{attrs:{_i:"34-"+o+"-"+c}},[i("text",{attrs:{_i:"35-"+o+"-"+c}},[t._v(n._$s("35-"+o+"-"+c+s,"t0-0",t._s(e.name)))])]),i("view",{attrs:{_i:"36-"+o+"-"+c}},[i("text",{staticClass:n._$s("37-"+o+"-"+c,"sc","font-24"),attrs:{_i:"37-"+o+"-"+c}},[t._v(n._$s("37-"+o+"-"+c+s,"t0-0",t._s(e.sku_name)))])]),i("view",{staticClass:n._$s("38-"+o+"-"+c,"sc","ti-flex between"),attrs:{_i:"38-"+o+"-"+c}},[i("view",{attrs:{_i:"39-"+o+"-"+c}},[i("text",{staticClass:n._$s("40-"+o+"-"+c,"sc","price"),attrs:{_i:"40-"+o+"-"+c}},[t._v(n._$s("40-"+o+"-"+c+s,"t0-0",t._s(e.price/100)))]),n._$s("41-"+o+"-"+c,"i",e.use_score)?i("text",{staticClass:n._$s("41-"+o+"-"+c,"sc","font-20"),attrs:{_i:"41-"+o+"-"+c}},[t._v(n._$s("41-"+o+"-"+c+s,"t0-0",t._s(e.use_score))+n._$s("41-"+o+"-"+c+s,"t0-1",t._s(t.scoreName)))]):t._e()]),i("text",{attrs:{_i:"42-"+o+"-"+c}},[t._v(n._$s("42-"+o+"-"+c+s,"t0-0",t._s(e.amount)))])])])])})),n._$s("43-"+o,"i",e.hasMoreGoods)?i("view",{staticClass:n._$s("43-"+o,"sc","margin-top-12"),attrs:{_i:"43-"+o}},[n._$s("44-"+o,"i",0==e.showGoodsType)?i("button",{attrs:{type:"primary",size:"mini",_i:"44-"+o},on:{click:function(i){return t.showMore(e,1)}}},[t._v("\u66f4\u591a\u5546\u54c1")]):t._e(),n._$s("45-"+o,"i",1==e.showGoodsType)?i("button",{attrs:{type:"default",size:"mini",_i:"45-"+o},on:{click:function(i){return t.showMore(e,0)}}},[t._v("\u6536\u8d77\u5546\u54c1")]):t._e()]):t._e(),i("view",{staticClass:n._$s("46-"+o,"sc","font-24 text-right margin-top-12"),attrs:{_i:"46-"+o}},[i("text",{attrs:{_i:"47-"+o}},[t._v(n._$s("47-"+o+s,"t0-0",t._s(e.cart_count)))]),i("text",{staticClass:n._$s("48-"+o,"sc","price font-32 margin-right-0"),attrs:{_i:"48-"+o}},[t._v(n._$s("48-"+o+s,"t0-0",t._s(e.total_fee/100)))])]),n._$s("49-"+o,"i",e.inviter)?i("view",{staticClass:n._$s("49-"+o,"sc","font-24 text-right margin-top-12"),attrs:{_i:"49-"+o}},[n._$s("50-"+o,"i",1==e.rebate_state)?i("view",{staticClass:n._$s("50-"+o,"sc","margin-top-12"),attrs:{_i:"50-"+o}},[i("text",{staticClass:n._$s("51-"+o,"sc","colorGray"),attrs:{_i:"51-"+o}},[t._v("\u9884\u8ba1\u5230\u8d26\uff1a")]),i("uni-dateformat",{staticClass:n._$s("52-"+o,"sc","font-20 colorGray"),attrs:{date:e.rebate_last_time,format:"yyyy/MM/dd",threshold:[0,0],_i:"52-"+o}})],1):t._e(),n._$s("53-"+o,"i",2==e.rebate_state)?i("view",{staticClass:n._$s("53-"+o,"sc","margin-top-12"),attrs:{_i:"53-"+o}},[i("text",{staticClass:n._$s("54-"+o,"sc","colorGray"),attrs:{_i:"54-"+o}},[t._v("\u5230\u8d26\u65f6\u95f4\uff1a")]),i("uni-dateformat",{staticClass:n._$s("55-"+o,"sc","font-20 colorGray"),attrs:{date:e.rebate_process_time,format:"yyyy/MM/dd hh:mm",threshold:[0,0],_i:"55-"+o}})],1):t._e()]):t._e()],2)],1)})),0),n._$s("56-"+s,"i",r||o)?i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"56-"+s}}):t._e()]}}])})],1)},a=[]},b2f3:function(t,e,i){"use strict";i.r(e);var n=i("e72d"),s=i("2313");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},b386:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.isShow)?i("view",{ref:"ani",class:t._$s(0,"c",t.customClass),style:t._$s(0,"s",t.transformStyles),attrs:{animation:t._$s(0,"a-animation",t.animationData),_i:0},on:{click:t.onClick}},[t._t("default",null,{_i:1})],2):t._e()},a=[]},b3af:function(t,e,i){"use strict";i.r(e);var n=i("e6d2"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},b4cb:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{}},onPullDownRefresh:function(){i("log","\u5237\u65b0\u6574\u9875"," at pages/product/favorite.vue:18"),uni.stopPullDownRefresh(),this.$refs.tgjl.refresh()},methods:{delItem:function(t){var e=this;this.confirmAction((function(){n.collection("opendb-mall-goods-favorite").where({_id:t.favorite_id,user_id:n.env.uid}).remove().then((function(t){e.$success("\u5220\u9664\u6210\u529f"),e.$refs.tgjl.refresh()}))}),"\u662f\u5426\u786e\u5b9a\u5220\u9664\u6536\u85cf\uff1f")}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},b4db:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniTitle",props:{type:{type:String,default:""},title:{type:String,default:""},align:{type:String,default:"left"},color:{type:String,default:"#333333"},stat:{type:[Boolean,String],default:""}},data:function(){return{}},computed:{textAlign:function(){var t="center";switch(this.align){case"left":t="flex-start";break;case"center":t="center";break;case"right":t="flex-end";break}return t}},watch:{title:function(t){this.isOpenStat()&&uni.report&&uni.report("title",this.title)}},mounted:function(){this.isOpenStat()&&uni.report&&uni.report("title",this.title)},methods:{isOpenStat:function(){""===this.stat&&(this.isStat=!1);var t="boolean"===typeof this.stat&&this.stat||"string"===typeof this.stat&&""!==this.stat;return""===this.type&&(this.isStat=!0,"false"===this.stat.toString()&&(this.isStat=!1)),""!==this.type&&(this.isStat=!0,this.isStat=!!t),this.isStat}}};e.default=n},b527:function(t,e,i){"use strict";i.r(e);var n=i("9ab7"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},b597:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","cloud-image"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","cloud-image__content"),attrs:{_i:1}},[t._$s(2,"i",1==t.imageNumber)?[i("view",{staticClass:t._$s(3,"sc","flex justify-between"),attrs:{_i:3}},[i("text",{staticClass:t._$s(4,"sc","text-black"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.title)))]),i("text",{staticClass:t._$s(5,"sc","text-sm margin-left-sm text-gray"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.tips)))])]),i("view",[t._$s(7,"i",t.val)?i("image",{staticClass:t._$s(7,"sc","image"),style:t._$s(7,"s",t.imageSizeStyle),attrs:{src:t._$s(7,"a-src",t.val),_i:7},on:{click:function(e){return t.upload(0)}}}):t._e(),t._$s(8,"i",t.isShowIcon)?i("uni-icons",{staticClass:t._$s(8,"sc","content-image-icon"),attrs:{type:t.suffixIcon,size:t.iconSize,color:"#c0c4cc",_i:8},on:{click:function(e){return t.upload()}}}):t._e()],1)]:[i("view",{staticClass:t._$s(10,"sc","flex justify-between"),attrs:{_i:10}},[i("view",[i("text",{staticClass:t._$s(12,"sc","text-black"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.title)))]),i("text",{staticClass:t._$s(13,"sc","text-sm margin-left-sm text-gray"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.tips)))])]),t._$s(14,"i",!t.disabled)?i("text",[t._v(t._$s(14,"t0-0",t._s(t.srcList.length))+t._$s(14,"t0-1",t._s(t.imageNumber)))]):t._e()]),t._$s(15,"i",t.isWrap)?i("view",{staticClass:t._$s(15,"sc","wrap-imgs"),attrs:{_i:15}},[t._l(t._$s(16,"f",{forItems:t.srcList}),(function(e,n,s,a){return i("view",{key:t._$s(16,"f",{forIndex:s,key:n}),staticClass:t._$s("16-"+a,"sc","scroll-view-item_H"),attrs:{_i:"16-"+a}},[i("image",{staticClass:t._$s("17-"+a,"sc","image"),style:t._$s("17-"+a,"s",t.imageSizeStyle),attrs:{src:t._$s("17-"+a,"a-src",e),_i:"17-"+a},on:{click:function(e){return t.previewImage(n)}}}),t._$s("18-"+a,"i",!t.disabled)?i("uni-icons",{staticClass:t._$s("18-"+a,"sc","image-delete"),attrs:{type:"trash",size:"20",color:"#ff0000",_i:"18-"+a},on:{click:function(e){return t.del(n)}}}):t._e()],1)})),t._$s(19,"i",t.isShowIcon)?i("uni-icons",{staticClass:t._$s(19,"sc","scroll-view-item_H content-image-icon"),attrs:{type:t.suffixIcon,size:t.iconSize,color:"#c0c4cc",_i:19},on:{click:function(e){return t.upload()}}}):t._e()],2):i("scroll-view",{staticClass:t._$s(20,"sc","scroll-view_H"),attrs:{_i:20}},[i("view",{staticClass:t._$s(21,"sc","scroll-view_H2"),attrs:{_i:21}},[t._l(t._$s(22,"f",{forItems:t.srcList}),(function(e,n,s,a){return i("view",{key:t._$s(22,"f",{forIndex:s,key:n}),staticClass:t._$s("22-"+a,"sc","scroll-view-item_H"),attrs:{_i:"22-"+a}},[i("image",{staticClass:t._$s("23-"+a,"sc","image"),style:t._$s("23-"+a,"s",t.imageSizeStyle),attrs:{src:t._$s("23-"+a,"a-src",e),_i:"23-"+a},on:{click:function(e){return t.previewImage(n)}}}),t._$s("24-"+a,"i",!t.disabled)?i("uni-icons",{staticClass:t._$s("24-"+a,"sc","image-delete"),attrs:{type:"trash",size:"20",color:"#ff0000",_i:"24-"+a},on:{click:function(e){return t.del(n)}}}):t._e()],1)})),t._$s(25,"i",t.isShowIcon)?i("uni-icons",{staticClass:t._$s(25,"sc","scroll-view-item_H content-image-icon"),attrs:{type:t.suffixIcon,size:t.iconSize,color:"#c0c4cc",_i:25},on:{click:function(e){return t.upload()}}}):t._e()],2)])]],2)])},a=[]},b5a8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("531f")),s=r(i("b0b5")),a=r(i("ac3e"));function r(t){return t&&t.__esModule?t:{default:t}}var o={en:n.default,"zh-Hans":s.default,"zh-Hant":a.default};e.default=o},b5f7:function(t,e,i){"use strict";i.r(e);var n=i("6961"),s=i("211f");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},b6ad:function(t,e,i){"use strict";i.r(e);var n=i("f2bf"),s=i("3410");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},b6d8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},onReachBottom:function(){this.$refs.udb.loadMore()},methods:{loadData:function(t){}}};e.default=n},b6e8:function(t,e,i){"use strict";i.r(e);var n=i("675a"),s=i("ca96");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},b759:function(t,e,i){"use strict";i.r(e);var n=i("a170"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},b7e6:function(t,e,i){"use strict";i.r(e);var n=i("8883"),s=i("6563");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},b7e8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:function(){var t="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36)),e="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:t,elIdBox:e,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}},mounted:function(){var t=this,e=getCurrentPages(),i=e[e.length-1],n=i.$getAppWebview();n.addEventListener("hide",(function(){t.webviewHide=!0})),n.addEventListener("show",(function(){t.webviewHide=!1})),this.$nextTick((function(){t.initSize()}))},methods:{initSize:function(){var t=this;if(this.scrollable){var e=[],i=new Promise((function(e,i){uni.createSelectorQuery().in(t).select("#".concat(t.elId)).boundingClientRect().exec((function(i){t.textWidth=i[0].width,e()}))})),n=new Promise((function(e,i){uni.createSelectorQuery().in(t).select("#".concat(t.elIdBox)).boundingClientRect().exec((function(i){t.boxWidth=i[0].width,e()}))}));e.push(i),e.push(n),Promise.all(e).then((function(){t.animationDuration="".concat(t.textWidth/t.speed,"s"),t.animationDelay="-".concat(t.boxWidth/t.speed,"s"),setTimeout((function(){t.animationPlayState="running"}),1e3)}))}},loopAnimation:function(){},clickMore:function(){this.$emit("getmore")},close:function(){this.show=!1,this.$emit("close")},onClick:function(){this.$emit("click")}}};e.default=n},b82b:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default,uniIcons:i("b5f7").default,uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","root"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","step"),style:t._$s(1,"s",t.style),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","headBox"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","infoBox"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","info"),attrs:{_i:4}},[i("view",{staticClass:t._$s(5,"sc","expIconBox"),attrs:{_i:5}},[i("tian-icons",{attrs:{type:"zuobiao",size:"28",color:"#FFFFFF",_i:6}})],1),i("view",{staticClass:t._$s(7,"sc","moreBox"),attrs:{_i:7}},[i("text",{staticClass:t._$s(8,"sc","expName"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.express.company)))]),i("text",{staticClass:t._$s(9,"sc","expState"),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s(t.express.state)))])])]),i("text",{staticClass:t._$s(10,"sc","number"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.express.number)))])]),t._$s(11,"i",t.closeBtn)?i("uni-icons",{staticClass:t._$s(11,"sc","closeIcon"),attrs:{type:"close",size:"28",color:"#999999",_i:11},on:{click:t.closeMe}}):t._e()],1),t._$s(12,"i",t.logisticsTracking.length)?i("scroll-view",{staticClass:t._$s(12,"sc","scrollBox"),style:t._$s(12,"s",t.scrollStyle),attrs:{_i:12}},t._l(t._$s(13,"f",{forItems:t.logisticsTracking}),(function(e,n,s,a){return i("view",{key:t._$s(13,"f",{forIndex:s,key:n}),staticClass:t._$s("13-"+a,"sc","stateBox"),attrs:{_i:"13-"+a}},[i("view",{staticClass:t._$s("14-"+a,"sc","lineBox"),attrs:{_i:"14-"+a}},[i("tian-icons",{attrs:{type:"danxuan",size:"15",color:"#70b7fc",_i:"15-"+a}}),i("view",{staticClass:t._$s("16-"+a,"sc","line"),attrs:{_i:"16-"+a}})],1),i("view",{staticClass:t._$s("17-"+a,"sc","remarkBox"),attrs:{_i:"17-"+a}},[i("text",{staticClass:t._$s("18-"+a,"sc","remark"),attrs:{_i:"18-"+a}},[t._v(t._$s("18-"+a,"t0-0",t._s(e.context)))]),i("text",{staticClass:t._$s("19-"+a,"sc","time"),attrs:{_i:"19-"+a}},[t._v(t._$s("19-"+a,"t0-0",t._s(e.ftime)))])])])})),0):t._$s(20,"e",!t.loaded)?i("uni-load-more",{attrs:{status:"loading",_i:20}}):i("view",[i("text")])],1)])},a=[]},b952:function(t,e,i){"use strict";i.r(e);var n=i("013b"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},ba65:function(t,e,i){"use strict";i.r(e);var n=i("447a"),s=i("06dd");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},bbdd:function(t,e,i){var n=function(){return this||"object"===typeof self&&self}()||Function("return this")(),s=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=s&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=i("96cf"),s)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(r){n.regeneratorRuntime=void 0}},bbef:function(t,e,i){"use strict";i.r(e);var n=i("a7b1"),s=i("2ccf");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},bbf7:function(t,e,i){"use strict";(function(t){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{id:"",maxMoney:0,formData:{money:0,describe:"",imgs:[]},afterServices:[],afterServiceType:"",afterServiceReason:[],afterServiceReasonIndex:0,goodsStatus:["\u672a\u6536\u5230\u8d27","\u5df2\u6536\u5230\u8d27"],goodsStatusIndex:0,goods:{}}},onLoad:function(e){this.id=e.id,this.goods=this.getItemData();var i=uni.getStorageSync("pre_refund_info"),n=i.afterServices,s=i.afterServiceReason;this.maxMoney=this.formData.money=this.goods.canRefundMoney/100,this.afterServiceReason=s,t("log","afterServiceReason",s," at pages/order/refund.vue:131"),this.afterServices=n},methods:{changeGoodsStatus:function(e){t("log","changeGoodsStatus",e," at pages/order/refund.vue:136"),this.goodsStatusIndex=e.detail.value},changeServiceReason:function(e){t("log","changeServiceReason",e," at pages/order/refund.vue:140"),this.afterServiceReasonIndex=e.detail.value},changeType:function(t){this.afterServiceType=t},changeMoney:function(t){},submit:function(){var e=this;this.maxMoney<this.formData.money&&(this.formData.money=this.maxMoney);var i=this.formData;i.type=this.afterServiceType,-1!=this.afterServiceType.indexOf("refund")&&(i.reason=this.afterServiceReason[this.afterServiceReasonIndex],i.goods_status=this.goodsStatus[this.goodsStatusIndex]),t("log",i," at pages/order/refund.vue:161"),this.confirmAction((function(){e.$request("mall/order/refund",n(n({},i),{},{money:100*e.formData.money,id:e.id,goods_id:e.goods.goods_id,sku_id:e.goods.sku_id})).then((function(t){e.$message("\u7533\u8bf7\u6210\u529f"),e.$prePage().loadData(),e.navTimeBack()}))}),"\u662f\u5426\u786e\u5b9a\u7533\u8bf7\u552e\u540e\uff1f")}}};e.default=a}).call(this,i("0de9")["default"])},bd1b:function(t,e,i){"use strict";i.r(e);var n=i("b25a"),s=i("637b");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},be5a:function(t,e,i){"use strict";i.r(e);var n=i("5aec"),s=i("1a45");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},bf90:function(t,e,i){"use strict";i.r(e);var n=i("ae45"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},c061:function(t,e,i){"use strict";i.r(e);var n=i("7003"),s=i("96f5");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},c0d2:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianTabPages:i("c9eb").default,tianPages:i("e453").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._$s(1,"i","tian-tab-pages"==t.type)?i("tian-tab-pages",{attrs:{configs:t.configs,refresh:t.refresh,loadmore:t.loadmore,_i:1}}):t._$s(2,"e","tian-pages"==t.type)?i("tian-pages",{attrs:{configs:t.configs,refresh:t.refresh,loadmore:t.loadmore,_i:2}}):t._e()],1)},a=[]},c0d7:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniDateformat:i("3a22").default,unicloudDb:i("960d").default,tianEmpty:i("2789").default,uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast",_i:1}},[i("uni-forms-item",{attrs:{name:"balance",label:"\u5269\u4f59",_i:2}},[i("view",{staticClass:t._$s(3,"sc","ti-flex"),attrs:{_i:3}},[i("text",{staticClass:t._$s(4,"sc","font-32"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.userInfo.score)))]),i("text",[t._v(t._$s(5,"t0-0",t._s(t.scoreName)))])])]),i("uni-forms-item",{attrs:{name:"balance",label:"\u5df2\u5151\u6362",_i:6}},[i("view",[i("text",[t._v(t._$s(8,"t0-0",t._s(t.score_cashout.amount))+t._$s(8,"t0-1",t._s(t.scoreName)))])]),i("view",[i("text"),i("text",{staticClass:t._$s(11,"sc","price"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.score_cashout.money/100)))]),i("text")]),t._$s(13,"i",t.score_cashout.day)?i("view",{staticClass:t._$s(13,"sc","colorGray font-20"),attrs:{_i:13}},[i("text"),i("uni-dateformat",{staticClass:t._$s(15,"sc","font-20"),attrs:{date:t.score_cashout.day,format:"yyyy-MM-dd",threshold:[0,0],_i:15}})],1):t._e()]),i("uni-forms-item",{attrs:{name:"balance",label:"\u53ef\u5151\u6362",_i:16}},[i("view",[i("text",[t._v(t._$s(18,"t0-0",t._s(t.score_cashout.enable?t.score_cashout.enable.amount:0))+t._$s(18,"t0-1",t._s(t.scoreName)))])]),i("view",[i("text"),i("text",{staticClass:t._$s(21,"sc","price"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.score_cashout.enable?t.score_cashout.enable.money/100:0)))]),i("text")])])],1),i("view",{staticClass:t._$s(23,"sc","uni-button-group padding-22 margin-top-40 margin-bottom-40"),attrs:{_i:23}},[i("button",{staticClass:t._$s(24,"sc","uni-button"),attrs:{disabled:t._$s(24,"a-disabled",!t.score_cashout.enable||0==t.score_cashout.enable.amount),_i:24},on:{click:t.submit}})]),i("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-score-cashout",field:"amount,balance,service,money,create_date",where:"user_id==$cloudEnv_uid",orderby:"create_date desc",_i:25},on:{load:t.loadedData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options,e.hasMore);return[n._$s("26-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u5151\u6362\u6570\u636e",marginTop:"300",_i:"26-"+s}}):i("view",{staticClass:n._$s(27,"sc","goods-list "),attrs:{_i:27}},t._l(n._$s(28,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s(28,"f",{forIndex:r,key:a}),staticClass:n._$s("28-"+o,"sc","under-line goods bg-white "),attrs:{_i:"28-"+o}},[i("view",{staticClass:n._$s("29-"+o,"sc","goods-content"),attrs:{_i:"29-"+o}},[i("view",{staticClass:n._$s("30-"+o,"sc","title ti-flex"),attrs:{_i:"30-"+o}},[i("view",{staticClass:n._$s("31-"+o,"sc","flex-1"),attrs:{_i:"31-"+o}},[i("text",{attrs:{_i:"32-"+o}},[t._v("\u5151\u6362\u6570\u91cf\uff1a")]),i("text",{staticClass:n._$s("33-"+o,"sc","jifen"),class:n._$s("33-"+o,"c",{xiaofei:1==e.status}),attrs:{_i:"33-"+o}},[t._v(n._$s("33-"+o+s,"t0-0",t._s(e.amount)))]),i("view",{staticClass:n._$s("34-"+o,"sc","margin-top-6"),attrs:{_i:"34-"+o}},[i("text",{attrs:{_i:"35-"+o}},[t._v("\u91d1\u989d\uff1a")]),i("text",{staticClass:n._$s("36-"+o,"sc","price"),attrs:{_i:"36-"+o}},[t._v(n._$s("36-"+o+s,"t0-0",t._s(e.money/100)))])])]),n._$s("37-"+o,"i",e.service>0)?i("text",{staticClass:n._$s("37-"+o,"sc","font-24"),attrs:{_i:"37-"+o}},[t._v(n._$s("37-"+o+s,"t0-0",t._s(e.service)))]):i("text",{staticClass:n._$s("38-"+o,"sc","font-24"),attrs:{_i:"38-"+o}},[t._v("\u514d\u624b\u7eed\u8d39")])]),i("view",{staticClass:n._$s("39-"+o,"sc","ti-flex font-24 colorGray margin-top-12"),attrs:{_i:"39-"+o}},[i("uni-dateformat",{staticClass:n._$s("40-"+o,"sc","font-20"),attrs:{date:e.create_date,format:"yyyy/MM/dd hh:mm",threshold:[6e4,36e5],_i:"40-"+o}}),i("view",{staticClass:n._$s("41-"+o,"sc","flex-1"),attrs:{_i:"41-"+o}}),i("text",{attrs:{_i:"42-"+o}},[t._v(n._$s("42-"+o+s,"t0-0",t._s(e.balance)))])],1)])])})),0),n._$s("43-"+s,"i",r||o)?i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"43-"+s}}):t._e()]}}])})],1)},a=[]},c179:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniPopup:i("36ef").default,tianGoodsPrice:i("956e").default,tianIcons:i("6439").default,uniLoadMore:i("458a").default,uniNumberBox:i("68a0").default,tianGoodsNav:i("f750").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","goods-sku-container"),attrs:{_i:0}},[i("uni-popup",{ref:"skuPopup",attrs:{animation:!0,maskClick:!0,type:"bottom",_i:1},on:{change:t.change}},[i("view",{staticClass:t._$s(2,"sc","panel"),class:t._$s(2,"c",{single:t.single}),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","goods-info"),attrs:{_i:3}},[t._$s(4,"i",t.selectSku._id)?i("view",{staticClass:t._$s(4,"sc","goods-list"),attrs:{_i:4}},[i("image",{staticClass:t._$s(5,"sc","image-width-168 goods-image"),attrs:{src:t._$s(5,"a-src",t.selectSku.goods_thumb),_i:5}}),i("view",{staticClass:t._$s(6,"sc","goods-content"),attrs:{_i:6}},[i("tian-goods-price",{attrs:{value:t.selectSku,hasCart:!1,_i:7}}),i("view",{staticClass:t._$s(8,"sc","font-26 colorGray"),attrs:{_i:8}},[i("text",[t._v(t._$s(9,"t0-0",t._s(t.selectSku.stock)))])]),i("view",{staticClass:t._$s(10,"sc","font-26 ti-flex"),attrs:{_i:10}},[i("text"),i("text",{staticClass:t._$s(12,"sc","margin-left-18"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.selectNames)))])])],1)]):i("view",{staticClass:t._$s(13,"sc","goods-list"),attrs:{_i:13}},[i("image",{staticClass:t._$s(14,"sc","image-width-168 goods-image"),attrs:{src:t._$s(14,"a-src",t.item.goods_thumb),_i:14}}),i("view",{staticClass:t._$s(15,"sc","goods-content"),attrs:{_i:15}},[i("tian-goods-price",{attrs:{value:t.item,hasCart:!1,_i:16}}),i("view",{staticClass:t._$s(17,"sc","font-26 colorGray"),attrs:{_i:17}},[i("text",[t._v(t._$s(18,"t0-0",t._s(t.stock)))])]),t._$s(19,"i",t.selectNames)?i("view",{staticClass:t._$s(19,"sc","font-26 ti-flex"),attrs:{_i:19}},[i("text"),i("text",{staticClass:t._$s(21,"sc","margin-left-18"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.selectNames)))])]):i("view",{staticClass:t._$s(22,"sc","font-26 ti-flex"),attrs:{_i:22}},[i("text"),t._l(t._$s(24,"f",{forItems:t.skuNames}),(function(e,n,s,a){return t._$s("24-"+a,"i",t.skuNames.length>1)?i("view",{key:t._$s(24,"f",{forIndex:s,key:n})},[i("text",{staticClass:t._$s("25-"+a,"sc","margin-left-18"),attrs:{_i:"25-"+a}},[t._v(t._$s("25-"+a,"t0-0",t._s(e)))])]):t._e()}))],2)],1)]),i("tian-icons",{attrs:{type:"guanbi2",size:"26",_i:26},on:{click:function(e){return t.close()}}})],1),t._$s(27,"i",!t.loaded)?i("uni-load-more",{attrs:{status:"loading",_i:27}}):t._e(),t._$s(28,"i",t.loaded)?i("scroll-view",{staticClass:t._$s(28,"sc","sku-content"),attrs:{_i:28}},[t._l(t._$s(29,"f",{forItems:t.skuNamesMap}),(function(e,n,s,a){return i("view",{key:t._$s(29,"f",{forIndex:s,key:n}),staticClass:t._$s("29-"+a,"sc","under-line"),attrs:{_i:"29-"+a}},[i("view",{staticClass:t._$s("30-"+a,"sc","title"),attrs:{_i:"30-"+a}},[i("text",[t._v(t._$s("31-"+a,"t0-0",t._s(n)))])]),i("view",{staticClass:t._$s("32-"+a,"sc","skus"),attrs:{_i:"32-"+a}},t._l(t._$s("33-"+a,"f",{forItems:e}),(function(e,s,r,o){return i("view",{key:t._$s("33-"+a,"f",{forIndex:r,key:s}),staticClass:t._$s("33-"+a+"-"+o,"sc","name"),class:t._$s("33-"+a+"-"+o,"c",{disabled:!e.enable,checked:e.checked}),attrs:{_i:"33-"+a+"-"+o},on:{click:function(i){return t.chooseSku(e,n,s)}}},[i("text",[t._v(t._$s("34-"+a+"-"+o,"t0-0",t._s(e.name)))])])})),0)])})),i("view",{staticClass:t._$s(35,"sc","amount"),attrs:{_i:35}},[i("text"),i("view",[i("uni-number-box",{attrs:{min:1,max:99,step:1,_i:38},model:{value:t._$s(38,"v-model",t.amount),callback:function(e){t.amount=e},expression:"amount"}})],1)])],2):t._e(),i("view",{staticClass:t._$s(39,"sc","margin-top-22"),attrs:{_i:39}},[t._$s(40,"i",t.isSubmitSku)?i("tian-goods-nav",{attrs:{options:[],buttonGroup:t.submitButtonGroup,fill:!0,_i:40},on:{buttonClick:function(e){return t.buttonClick({index:t.isSubmitSku-1})}}}):i("tian-goods-nav",{attrs:{options:[],fill:!0,_i:41},on:{buttonClick:t.buttonClick}})],1)],1)])],1)},a=[]},c19a:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("4957"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={data:function(){return{qrcodeSrc:""}},computed:{userInfo:function(){return this.$store.state.user.userInfo}},onLoad:function(){this.setGlobalShareContent(),t("log","this.share.href",this.share.href," at pages/user/invite.vue:68")},methods:{btnFace:function(){this.closePop("popup"),this.$refs.codePopup.open(),this.genQrCode()},genQrCode:function(){var e=this,i=this.share.href;t("log","qrcode res \u5f00\u59cb\uff1a",i," at pages/user/invite.vue:78"),n.default.make({canvasId:"qrcode",componentInstance:this,text:i,size:140,margin:14,backgroundColor:"#ffffff",foregroundColor:"#000000",fileType:"jpg",errorCorrectLevel:n.default.errorCorrectLevel.H}).then((function(i){e.qrcodeSrc=i,t("log","qrcode res \u5b8c\u6210"," at pages/user/invite.vue:91")}),(function(i){t("log","\u751f\u6210\u4e8c\u7ef4\u7801\u5931\u8d25"," at pages/user/invite.vue:93"),e.$message("\u751f\u6210\u4e8c\u7ef4\u7801\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6253\u5f00")})).finally((function(){t("log","\u751f\u6210\u4e8c\u7ef4\u7801\u5b8c\u6210"," at pages/user/invite.vue:97"),uni.hideLoading()}))},shareToFriend:function(){uni.share(r(r({provider:"weixin",scene:"WXSceneSession",type:0},this.share),{},{success:function(t){},fail:function(t){}}))},showPop:function(){this.$refs.popup.open()},closePop:function(t){this.$refs[t].close()}}};e.default=c}).call(this,i("0de9")["default"])},c20a:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","mask flex-center"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","content botton-radius"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","content-top"),attrs:{_i:2}},[n("text",{staticClass:t._$s(3,"sc","content-top-text"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.title)))]),n("image",{staticClass:t._$s(4,"sc","content-top"),attrs:{src:t._$s(4,"a-src",i("8b46")),_i:4}})]),n("view",{staticClass:t._$s(5,"sc","content-header"),attrs:{_i:5}}),n("view",{staticClass:t._$s(6,"sc","content-body"),attrs:{_i:6}},[n("view",{staticClass:t._$s(7,"sc","title"),attrs:{_i:7}},[n("text",[t._v(t._$s(8,"t0-0",t._s(t.subTitle)))])]),n("view",{staticClass:t._$s(9,"sc","body"),attrs:{_i:9}},[n("scroll-view",{staticClass:t._$s(10,"sc","box-des-scroll"),attrs:{_i:10}},[n("text",{staticClass:t._$s(11,"sc","box-des"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.contents)))])])]),n("view",{staticClass:t._$s(12,"sc","footer flex-center"),attrs:{_i:12}},[t._$s(13,"i",t.isiOS)?[n("button",{staticClass:t._$s(14,"sc","content-button"),attrs:{_i:14},on:{click:t.jumpToAppStore}},[t._v(t._$s(14,"t0-0",t._s(t.downLoadBtnTextiOS)))])]:[t._$s(16,"i",!t.downloadSuccess)?[t._$s(17,"i",t.downloading)?n("view",{staticClass:t._$s(17,"sc","progress-box flex-column"),attrs:{_i:17}},[n("progress",{staticClass:t._$s(18,"sc","progress"),attrs:{percent:t._$s(18,"a-percent",t.downLoadPercent),_i:18}}),n("view",[n("text",[t._v(t._$s(20,"t0-0",t._s(t.downLoadingText)))]),n("text",[t._v(t._$s(21,"t0-0",t._s(t.downloadedSize))+t._$s(21,"t0-1",t._s(t.packageFileSize)))])])]):n("button",{staticClass:t._$s(22,"sc","content-button"),attrs:{_i:22},on:{click:t.downloadPackage}},[t._v(t._$s(22,"t0-0",t._s(t.downLoadBtnText)))])]:t._$s(23,"e",t.downloadSuccess&&!t.installed)?n("button",{staticClass:t._$s(23,"sc","content-button"),attrs:{loading:t._$s(23,"a-loading",t.installing),disabled:t._$s(23,"a-disabled",t.installing),_i:23},on:{click:t.installPackage}},[t._v(t._$s(23,"t0-0",t._s(t.installing?"\u6b63\u5728\u5b89\u88c5\u2026\u2026":"\u4e0b\u8f7d\u5b8c\u6210\uff0c\u7acb\u5373\u5b89\u88c5")))]):t._e(),t._$s(24,"i",t.installed&&t.isWGT)?n("button",{staticClass:t._$s(24,"sc","content-button"),attrs:{_i:24},on:{click:t.restart}}):t._e()]],2)]),t._$s(25,"i",!t.is_mandatory)?n("image",{staticClass:t._$s(25,"sc","close-img"),attrs:{src:t._$s(25,"a-src",i("b272")),_i:25},on:{click:function(e){return e.stopPropagation(),t.closeUpdate(e)}}}):t._e()])])},a=[]},c28c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"TianIcons",props:{type:{type:String,default:""},color:{type:String,default:"#333333"},icolor:{type:String,default:""},badgeBgColor:{type:String,default:""},size:{type:[Number,String],default:16},badge:{type:[Number,String],default:0},customIcons:{type:String,default:""},align:{type:String,default:"bottom"}},data:function(){return{}},computed:{iconType:function(){return this.type&&-1!=this.type.indexOf("tian_")?this.type:"tian_"+this.type}},methods:{_onClick:function(){this.$emit("click")}}};e.default=n},c2b7:function(t,e,i){"use strict";i.r(e);var n=i("0b4e"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},c2ee:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianBanner:i("ccbe").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","pay-container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","money"),attrs:{_i:1}},[i("text",[t._v(t._$s(2,"t0-0",t._s(t.money)))])]),i("view",{staticClass:t._$s(3,"sc","bottom"),attrs:{_i:3}},[i("tian-banner",{attrs:{configs:t.configs,_i:4}}),i("view",{staticClass:t._$s(5,"sc","padding-60"),attrs:{_i:5}},[i("button",{attrs:{_i:6},on:{click:t.goHome}},[t._v(t._$s(6,"t0-0",t._s(t.appName)))])])],1)])},a=[]},c304:function(t,e,i){"use strict";i.r(e);var n=i("1f19"),s=i("4741");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},c349:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t+="";while(t.length<e)t="0"+t;return t.slice(-e)}Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=r,e.friendlyDate=o;var s={yyyy:function(t){return n(t.year,4)},yy:function(t){return n(t.year)},MM:function(t){return n(t.month)},M:function(t){return t.month},dd:function(t){return n(t.day)},d:function(t){return t.day},hh:function(t){return n(t.hour)},h:function(t){return t.hour},mm:function(t){return n(t.minute)},m:function(t){return t.minute},ss:function(t){return n(t.second)},s:function(t){return t.second},SSS:function(t){return n(t.millisecond,3)},S:function(t){return t.millisecond}};function a(t){if(t instanceof Date)return t;switch(typeof t){case"string":return t.indexOf("T")>-1?new Date(t):new Date(t.replace(/-/g,"/"));default:return new Date(t)}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd hh:mm:ss";if(!t&&0!==t)return"";t=a(t);var i={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()},n=/yyyy|yy|MM|M|dd|d|hh|h|mm|m|ss|s|SSS|SS|S/,r=!0,o=e;while(r)r=!1,o=o.replace(n,(function(t){return r=!0,s[t](i)}));return o}function o(t,e){var i=e.locale,n=void 0===i?"zh":i,s=e.threshold,o=void 0===s?[6e4,36e5]:s,c=e.format,u=void 0===c?"yyyy/MM/dd hh:mm:ss":c;if("-"===t)return t;if(!t&&0!==t)return"";var l,d,f={zh:{year:"\u5e74",month:"\u6708",day:"\u5929",hour:"\u5c0f\u65f6",minute:"\u5206\u949f",second:"\u79d2",ago:"\u524d",later:"\u540e",justNow:"\u521a\u521a",soon:"\u9a6c\u4e0a",template:"{num}{unit}{suffix}"},en:{year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",ago:"ago",later:"later",justNow:"just now",soon:"soon",template:"{num} {unit} {suffix}"}},h=f[n]||f.zh,_=a(t),p=_.getTime()-Date.now(),m=Math.abs(p);if(m<o[0])return p<0?h.justNow:h.soon;if(m>=o[1])return r(_,u);var g=h.later;p<0&&(g=h.ago,p=-p);var v=Math.floor(p/1e3),b=Math.floor(v/60),y=Math.floor(b/60),w=Math.floor(y/24),$=Math.floor(w/30),x=Math.floor($/12);switch(!0){case x>0:l=x,d=h.year;break;case $>0:l=$,d=h.month;break;case w>0:l=w,d=h.day;break;case y>0:l=y,d=h.hour;break;case b>0:l=b,d=h.minute;break;default:l=v,d=h.second;break}return"en"===n&&(1===l?l="a":d+="s"),h.template.replace(/{\s*num\s*}/g,l+"").replace(/{\s*unit\s*}/g,d).replace(/{\s*suffix\s*}/g,g)}},c4d4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"contact",color:"#000000",size:20}}},border:{type:Boolean,default:!0}},data:function(){return{isFirstChild:!1}},mounted:function(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniList",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},onClick:function(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange:function(t){this.$emit("switchChange",t.detail)},openPage:function(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi:function(t){var e=this,i={url:this.to,success:function(t){e.$emit("click",{data:t})},fail:function(t){e.$emit("click",{data:t})}};switch(t){case"navigateTo":uni.navigateTo(i);break;case"redirectTo":uni.redirectTo(i);break;case"reLaunch":uni.reLaunch(i);break;case"switchTab":uni.switchTab(i);break;default:uni.navigateTo(i)}}}};e.default=n},c4df:function(t,e,i){"use strict";i.r(e);var n=i("c2ee"),s=i("ed31");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},c588:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianIcons:i("6439").default,uniDateformat:i("3a22").default,tianExpressDetail:i("b19b").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","header"),attrs:{_i:1}},[t._$s(2,"i",t.item.state)?i("view",{staticClass:t._$s(2,"sc","ti-flex"),attrs:{_i:2}},[i("tian-icons",{attrs:{type:t.item.state.icon,align:"right",size:"30",color:"#ffffff",_i:3}}),i("view",{staticClass:t._$s(4,"sc","flex-1 margin-left-6"),attrs:{_i:4}},[i("text",{staticClass:t._$s(5,"sc","font-40"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.item.state.text)))]),t._$s(6,"i",t.item.state.content)?i("view",{staticClass:t._$s(6,"sc","font-20 margin-top-12"),attrs:{_i:6}},[i("text",[t._v(t._$s(7,"t0-0",t._s(t.item.state.content)))])]):t._e()])],1):t._e()]),t._$s(8,"i",t.item.address)?i("view",{staticClass:t._$s(8,"sc","item address ti-flex"),attrs:{_i:8}},[i("tian-icons",{attrs:{type:"shouhuodizhi1",align:"right",color:"#eb4e38",size:"30",_i:9}}),i("view",{staticClass:t._$s(10,"sc","flex-1 margin-left-6"),attrs:{_i:10}},[i("view",{attrs:{_i:11},on:{click:function(e){return t.tel(t.item.address.mobile)}}},[i("text",{staticClass:t._$s(12,"sc","font-36"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.item.address.name)))]),i("text",{staticClass:t._$s(13,"sc","margin-left-10"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.item.address.mobile)))]),i("tian-icons",{staticClass:t._$s(14,"sc","margin-left-10"),attrs:{type:"dianhua",color:"#eb4e38",_i:14}})],1),i("view",{staticClass:t._$s(15,"sc","font-20 margin-top-12 colorGray"),attrs:{_i:15}},[i("text",[t._v(t._$s(16,"t0-0",t._s(t.item.address.formatted_address)))]),i("text",[t._v(t._$s(17,"t0-0",t._s(t.item.address.address)))])])])],1):t._e(),t._$s(18,"i",t.item.pickUpCode)?i("view",{staticClass:t._$s(18,"sc","address item"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","ti-flex font-32 padding-lr-24 padding-top-10"),attrs:{_i:19}},[i("text",{staticClass:t._$s(20,"sc","flex-1"),attrs:{_i:20}}),i("text",{staticClass:t._$s(21,"sc","flex-1"),attrs:{_i:21}})]),t._l(t._$s(22,"f",{forItems:t.item.pickUpCode}),(function(e,n,s,a){return i("view",{key:t._$s(22,"f",{forIndex:s,key:n}),staticClass:t._$s("22-"+a,"sc","ti-flex font-32  padding-top-10 colorRed"),attrs:{_i:"22-"+a}},[i("text",{staticClass:t._$s("23-"+a,"sc","flex-1"),attrs:{_i:"23-"+a}},[t._v(t._$s("23-"+a,"t0-0",t._s(e.account)))]),i("text",{staticClass:t._$s("24-"+a,"sc","flex-1"),attrs:{_i:"24-"+a}},[t._v(t._$s("24-"+a,"t0-0",t._s(e.password)))]),t._$s("25-"+a,"i",e.isUse)?i("text"):i("text",{staticClass:t._$s("26-"+a,"sc","colorGreen"),attrs:{_i:"26-"+a}})])}))],2):t._e(),i("view",{staticClass:t._$s(27,"sc","item"),attrs:{_i:27}},[i("view",{staticClass:t._$s(28,"sc","ti-flex"),attrs:{_i:28}},[i("view",{staticClass:t._$s(29,"sc","flex-1"),attrs:{_i:29}},[i("text"),i("text",[t._v(t._$s(31,"t0-0",t._s(t.item.id)))])]),i("text",{staticClass:t._$s(32,"sc","colorRed margin-left-16"),attrs:{_i:32},on:{click:function(e){return t.copy(t.item.id)}}})]),i("view",{staticClass:t._$s(33,"sc","margin-top-12"),attrs:{_i:33}},[i("text"),i("uni-dateformat",{staticClass:t._$s(35,"sc","font-20"),attrs:{date:t.item.create_time,format:"yyyy-MM-dd hh:mm:ss",threshold:[0,0],_i:35}})],1),t._$s(36,"i",t.item.payInfo)?i("view",{staticClass:t._$s(36,"sc","margin-top-12"),attrs:{_i:36}},[i("text"),i("uni-dateformat",{staticClass:t._$s(38,"sc","font-20"),attrs:{date:t.item.payInfo.time,format:"yyyy-MM-dd hh:mm:ss",threshold:[0,0],_i:38}})],1):t._e(),t._$s(39,"i",t.item.invoice)?i("view",{staticClass:t._$s(39,"sc","margin-top-12"),attrs:{_i:39}},[i("text"),i("text",[t._v(t._$s(41,"t0-0",t._s(t.item.invoice)))])]):t._e()]),i("view",{staticClass:t._$s(42,"sc","item"),attrs:{_i:42}},[i("view",{staticClass:t._$s(43,"sc","ti-flex"),attrs:{_i:43}},[i("view",{staticClass:t._$s(44,"sc","flex-1"),attrs:{_i:44}},[i("text")]),i("text",{staticClass:t._$s(46,"sc","price normal"),attrs:{_i:46}},[t._v(t._$s(46,"t0-0",t._s(t.item.goods_total_fee/100)))])]),i("view",{staticClass:t._$s(47,"sc","margin-top-12 ti-flex"),attrs:{_i:47}},[i("view",{staticClass:t._$s(48,"sc","flex-1"),attrs:{_i:48}},[i("text")]),i("text",{staticClass:t._$s(50,"sc","price normal"),attrs:{_i:50}},[t._v(t._$s(50,"t0-0",t._s(t.item.freight/100)))])]),i("view",{staticClass:t._$s(51,"sc","margin-top-12 ti-flex"),attrs:{_i:51}},[i("view",{staticClass:t._$s(52,"sc","flex-1"),attrs:{_i:52}},[i("text")]),i("text",{staticClass:t._$s(54,"sc","margin-right-12"),attrs:{_i:54}},[t._v(t._$s(54,"t0-0",t._s(t.item.score)))])]),i("view",{staticClass:t._$s(55,"sc","margin-top-12 ti-flex"),attrs:{_i:55}},[i("view",{staticClass:t._$s(56,"sc","flex-1"),attrs:{_i:56}},[i("text")]),i("text"),i("text",{staticClass:t._$s(59,"sc","price normal"),attrs:{_i:59}},[t._v(t._$s(59,"t0-0",t._s(t.item.discount/100)))])]),i("view",{staticClass:t._$s(60,"sc","margin-top-12 ti-flex font-36"),attrs:{_i:60}},[i("view",{staticClass:t._$s(61,"sc","flex-1"),attrs:{_i:61}},[i("text")]),i("text",{staticClass:t._$s(63,"sc","price font-36"),attrs:{_i:63}},[t._v(t._$s(63,"t0-0",t._s(t.item.total_fee/100)))])])]),i("view",{staticClass:t._$s(64,"sc","padding-lr-20 bg-white padding-top-10 padding-bottom-20"),attrs:{_i:64}},t._l(t._$s(65,"f",{forItems:t.item.goods}),(function(e,n,s,a){return i("view",{key:t._$s(65,"f",{forIndex:s,key:n}),staticClass:t._$s("65-"+a,"sc","ti-flex margin-top-12 "),attrs:{_i:"65-"+a}},[i("image",{staticClass:t._$s("66-"+a,"sc","image-width-120 border-radius"),attrs:{src:t._$s("66-"+a,"a-src",e.goods_thumb),_i:"66-"+a}}),i("view",{staticClass:t._$s("67-"+a,"sc","flex-1 padding-left-12"),attrs:{_i:"67-"+a}},[i("view",[i("text",[t._v(t._$s("69-"+a,"t0-0",t._s(e.name)))])]),i("view",[i("text",{staticClass:t._$s("71-"+a,"sc","font-24"),attrs:{_i:"71-"+a}},[t._v(t._$s("71-"+a,"t0-0",t._s(e.sku_name)))])]),i("view",{staticClass:t._$s("72-"+a,"sc","ti-flex between"),attrs:{_i:"72-"+a}},[i("view",[i("text",{staticClass:t._$s("74-"+a,"sc","price"),attrs:{_i:"74-"+a}},[t._v(t._$s("74-"+a,"t0-0",t._s(e.price/100)))]),t._$s("75-"+a,"i",e.use_score)?i("text",{staticClass:t._$s("75-"+a,"sc","font-20"),attrs:{_i:"75-"+a}},[t._v(t._$s("75-"+a,"t0-0",t._s(e.use_score)))]):t._e(),i("text",{staticClass:t._$s("76-"+a,"sc","margin-left-10"),attrs:{_i:"76-"+a}},[t._v(t._$s("76-"+a,"t0-0",t._s(e.amount)))])]),i("view",[t._$s("78-"+a,"i",e.canRefund)?i("button",{staticClass:t._$s("78-"+a,"sc","margin-left-10"),attrs:{_i:"78-"+a},on:{click:function(i){return t.refundGoods(t.item,e)}}}):t._e(),t._$s("79-"+a,"i",e.is_refunding)?i("text",{staticClass:t._$s("79-"+a,"sc","colorRed margin-right-12"),attrs:{_i:"79-"+a}}):t._e()])])])])})),0),t._$s(80,"i",t.item.delivers&&t.item.delivers.length>1)?[i("view",{staticClass:t._$s(81,"sc","font-24 ti-flex between padding-24 tabs"),attrs:{_i:81}},t._l(t._$s(82,"f",{forItems:t.item.delivers}),(function(e,n,s,a){return i("view",{key:t._$s(82,"f",{forIndex:s,key:n}),class:t._$s("82-"+a,"c",{current:t.expressIndex==n}),attrs:{_i:"82-"+a},on:{click:function(i){return t.showExpress(e,n)}}},[i("text",{staticClass:t._$s("83-"+a,"sc","font-30"),attrs:{_i:"83-"+a}},[t._v(t._$s("83-"+a,"t0-0",t._s(e.company)))]),i("view",[i("text",[t._v(t._$s("85-"+a,"t0-0",t._s(e.number)))])])])})),0),t._l(t._$s(86,"f",{forItems:t.expressGoods}),(function(e,n,s,a){return i("view",{key:t._$s(86,"f",{forIndex:s,key:n}),staticClass:t._$s("86-"+a,"sc","ti-flex  padding-20 bg-white"),attrs:{_i:"86-"+a}},[i("image",{staticClass:t._$s("87-"+a,"sc","image-width-120 border-radius"),attrs:{src:t._$s("87-"+a,"a-src",e.goods_thumb),_i:"87-"+a}}),i("view",{staticClass:t._$s("88-"+a,"sc","flex-1 padding-left-12"),attrs:{_i:"88-"+a}},[i("view",{staticClass:t._$s("89-"+a,"sc","font-24"),attrs:{_i:"89-"+a}},[i("text",[t._v(t._$s("90-"+a,"t0-0",t._s(e.name)))])]),i("view",[i("text",{staticClass:t._$s("92-"+a,"sc","font-24"),attrs:{_i:"92-"+a}},[t._v(t._$s("92-"+a,"t0-0",t._s(e.sku_name)))])]),i("view",{staticClass:t._$s("93-"+a,"sc","ti-flex between"),attrs:{_i:"93-"+a}},[i("text",{staticClass:t._$s("94-"+a,"sc","price"),attrs:{_i:"94-"+a}},[t._v(t._$s("94-"+a,"t0-0",t._s(e.price/100)))]),i("text",[t._v(t._$s("95-"+a,"t0-0",t._s(e.amount)))])])])])}))]:t._e(),t._$s(96,"i",t.expressValue&&t.expressValue.number)?i("view",{staticClass:t._$s(96,"sc","bg-white"),attrs:{_i:96}},[i("tian-express-detail",{attrs:{notice:!1,closeBtn:!1,height:"auto",value:t.expressValue,_i:97},on:{canceled:t.closeExpressDetailPopup}})],1):t._e()],2)},a=[]},c75e:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var r=t.apply(e,i);function o(t){a(r,n,s,o,c,"next",t)}function c(t){a(r,n,s,o,c,"throw",t)}o(void 0)}))}}var o={namespaced:!0,state:{cartCount:0,getCartTime:0,mainCategory:{},articleRead:[]},mutations:{TOGGLE_CATEGORY_ACTIVE:function(t,e){t.mainCategory=e},UPDATE_CART_NUMBER:function(t,e){t.cartCount=e},INCREMENT_CART_NUMBER:function(e,i){t("log","\u9012\u589e\u8d2d\u7269\u8f66\u6570\u91cf",i," at store/modules/mall.js:29"),e.cartCount+=i},UPDATE_ARTICLE_READ:function(t,e){-1==t.articleRead.indexOf(e)&&t.articleRead.push(e)}},actions:{getCartTotal:function(t){return r(n.default.mark((function e(){return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.state,t.commit;case 1:case"end":return e.stop()}}),e)})))()}}};e.default=o}).call(this,i("0de9")["default"])},c865:function(t,e,i){"use strict";i.r(e);var n=i("aa34"),s=i("b952");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},c8b5:function(t,e,i){"use strict";(function(t,i){function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t.database(),o={data:function(){return{where:"",firstImg:{},secondImg:{},dataList:[],current:0,options:{display:"default",mode:"mode_1_1_2",width:716,height:300}}},props:{configs:{type:Object,default:function(){return{}}},items:{type:Array,default:function(){return[]}}},created:function(){i("log","ad created",this.configs," at uni_modules/tian-mall/components/tian-banner-image/tian-banner-image.vue:91"),this.configs&&(this.options=Object.assign(this.options,s({},this.configs))),this.items&&this.items.length>0?(this.dataList=this.items,this.buildData(this.dataList)):this.loadData()},methods:{navToItem:function(t,e){var i=t.open_url;if("string"==typeof i)if("preview"==i){if(this.options.preview_mode&&"single"==this.options.preview_mode)return void uni.previewImage({current:e,urls:[this.dataList[e].url]});uni.previewImage({current:e,urls:this.dataList.map((function(t){return t.url}))})}else this.navTo(i);else this.$emit("click",t)},change:function(t){this.current=t.detail.current},loadData:function(){var t=this;r.collection("opendb-banner").where('status==true && category_id=="'.concat(this.configs.category_id,'"')).field("open_url,bannerfile").orderBy("sort asc").get().then((function(e){var i=e.result;t.buildData(i.data),t.dataList=i.data}))},buildData:function(t){var e=this,n=2;if(t.forEach((function(t){t.url=e.$thumbImg(t.bannerfile.url,"".concat(e.options.width,"x").concat(e.options.height)),t.height=e.options.height,t.width=e.options.height})),this.firstImg=t.shift(),this.firstImg.width=this.options.width,this.secondImg=t.shift(),"mode_1_1_2"==this.options.mode?(this.secondImg.width=this.options.width/3*2,this.secondImg.height=2*this.options.height):"mode_2_2"==this.options.mode?(this.secondImg.width=this.firstImg.width=this.options.width/2,t.forEach((function(t){t.width=e.secondImg.width}))):"mode_2_3"==this.options.mode&&(n=3,this.secondImg.width=this.firstImg.width=this.options.width/2),t.length>n)for(var s=0;s<t.length-n;s++)t.pop();i("log",this.firstImg," at uni_modules/tian-mall/components/tian-banner-image/tian-banner-image.vue:179")}}};e.default=o}).call(this,i("a9ff")["default"],i("0de9")["default"])},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},c903:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(t){this.config[t]&&this[this.config[t]](!0)},immediate:!0},isDesktop:{handler:function(t){this.config[t]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(t){this.mkclick=t},immediate:!0},isMaskClick:{handler:function(t){this.mkclick=t},immediate:!0},showPopup:function(t){}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{isDesktop:function(){return this.popupWidth>=500&&this.popupHeight>=500},bg:function(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted:function(){var t=this,e=function(){var e=uni.getSystemInfoSync(),i=e.windowWidth,n=e.windowHeight,s=e.windowTop,a=e.safeArea,r=(e.screenHeight,e.safeAreaInsets);t.popupWidth=i,t.popupHeight=n+s,t.safeAreaInsets=a?r.bottom:0};e()},created:function(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{closeMask:function(){this.maskShow=!1},disableMask:function(){this.mkclick=!1},clear:function(t){t.stopPropagation(),this.clearPropagation=!0},open:function(e){var i=["top","center","bottom","left","right","message","dialog","share"];e&&-1!==i.indexOf(e)||(e=this.type),this.config[e]?(this[this.config[e]](),this.$emit("change",{show:!0,type:e})):t("error","\u7f3a\u5c11\u7c7b\u578b\uff1a",e," at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:246")},close:function(t){var e=this;this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((function(){e.showPopup=!1}),300)},touchstart:function(){this.clearPropagation=!1},onTap:function(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top:function(t){var e=this;this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((function(){e.messageChild&&"message"===e.type&&e.messageChild.timerClose()})))},bottom:function(t){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0)},center:function(t){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},t||(this.showPopup=!0,this.showTrans=!0)},left:function(t){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)},right:function(t){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)}}};e.default=i}).call(this,i("0de9")["default"])},c909:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.request=d,e.initRequest=f;var s=r(i("f9f2")),a=r(i("992a"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l=t.database();function d(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.showModal,o=void 0===r||r,u=a.loading,l=void 0!==u&&u,d=a.functionName,f=void 0===d?"tiantian-mall":d;a.checkAuthInvalid;return l&&uni.showLoading({title:"\u52a0\u8f7d\u4e2d",mask:!0}),t.callFunction({name:f,data:{action:e,data:i}}).then((function(t){var e=t.result;if(n("log","request",e," at js_sdk/mall/request.js:36"),uni.hideLoading(),!e)return Promise.resolve(e);if(e.code){var i=e.message;"string"===typeof e.code&&(0===e.code.indexOf("InternalServerError")?i="\u7cfb\u7edf\u7e41\u5fd9":0===e.code.indexOf("TOKEN_INVALID")&&(i="\u767b\u5f55\u72b6\u6001\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"));var a=c(c({},e),{},{message:i});return Promise.reject(a)}var r=e.token,o=e.tokenExpired,u=e.type,l=e.uid,d=e.userInfo;return u&&"register"==u&&(d._id=l),r&&o&&s.default.commit("user/SET_TOKEN",{token:r,tokenExpired:o,userInfo:d}),Promise.resolve(e)})).catch((function(t){var e=t.message;return-1!=e.indexOf("403")?e="\u8fd0\u8425\u5546\u6d41\u91cf\u9650\u5236,\u8bf7\u7a0d\u540e\u518d\u8bd5":-1!=e.indexOf("request:fail")&&(e="\u8054\u7f51\u5931\u8d25,\u8bf7\u68c0\u67e5\u7f51\u7edc"),uni.hideLoading(),o&&uni.showModal({content:e||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1,success:function(){}}),Promise.reject(t)}))}function f(t){t.prototype.$request=d,t.prototype.$config=a.default}l.on("refreshToken",(function(t){var e=t.token,i=t.tokenExpired;s.default.commit("user/SET_TOKEN",{token:e,tokenExpired:i})}))}).call(this,i("a9ff")["default"],i("0de9")["default"])},c9e6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("96d5")),s=r(i("2985")),a=r(i("eebe"));function r(t){return t&&t.__esModule?t:{default:t}}var o={en:n.default,"zh-Hans":s.default,"zh-Hant":a.default};e.default=o},c9eb:function(t,e,i){"use strict";i.r(e);var n=i("e3cf"),s=i("3331");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"83923fea",null,!1,n["a"],r);e["default"]=c.exports},ca96:function(t,e,i){"use strict";i.r(e);var n=i("1511"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},cb5c:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-grid-wrap"),attrs:{_i:0}},[i("view",{ref:"uni-grid",staticClass:t._$s(1,"sc","uni-grid"),class:t._$s(1,"c",{"uni-grid--border":t.showBorder}),style:t._$s(1,"s",{"border-left-color":t.borderColor}),attrs:{id:t._$s(1,"a-id",t.elId),_i:1}},[t._t("default",null,{_i:2})],2)])},a=[]},cbc7:function(t,e,i){"use strict";i.r(e);var n=i("a6b8"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},ccbe:function(t,e,i){"use strict";i.r(e);var n=i("42f3"),s=i("283c");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},cf3d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=["titleIcon","titleIconRadius","subtitleText","subtitleSize","subtitleColor","subtitleOverflow","titleAlign","backgroundImage","backgroundRepeat","blurEffect"],s={props:{title:{type:String,default:""},titleIcon:{type:String,default:""},titleIconRadius:{type:String,default:""},subtitleText:{type:String,default:""},subtitleSize:{type:String,default:""},subtitleColor:{type:String,default:""},subtitleOverflow:{type:String,default:""},titleAlign:{type:String,default:""},backgroundImage:{type:String,default:""},backgroundRepeat:{type:String,default:""},blurEffect:{type:String,default:""},loading:{type:Boolean,default:!1},frontColor:{type:String,default:"#ffffff"},backgroundColor:{type:String,default:"#000000"},colorAnimationDuration:{type:Number,default:0},colorAnimationTimingFunc:{type:String,default:"linear"}},created:function(){var t=this,e=getCurrentPages(),i=e[e.length-1];this.__$page=i,this.$watch("title",(function(){t.setNavigationBarTitle()})),this.$watch("loading",(function(){t.setNavigationBarLoading()})),this.$watch((function(){return[t.frontColor,t.backgroundColor,t.colorAnimationDuration,t.colorAnimationTimingFunc]}),(function(){t.setNavigationBarColor()})),this.__$webview=i.$getAppWebview(),n.forEach((function(e){var i={};(t[e]||t[e].length>0)&&(i[e]=t[e]),t.setTitleNView(i),t.$watch(e,(function(i){var n={};n[e]=i,t.setTitleNView(n)}))}))},beforeMount:function(){this.title&&this.setNavigationBarTitle(),this.setNavigationBarLoading(),this.setNavigationBarColor()},methods:{setNavigationBarTitle:function(){uni.setNavigationBarTitle({__page__:this.__$page,title:this.title})},setNavigationBarLoading:function(){uni[(this.loading?"show":"hide")+"NavigationBarLoading"]({__page__:this.__$page})},setNavigationBarColor:function(){uni.setNavigationBarColor({__page__:this.__$page,frontColor:this.frontColor,backgroundColor:this.backgroundColor,animation:{duration:this.colorAnimationDuration,timingFunc:this.colorAnimationTimingFunc}})},setTitleNView:function(t){var e=this.__$webview,i=e.getStyle();i&&i.titleNView&&e.setStyle({titleNView:t})}}};e.default=s},cf42:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-popup-dialog"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-dialog-title"),attrs:{_i:1}},[i("text",{staticClass:t._$s(2,"sc","uni-dialog-title-text"),class:t._$s(2,"c",["uni-popup__"+t.dialogType]),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.titleText)))])]),t._$s(3,"i","base"===t.mode)?i("view",{staticClass:t._$s(3,"sc","uni-dialog-content"),attrs:{_i:3}},[t._t("default",[i("text",{staticClass:t._$s(5,"sc","uni-dialog-content-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.content)))])],{_i:4})],2):i("view",{staticClass:t._$s(6,"sc","uni-dialog-content"),attrs:{_i:6}},[t._t("default",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:t._$s(8,"sc","uni-dialog-input"),attrs:{placeholder:t._$s(8,"a-placeholder",t.placeholderText),focus:t._$s(8,"a-focus",t.focus),_i:8},domProps:{value:t._$s(8,"v-model",t.val)},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})],{_i:7})],2),i("view",{staticClass:t._$s(9,"sc","uni-dialog-button-group"),attrs:{_i:9}},[i("view",{staticClass:t._$s(10,"sc","uni-dialog-button"),attrs:{_i:10},on:{click:t.closeDialog}},[i("text",{staticClass:t._$s(11,"sc","uni-dialog-button-text"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.closeText)))])]),i("view",{staticClass:t._$s(12,"sc","uni-dialog-button uni-border-left"),attrs:{_i:12},on:{click:t.onOk}},[i("text",{staticClass:t._$s(13,"sc","uni-dialog-button-text uni-button-color"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.okText)))])])])])},a=[]},cfd0:function(t,e,i){"use strict";i.r(e);var n=i("7215"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},d07d:function(t,e,i){"use strict";i.r(e);var n=i("431b"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},d09e:function(t,e,i){var n={"./app.js":"4733","./mall.js":"c75e","./user.js":"febb"};function s(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=a,t.exports=s,s.id="d09e"},d0c3:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","login-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,_i:1}},[i("view",[i("text")]),i("view",[i("text",{staticClass:t._$s(5,"sc","colorBlue"),attrs:{_i:5},on:{click:function(e){return t.navTo("/pages/app/contact")}}})]),i("uni-forms-item",{attrs:{required:!0,name:"mobile",_i:6}},[i("view",{staticClass:t._$s(7,"sc","margin-top-60 "),attrs:{_i:7}},[i("uni-easyinput",{attrs:{type:"number",maxlength:"11",inputBorder:!1,placeholder:"\u8f93\u5165\u9080\u8bf7\u8005\u624b\u673a\u53f7\u7801/\u9080\u8bf7\u7801",_i:8},model:{value:t._$s(8,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1)]),i("view",{staticClass:t._$s(9,"sc","margin-top-40 ti-flex"),attrs:{_i:9}},[i("button",{staticClass:t._$s(10,"sc","flex-1"),attrs:{disabled:t._$s(10,"a-disabled",t.isSubmit),_i:10},on:{click:t.submit}}),i("button",{staticClass:t._$s(11,"sc","flex-1 margin-left-16"),attrs:{disabled:t._$s(11,"a-disabled",t.isSubmit),_i:11},on:{click:function(e){return t.navTo("/pages/user/account")}}})])],1)],1)},a=[]},d1dd:function(t,e,i){"use strict";i.r(e);var n=i("d6ec"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},d237:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._t("default",null,{options:t.options,data:t.dataList,pagination:t.paginationInternal,loading:t.loading,hasMore:t.hasMore,error:t.errorMessage,_i:1})],2)},a=[]},d24c:function(t,e,i){"use strict";i.r(e);var n=i("0ba1"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},d2e9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initUtil=o,e.getDeviceUUID=c;var n=i("adf2");function s(t){var e=["B","KB","MB","GB","TB"];if(0==t)return"n/a";var i=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return 0==i?t+" "+e[i]:(t/Math.pow(1024,i)).toFixed(1)+" "+e[i]}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];uni.hideLoading(),t&&uni.showToast({title:t,duration:e,mask:n,icon:i})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,i=arguments.length>2?arguments[2]:void 0;a(t,e,"success",i)}function o(t){t.prototype.$dateFormat=n.dateFormat,t.prototype.$formatBytes=s,t.prototype.$message=a,t.prototype.$success=r,t.prototype.$throttle=n.throttle,t.prototype.$getUnique=n.getUnique,t.prototype.$thumbImg=n.thumbImg,t.prototype.$prePage=n.prePage,t.prototype.$repairImageSize=n.repairImageSize,t.prototype.$stringFormat=n.stringFormat}function c(){var t=uni.getStorageSync("uni_deviceId")||uni.getSystemInfoSync().deviceId||uni.getSystemInfoSync().system+"_"+Math.random().toString(36).substr(2);return uni.setStorageSync("uni_deviceId",t),t}},d31a:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,tianEmpty:i("2789").default,uniDateformat:i("3a22").default,uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-balances",field:"amount,type,balance,comment,create_date",where:"user_id==$cloudEnv_uid",orderby:"create_date desc",_i:1},on:{load:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options,e.hasMore);return[n._$s("2-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u6570\u636e",marginTop:"300",_i:"2-"+s}}):i("view",{staticClass:n._$s(3,"sc","goods-list "),attrs:{_i:3}},t._l(n._$s(4,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s(4,"f",{forIndex:r,key:a}),staticClass:n._$s("4-"+o,"sc","under-line goods bg-white"),attrs:{_i:"4-"+o}},[i("view",{staticClass:n._$s("5-"+o,"sc","goods-content"),attrs:{_i:"5-"+o}},[i("view",{staticClass:n._$s("6-"+o,"sc","title ti-flex"),attrs:{_i:"6-"+o}},[i("text",{attrs:{_i:"7-"+o}},[t._v(n._$s("7-"+o+s,"t0-0",t._s(e.comment)))]),i("view",{staticClass:n._$s("8-"+o,"sc","flex-1"),attrs:{_i:"8-"+o}}),i("text",{staticClass:n._$s("9-"+o,"sc","jifen"),class:n._$s("9-"+o,"c",{xiaofei:2==e.type}),attrs:{_i:"9-"+o}},[t._v(n._$s("9-"+o+s,"t0-0",t._s(e.amount/100)))])]),i("view",{staticClass:n._$s("10-"+o,"sc","ti-flex font-24 colorGray margin-top-12"),attrs:{_i:"10-"+o}},[i("uni-dateformat",{staticClass:n._$s("11-"+o,"sc","font-20"),attrs:{date:e.create_date,format:"yyyy/MM/dd hh:mm",threshold:[6e4,36e5],_i:"11-"+o}}),i("view",{staticClass:n._$s("12-"+o,"sc","flex-1"),attrs:{_i:"12-"+o}}),i("text",{attrs:{_i:"13-"+o}},[t._v(n._$s("13-"+o+s,"t0-0",t._s(e.balance/100)))])],1)])])})),0),n._$s("14-"+s,"i",r||o)?i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"14-"+s}}):t._e()]}}])})],1)},a=[]},d348:function(t,e,i){"use strict";i.r(e);var n=i("9bab"),s=i("1306");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},d36d:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={computed:{posterUrl:function(){return this.poster?this.poster:this.url+"?x-oss-process=video/snapshot,t_"+parseInt(1e3*this.currentTime)+",f_jpg,w_800,m_fast"}},created:function(){this.videoId=Date.now()+Math.ceil(1e7*Math.random())+""},mounted:function(){this.VideoContext=uni.createVideoContext(this.videoId)},methods:{fullscreenchange:function(e){t("log",e.detail.fullScreen," at components/j-video/j-video.vue:29"),this.state=e.detail.fullScreen},timeupdate:function(t){this.duration=t.detail.duration,this.currentTime=t.detail.currentTime}},watch:{state:function(e,i){var n=this;t("log",e,"state"," at components/j-video/j-video.vue:40"),e?(this.isShow=!0,this.$nextTick((function(){n.VideoContext.play(),n.VideoContext.requestFullScreen({direction:n.direction})}))):(this.VideoContext.pause(),this.isShow=!1)}},data:function(){return{VideoContext:{},state:!1,isShow:!1,currentTime:0,duration:0,videoId:""}},props:{poster:{type:[String,Boolean],default:function(){return""}},url:{type:String,default:function(){return""}},direction:{type:Number,default:function(){return 0}},width:{type:String,default:function(){return"750rpx"}},height:{type:String,default:function(){return"450rpx"}}}};e.default=i}).call(this,i("0de9")["default"])},d3b4:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[t._$s(1,"i",t.src)?i("web-view",{attrs:{src:t._$s(1,"a-src",t.src),_i:1}}):t._e()])},a=[]},d3d3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniNumberBox",emits:["change","input","update:modelValue","blur","focus"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},background:{type:String,default:"#f5f5f5"},color:{type:String,default:"#333"},disabled:{type:Boolean,default:!1}},data:function(){return{inputValue:0}},watch:{value:function(t){this.inputValue=+t},modelValue:function(t){this.inputValue=+t}},created:function(){1===this.value&&(this.inputValue=+this.modelValue),1===this.modelValue&&(this.inputValue=+this.value)},methods:{_calcValue:function(t){if(!this.disabled){var e=this._getDecimalScale(),i=this.inputValue*e,n=this.step*e;if("minus"===t){if(i-=n,i<this.min*e)return;i>this.max*e&&(i=this.max*e)}if("plus"===t){if(i+=n,i>this.max*e)return;i<this.min*e&&(i=this.min*e)}this.inputValue=(i/e).toFixed(String(e).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue)}},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,String(this.step).split(".")[1].length)),t},_onBlur:function(t){this.$emit("blur",t);var e=t.detail.value;if(e){e=+e,e>this.max?e=this.max:e<this.min&&(e=this.min);var i=this._getDecimalScale();this.inputValue=e.toFixed(String(i).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue)}},_onFocus:function(t){this.$emit("focus",t)}}};e.default=n},d400:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianEmpty:i("2789").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[i("tian-empty",{attrs:{text:"\u6682\u65e0\u53ef\u7528\u4f18\u60e0\u5238",_i:1}})],1)},a=[]},d41d:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,tianEmpty:i("2789").default,tianGoodsPrice:i("956e").default,tianIcons:i("6439").default,uniLoadMore:i("458a").default,tianGoodsSku:i("5a97").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","goods-list-container"),class:t._$s(0,"c",[t.configs.style]),attrs:{_i:0}},[i("unicloud-db",{ref:"udb",attrs:{collection:t.collection+",opendb-mall-goods",action:"goods_member,cart_goods",field:t.field+",goods_id{_id as goods_id,goods_sn,name,keywords,shop_id,goods_thumb,price,market_price,sku_name,is_vip,remain_count,month_sell_count,total_sell_count,comment_count,is_real,is_on_sale,is_alone_sale,is_best,is_new,is_hot,add_date,last_modify_date,use_score,use_score_rate}",where:t.where,options:t.configs,orderby:t.orderby,_i:1},on:{load:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options),c=e.hasMore;return[n._$s("2-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u6570\u636e",_i:"2-"+s}}):t._e(),i("view",{staticClass:n._$s("3-"+s,"sc","goods-list"),class:n._$s("3-"+s,"c",[o.style]),attrs:{_i:"3-"+s}},[t._l(n._$s("4-"+s,"f",{forItems:a}),(function(e,a,r,c){return[n._$s("5-"+s+c,"i",e.groupTime)?i("view",{key:n._$s("4-"+s,"f",{forIndex:r,keyIndex:0,key:a+"_0"}),staticClass:n._$s("5-"+s+c,"sc","colorGray padding-22"),attrs:{_i:"5-"+s+c}},[i("text",{attrs:{_i:"6-"+s+c}},[t._v(n._$s("6-"+s+c,"t0-0",t._s(e.groupTime)))])]):t._e(),i("view",{key:n._$s("4-"+s,"f",{forIndex:r,keyIndex:1,key:a+"_1"}),staticClass:n._$s("7-"+s+c,"sc","goods"),attrs:{_i:"7-"+s+c}},[i("image",{staticClass:n._$s("8-"+s+c,"sc","image-width-168 goods-image"),attrs:{src:n._$s("8-"+s+c,"a-src",e.goods_thumb),mode:"aspectFill",_i:"8-"+s+c},on:{click:function(i){return t.navToDetail(e)}}}),i("view",{staticClass:n._$s("9-"+s+c,"sc","goods-content"),attrs:{_i:"9-"+s+c}},[i("view",{staticClass:n._$s("10-"+s+c,"sc","title"),attrs:{_i:"10-"+s+c},on:{click:function(i){return t.navToDetail(e)}}},[i("text",{attrs:{_i:"11-"+s+c}},[t._v(n._$s("11-"+s+c,"t0-0",t._s(e.name)))])]),i("view",{staticClass:n._$s("12-"+s+c,"sc","ti-flex"),attrs:{_i:"12-"+s+c}},[i("tian-goods-price",{staticClass:n._$s("13-"+s+c,"sc","flex-1"),attrs:{value:e,_i:"13-"+s+c},on:{click:function(i){return t.openSku(e)}}}),n._$s("14-"+s+c,"i",o.withDel)?i("tian-icons",{staticClass:n._$s("14-"+s+c,"sc","padding-left-30"),attrs:{type:"shanchu",size:"26",icolor:"#ec6535",_i:"14-"+s+c},on:{click:function(i){return t.delItem(e)}}}):t._e()],1)])])]}))],2),n._$s("15-"+s,"i",r||c)?i("uni-load-more",{attrs:{status:r?"loading":c?"more":"noMore",_i:"15-"+s}}):t._e()]}}])}),t._$s(16,"i",t.withSku)?i("tian-goods-sku",{ref:"tianSkuPop",attrs:{value:t.goods,_i:16}}):t._e()],1)},a=[]},d567:function(t,e,i){"use strict";i.r(e);var n=i("261e"),s=i("b527");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},d574:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.show)?i("view",{staticClass:t._$s(0,"sc","uni-noticebar"),style:t._$s(0,"s",{backgroundColor:t.backgroundColor}),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",!0===t.showIcon||"true"===t.showIcon)?i("uni-icons",{staticClass:t._$s(1,"sc","uni-noticebar-icon"),attrs:{type:"sound",color:t.color,size:"22",_i:1}}):t._e(),i("view",{ref:"textBox",staticClass:t._$s(2,"sc","uni-noticebar__content-wrapper"),class:t._$s(2,"c",{"uni-noticebar__content-wrapper--scrollable":t.scrollable,"uni-noticebar__content-wrapper--single":!t.scrollable&&(t.single||t.moreText)}),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-noticebar__content"),class:t._$s(3,"c",{"uni-noticebar__content--scrollable":t.scrollable,"uni-noticebar__content--single":!t.scrollable&&(t.single||t.moreText)}),attrs:{id:t._$s(3,"a-id",t.elIdBox),_i:3}},[i("text",{ref:"animationEle",staticClass:t._$s(4,"sc","uni-noticebar__content-text"),class:t._$s(4,"c",{"uni-noticebar__content-text--scrollable":t.scrollable,"uni-noticebar__content-text--single":!t.scrollable&&(t.single||t.showGetMore)}),style:t._$s(4,"s",{color:t.color,width:t.wrapWidth+"px",animationDuration:t.animationDuration,"-webkit-animationDuration":t.animationDuration,animationPlayState:t.webviewHide?"paused":t.animationPlayState,"-webkit-animationPlayState":t.webviewHide?"paused":t.animationPlayState,animationDelay:t.animationDelay,"-webkit-animationDelay":t.animationDelay}),attrs:{id:t._$s(4,"a-id",t.elId),_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.text)))])])]),t._$s(5,"i",!0===t.showGetMore||"true"===t.showGetMore)?i("view",{staticClass:t._$s(5,"sc","uni-noticebar__more uni-cursor-point"),attrs:{_i:5},on:{click:t.clickMore}},[t._$s(6,"i",t.moreText.length>0)?i("text",{staticClass:t._$s(6,"sc","uni-noticebar__more-text"),style:t._$s(6,"s",{color:t.moreColor}),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.moreText)))]):i("uni-icons",{attrs:{type:"right",color:t.moreColor,size:"16",_i:7}})],1):t._e(),t._$s(8,"i",(!0===t.showClose||"true"===t.showClose)&&(!1===t.showGetMore||"false"===t.showGetMore))?i("view",{staticClass:t._$s(8,"sc","uni-noticebar-close uni-cursor-point"),attrs:{_i:8}},[i("uni-icons",{attrs:{type:"closeempty",color:t.color,size:"16",_i:9},on:{click:t.close}})],1):t._e()],1):t._e()},a=[]},d5eb:function(t,e,i){"use strict";i.r(e);var n=i("4fbe"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},d6ec:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("a963"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){c(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u=t.database(),l={mixins:[s.default],data:function(){return{total:0,idList:[],idTotalList:{},amountList:{},timerId:null,selectIdKey:"mall_cart_select_ids",options:{ids:[]},shopDataList:{},dataList:[],emptyData:!0,isSelectAll:!1}},onLoad:function(){var t=this;uni.$on("refreshCart",(function(){t.refreshData()}))},onPullDownRefresh:function(){n("log","\u5237\u65b0\u8d2d\u7269\u8f66\u6574\u9875"," at pages/index/cart.vue:82"),uni.stopPullDownRefresh(),this.refreshData()},onShow:function(){n("log","cart onShow"," at pages/index/cart.vue:87"),this.refreshData()},computed:{btnDisenable:function(){return 0==this.options.ids.length}},methods:{refreshData:function(){var t=this;n("log","this.isLogin",this.isLogin," at pages/index/cart.vue:97"),this.isLogin?u.action("goods_member,cart_goods").collection("opendb-mall-cart,opendb-mall-goods,opendb-mall-sku").where("user_id == $cloudEnv_uid").field("goods_id{_id as goods_id, name as goods_name,goods_thumb,price,market_price,is_vip,shop_id,remain_count as stock,is_real,is_on_sale,is_alone_sale,is_best,is_new,is_hot,use_score,use_score_rate},sku_id{_id as sku_id,sku_name,price,market_price,stock},price,goods_name,sku_name,amount,goods_thumb,update_date").orderBy("update_date desc").limit(200).get().then((function(e){var i=e.result;t.loadData(i.data),t.dataList=i.data})):this.loadData([])},loadData:function(t){var e=this,i=0;this.idList=[],this.shopDataList={};var s=uni.getStorageSync(this.selectIdKey);this.options.ids=s||[],this.amountList={},this.isSelectAll=!1,this.emptyData=0==t.length,n("log","this.emptyData",this.emptyData," at pages/index/cart.vue:124");var a={};t.forEach((function(t){e.idList.push(t._id),e.idTotalList[t._id]=t.price*t.amount,e.amountList[t._id]=t.amount,t.name=t.goods_name?t.goods_name.substr(0,30):"",t.goods_thumb=e.$thumbImg(t.goods_thumb,"168x168"),t.stock<t.amount&&(t.subTitle="\u5e93\u5b58\u4e0d\u8db3"),i+=t.amount,t.shop_id&&(a[t.shop_id]||(a[t.shop_id]=o(o({},t.shop),{},{children:[]})),a[t.shop_id].children.push(t))})),this.shopDataList=a,this.options.ids=this.options.ids.filter((function(t){return-1!=e.idList.indexOf(t)})),this.isSelectAll=this.options.ids.length==this.idList.length,this.$store.commit("mall/UPDATE_CART_NUMBER",+i),this.catTotal(),n("log","loadData",i,t," at pages/index/cart.vue:154")},navToDetail:function(t){this.navTo("/pages/product/detail?id=".concat(t.goods_id,"&sku=").concat(t.sku_id),o(o({},t),{},{sku_name:void 0,_id:t.goods_id}))},change:function(t){this.isSelectAll=t.detail.value.length==this.idList.length,this.options.ids=t.detail.value,this.catTotal(),uni.setStorage({key:this.selectIdKey,data:this.options.ids})},changeAmount:function(t){if(this.isLogin){if(t.amount==this.amountList[t._id])return!1;this.$store.commit("mall/INCREMENT_CART_NUMBER",t.amount-this.amountList[t._id]),this.amountList[t._id]=+t.amount,u.collection("opendb-mall-cart").where({_id:t._id,user_id:u.env.uid}).update({amount:+t.amount}),this.catTotal()}},selectAll:function(){this.isSelectAll=!this.isSelectAll,this.isSelectAll?this.options.ids=this.idList:this.options.ids=[],this.catTotal(),uni.setStorage({key:this.selectIdKey,data:this.options.ids})},catTotal:function(){var t=this,e=0;this.options.ids.map((function(i){e+=t.idTotalList[i]})),this.total=e},deletes:function(){var t=this;this.confirmAction((function(){t.$request("mall/cart/remove",{ids:t.options.ids},{loading:!0}).then((function(e){n("log",e," at pages/index/cart.vue:223"),t.$success("\u5220\u9664\u6210\u529f"),t.refreshData()}))}),"\u662f\u5426\u786e\u5b9a\u5220\u9664\uff1f")},submit:function(){var t=this;0!=this.options.ids.length&&(this.dataList.filter((function(e){return-1!=t.options.ids.indexOf(e._id)&&e.stock<e.amount})).length>0?this.$message("\u5546\u54c1\u5e93\u5b58\u4e0d\u8db3"):(n("log","this.options.ids",this.options.ids," at pages/index/cart.vue:239"),this.navTo("/pages/order/create",{type:"cart",cart_ids:this.options.ids,goodsList:this.dataList.filter((function(e){return-1!=t.options.ids.indexOf(e._id)}))})))}}};e.default=l}).call(this,i("a9ff")["default"],i("0de9")["default"])},da39:function(t,e,i){"use strict";i.r(e);var n=i("dd08"),s=i("0851");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},da55:function(t,e,i){"use strict";i.r(e);var n=i("eb80"),s=i("6cfc");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},dba6:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=o(i("a963")),a=o(i("d348")),r=o(i("fe4c"));function o(t){return t&&t.__esModule?t:{default:t}}var c=t.database(),u={mixins:[s.default,r.default],components:{groupBuyingPage:a.default},data:function(){return{loaded:!1,current:0,bottomOptions:[],buttonGroup:[],selectSku:{},defaultSkuId:"",group_buying_id:"",item:{},description:[],allGroupBuying:[],groupBuying:[],groupBuyingTotal:0,maxShowAllGroupBuying:10,isSubmitSku:0}},onLoad:function(t){this.item=this.getItemData(),this.item||(this.item={}),this.item._id&&(this.loaded=!0),t.id&&(this.item._id=t.id),t.sku&&(this.defaultSkuId=t.sku),this.item.goods_thumb&&(this.item.goods_banner_imgs=[this.$thumbImg(this.item.goods_thumb,"750x750")]),this.loadData()},onPullDownRefresh:function(){n("log","\u5237\u65b0\u6574\u9875"," at pages/product/detail.vue:203"),uni.stopPullDownRefresh(),this.current=0,this.updateBottomOptions(),this.loadData()},onShow:function(){this.loaded&&this.getGroupBuying()},computed:{quanyiDescription:function(){return this.$store.state.app.customer.goods&&this.$store.state.app.customer.goods.priceDescription.quanyi?this.$store.state.app.customer.goods.priceDescription.quanyi:[]},priceDescription:function(){return this.$store.state.app.customer.goods&&this.$store.state.app.customer.goods.priceDescription.price?this.$store.state.app.customer.goods.priceDescription.price:[]}},methods:{loadData:function(){var t=this;c.action("goods_member,check_goods_favorite,goods_visite").collection("opendb-mall-goods").where('_id=="'.concat(this.item._id,'"')).field("goods_sn,name,shop_id,keywords,comments,comment_total_rate,goods_desc,goods_thumb,goods_summary,goods_banner_imgs,price,market_price,sku_name,is_vip,remain_count,month_sell_count,total_sell_count,comment_count,is_real,is_on_sale,is_alone_sale,is_best,is_new,is_hot,add_date,last_modify_date,use_score,use_score_rate,group_buying,group_buying_discount").get({getOne:!0}).then((function(e){var i=e.result;if(t.description=[],i.data.goods_desc&&i.data.goods_desc.length>0){new RegExp("(.jpg|.png|.jpeg|.gif)$");var s=new RegExp("(.mp4|.wma|.3gp)$"),a=[];i.data.goods_desc.map((function(e){if(e.indexOf("http")>-1)return s.test(e.toLowerCase())?(a.length>0&&t.description.push({type:"html",content:a.join("")}),a=[],void t.description.push({type:"video",content:e})):void a.push('<img src="'.concat(e,'" style="width:100%;display:block;"/>'));a.push('<p style="padding:12px;">'.concat(e,"</p>"))})),a.length>0&&t.description.push({type:"html",content:a.join("")}),n("log",t.description," at pages/product/detail.vue:274")}i.data.goods_banner_imgs||(i.data.goods_banner_imgs=[],i.data.goods_banner_imgs.unshift(i.data.goods_thumb)),t.item=i.data,t.loaded=!0,t.buildData(),t.updateBottomOptions(),t.getGroupBuying()})),this.updateBottomOptions(),this.$store.state.app&&this.$store.state.app.customer&&this.$store.state.app.customer.maxShowAllGroupBuying&&(this.maxShowAllGroupBuying=this.$store.state.app.customer.maxShowAllGroupBuying)},buildData:function(t){var e=this;this.item.goods_banner_imgs&&(this.item.goods_banner_imgs=this.item.goods_banner_imgs.map((function(t){return e.$thumbImg(t,"750x750")})))},getGroupBuying:function(){var t=this;if(this.item.group_buying){var e=this.$store.state.user.userInfo;c.collection("opendb-mall-goods-group-buying,uni-id-users").where('goods_id=="'.concat(this.item._id,'" && state==1')).field("group_id,user_id.avatar,user_id._id,user_id.nickname,end_time").orderBy("create_time asc").get().then((function(i){var s=i.result;n("log",s," at pages/product/detail.vue:316");var a={};t.groupBuyingTotal=0,s.data.map((function(i){var n=t.buildUserInfo(i.user_id[0]);a[i.group_id]||(a[i.group_id]={avatar:[],nickname:[],id:i.group_id,enable:!0,index:t.item.group_buying,amount:t.item.group_buying}),a[i.group_id].index--,n._id==e._id&&(a[i.group_id].enable=!1,a[i.group_id].index+=1e3),a[i.group_id].avatar.push(n.avatar),a[i.group_id].nickname.push(n.nickname),a[i.group_id].amount--,t.groupBuyingTotal++})),t.allGroupBuying=[];var r=[];for(var o in a)t.allGroupBuying.length<t.maxShowAllGroupBuying&&t.allGroupBuying.push(a[o]);t.allGroupBuying.sort((function(t,e){return t.index-e.index})),t.allGroupBuying.map((function(t){r.length<2&&r.push(t)})),t.groupBuying=r}))}},updateBottomOptions:function(){var t=[{icon:"dianpu",text:"\u9996\u9875"}];this.item.is_fav?t.push({icon:"biaoxingfill",color:"#ff5a1d",text:"\u5df2\u6536\u85cf"}):t.push({icon:"biaoxing",color:"#646566",text:"\u6536 \u85cf"}),t.push({icon:"gouwuche",text:"\u8d2d\u7269\u8f66"}),this.bottomOptions=t,this.buttonGroup=[{text:"\u52a0\u5165\u8d2d\u7269\u8f66",backgroundColor:"#ffa200",color:"#fff"},{text:"\u7acb\u5373\u8d2d\u4e70",backgroundColor:"#ff0000",color:"#fff"}],this.item.group_buying?this.buttonGroup=[{text:"\u7acb\u5373\u8d2d\u4e70",backgroundColor:"#aeaeae",color:"#fff"},{text:"\u62fc\u5355\u8d2d\u4e70",backgroundColor:"#e64340",color:"#fff"}]:this.item.is_real||(this.buttonGroup=[{text:"\u7acb\u5373\u8d2d\u4e70",backgroundColor:"#ff0000",color:"#fff"}])},saveFav:function(){var t=this;this.isLogin?this.$request("mall/goods/favorite",{goods_id:this.item._id,isFav:!this.item.is_fav},{loading:!0}).then((function(e){t.item.is_fav=e,n("log","fav result",e," at pages/product/detail.vue:431"),t.updateBottomOptions(),t.$success(e?"\u6536\u85cf\u6210\u529f":"\u53d6\u6d88\u6210\u529f")})):this.navToLoginNotice()},change:function(t){this.current=t.detail.current},resetTabCartCount:function(){n("log","resetTabCartCount"," at pages/product/detail.vue:440"),this.updateBottomOptions()},leftClick:function(t){0==t.index?uni.switchTab({url:"/pages/index/index"}):1==t.index?this.saveFav():uni.switchTab({url:"/pages/index/cart"})},buttonClick:function(t){n("log","buttonClick",t.index,this.item," at pages/product/detail.vue:462"),this.isSubmitSku=t.index+1,this.item.group_buying?(this.isSubmitSku=t.index+2,this.group_buying_id=""):this.item.is_real||(this.isSubmitSku=4),n("log","this.isSubmitSku",this.isSubmitSku," at pages/product/detail.vue:472"),this.$refs.tianSkuPop.open()},openSku:function(){this.isSubmitSku=0,this.$refs.tianSkuPop.open()},changeSku:function(t){n("log","changeSku",t," at pages/product/detail.vue:483"),this.selectSku=t},showMoreGb:function(){this.allGroupBuying.length>0&&this.$refs.gbPopup.open()},closeGb:function(){this.$refs.gbPopup.close()},changeGb:function(t){},btnGroupBuying:function(t){this.$refs.gbPopup.close(),this.isSubmitSku=4,this.group_buying_id=t,this.$refs.tianSkuPop.open()}}};e.default=u}).call(this,i("a9ff")["default"],i("0de9")["default"])},dbf4:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianEmpty:i("2789").default,tianIcons:i("6439").default,uniDateformat:i("3a22").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","padding-22"),attrs:{_i:0}},[t._$s(1,"i",0==t.dataList.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u9080\u8bf7\u8bb0\u5f55",marginTop:"280",mode:"pengyou",_i:1}}):[i("view",[i("tian-icons",{attrs:{type:"taiyang",color:"#eb4e38",size:"20",align:"left",_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.legend.todaySign)))]),i("tian-icons",{staticClass:t._$s(5,"sc","margin-left-32"),attrs:{type:"yueliang",color:"#0000ff",size:"20",align:"left",_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.legend.monthSignRate)))])],1),t._l(t._$s(6,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(6,"f",{forIndex:s,key:n}),staticClass:t._$s("6-"+a,"sc","ti-flex bg-white border-radius padding-22 margin-top-22"),attrs:{_i:"6-"+a}},[i("image",{staticClass:t._$s("7-"+a,"sc","image-width-100 bg-white border-radius padding-2"),attrs:{src:t._$s("7-"+a,"a-src",e.avatar),_i:"7-"+a}}),i("view",{staticClass:t._$s("8-"+a,"sc","flex-1 margin-left-18"),attrs:{_i:"8-"+a}},[i("text",[t._v(t._$s("9-"+a,"t0-0",t._s(e.nickname)))]),i("view",{staticClass:t._$s("10-"+a,"sc","font-24"),attrs:{_i:"10-"+a}},[i("tian-icons",{attrs:{type:"taiyang",color:e.todaySignin?"#eb4e38":"#cccccc",size:"20",_i:"11-"+a}})],1),i("view",{staticClass:t._$s("12-"+a,"sc","font-24"),attrs:{_i:"12-"+a}},[i("tian-icons",{attrs:{type:"yueliang",color:e.signinLength>0?"#0000ff":"#cccccc",size:"20",align:"right",_i:"13-"+a}},[i("text",[t._v(t._$s("14-"+a,"t0-0",t._s(e.signinRate)))])])],1)]),i("view",{staticClass:t._$s("15-"+a,"sc","text-right"),attrs:{_i:"15-"+a},on:{click:function(i){return t.tel(e.mobile)}}},[i("tian-icons",{staticClass:t._$s("16-"+a,"sc","margin-left-10"),attrs:{type:"dianhua",color:"#eb4e38",size:"20",align:"left",_i:"16-"+a}},[t._v(t._$s("16-"+a,"t0-0",t._s(e.mobile)))]),i("view",[i("uni-dateformat",{staticClass:t._$s("18-"+a,"sc","font-20 margin-left-20"),attrs:{date:e.invite_time,format:"yyyy/MM/dd",threshold:[6e4,36e5],_i:"18-"+a}})],1),t._$s("19-"+a,"i",e.statistics)?[i("view",{staticClass:t._$s("20-"+a,"sc","font-20"),attrs:{_i:"20-"+a}},[i("text",[t._v(t._$s("21-"+a,"t0-0",t._s(e.statistics.invite_all_total)))])]),i("view",{staticClass:t._$s("22-"+a,"sc","font-20"),attrs:{_i:"22-"+a}},[i("text",[t._v(t._$s("23-"+a,"t0-0",t._s(e.statistics.invite_total)))])])]:t._e()],2)])}))]],2)},a=[]},dc80:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-badge--x"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i",t.text)?i("text",{staticClass:t._$s(2,"sc","uni-badge"),class:t._$s(2,"c",t.classNames),style:t._$s(2,"s",[t.badgeWidth,t.positionStyle,t.customStyle,t.dotStyle]),attrs:{_i:2},on:{click:function(e){return t.onClick()}}},[t._v(t._$s(2,"t0-0",t._s(t.displayValue)))]):t._e()],2)},a=[]},dd08:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={pageMeta:i("6d42").default,navigationBar:i("9832").default,tianPages:i("e453").default,tianGoodsList:i("a209").default,unicloudDb:i("960d").default,tianEmpty:i("2789").default,tianGoodsSku:i("5a97").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",[i("page-meta",{attrs:{_i:2}},[i("navigation-bar",{attrs:{title:t.item.name,"front-color":"#000000","background-color":"#ffffff","color-animation-timing-func":"easeIn",_i:3}})],1),i("view",{staticClass:t._$s(4,"sc","banner"),style:t._$s(4,"s",t.bannerStyle),attrs:{_i:4}},[i("image",{staticClass:t._$s(5,"sc","image"),attrs:{src:t._$s(5,"a-src",t.banner),_i:5}})]),i("view",{staticClass:t._$s(6,"sc","ti-flex padding-22 header"),attrs:{_i:6}},[i("image",{staticClass:t._$s(7,"sc","image-width-120 border-radius"),attrs:{src:t._$s(7,"a-src",t.item.src),_i:7}}),i("view",{staticClass:t._$s(8,"sc","flex-1 margin-left-16"),attrs:{_i:8}},[i("view",{staticClass:t._$s(9,"sc","font-32"),attrs:{_i:9}},[i("text",[t._v(t._$s(10,"t0-0",t._s(t.item.name)))])]),i("view",{staticClass:t._$s(11,"sc","font-24 margin-top-10"),attrs:{_i:11}},[i("text"),i("text",{staticClass:t._$s(13,"sc","colorRed margin-left-4"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.item.score_text)))]),i("text",{staticClass:t._$s(14,"sc","margin-left-10"),attrs:{_i:14}}),i("text",{staticClass:t._$s(15,"sc","colorRed margin-left-4"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.item.monthSale_text)))]),i("text",{staticClass:t._$s(16,"sc","margin-left-10"),attrs:{_i:16}}),i("text",{staticClass:t._$s(17,"sc","colorRed margin-left-4"),attrs:{_i:17}},[t._v(t._$s(17,"t0-0",t._s(t.item.focus_text)))]),i("text",{staticClass:t._$s(18,"sc","margin-left-4"),attrs:{_i:18}})])])]),i("view",{staticClass:t._$s(19,"sc","tabs ti-flex"),attrs:{_i:19}},[i("view",{staticClass:t._$s(20,"sc","tab flex-1"),class:t._$s(20,"c",{current:1==t.index}),attrs:{_i:20},on:{click:function(e){return t.selectTab(1)}}},[i("text")]),i("view",{staticClass:t._$s(22,"sc","tab flex-1"),class:t._$s(22,"c",{current:2==t.index}),attrs:{_i:22},on:{click:function(e){return t.selectTab(2)}}},[i("text")]),i("view",{staticClass:t._$s(24,"sc","tab flex-1"),class:t._$s(24,"c",{current:3==t.index}),attrs:{_i:24},on:{click:function(e){return t.selectTab(3)}}},[i("text")])]),t._$s(26,"i",1==t.index)?i("view",{staticClass:t._$s(26,"sc","home"),attrs:{_i:26}},[i("tian-pages",{attrs:{configs:t.pageConfigs,condition:t.where,refresh:t.refresh,loadmore:t.loadmore,_i:27}})],1):t._$s(28,"e",2==t.index)?i("view",{staticClass:t._$s(28,"sc","tab-content "),attrs:{_i:28}},[i("tian-goods-list",{ref:"tianGoodsList",attrs:{condition:t.where,withSku:!1,configs:{loadmore:!0,page_size:10,scrollY:!1,order:"remain_count desc,total_sell_count desc"},loadmore:t.loadmore,_i:29},on:{click:t.openSku}})],1):t._$s(30,"e",3==t.index)?i("view",{staticClass:t._$s(30,"sc","tab-content "),attrs:{_i:30}},[i("unicloud-db",{ref:"udb",attrs:{collection:"opendb-mall-categories",field:"name,sort",where:t.categoryWhere,"page-size":500,orderby:"sort asc",gettree:!0,_i:31},on:{load:t.loadCategoryData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading;e.error,e.options,e.hasMore;return[n._$s("32-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u5206\u7c7b\u6570\u636e",marginTop:"200",_i:"32-"+s}}):t._e(),i("view",{staticClass:n._$s("33-"+s,"sc","category-list"),attrs:{_i:"33-"+s}},t._l(n._$s("34-"+s,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s("34-"+s,"f",{forIndex:r,key:a}),staticClass:n._$s("34-"+s+o,"sc","under-line padding-22"),attrs:{_i:"34-"+s+o}},[i("view",{staticClass:n._$s("35-"+s+o,"sc","font-30 ti-flex"),attrs:{_i:"35-"+s+o}},[i("text",{staticClass:n._$s("36-"+s+o,"sc","title-icon"),attrs:{_i:"36-"+s+o}}),i("text",{attrs:{_i:"37-"+s+o}},[t._v(n._$s("37-"+s+o,"t0-0",t._s(e.name)))])]),i("view",{staticClass:n._$s("38-"+s+o,"sc","children"),attrs:{_i:"38-"+s+o}},t._l(n._$s("39-"+s+"-"+o,"f",{forItems:e.children}),(function(e,a,r,c){return i("view",{key:n._$s("39-"+s+"-"+o,"f",{forIndex:r,key:a}),staticClass:n._$s("39-"+s+o+"-"+c,"sc","item"),attrs:{_i:"39-"+s+o+"-"+c},on:{click:function(i){return t.navTo("/pages/product/list?shop_id="+t.id+"&cid="+e._id)}}},[i("text",{attrs:{_i:"40-"+s+o+"-"+c}},[t._v(n._$s("40-"+s+o+"-"+c,"t0-0",t._s(e.name)))])])})),0)])})),0)]}}])})],1):t._e(),i("tian-goods-sku",{ref:"tianSkuPop",attrs:{value:t.goods,_i:41}})],1)])},a=[]},dd33:function(t,e,i){"use strict";i.r(e);var n=i("785e"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},de6f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=e.validator=void 0;var n={modified:{rules:[{format:"timestamp"}],defaultValue:{$env:"now"}},status:{rules:[{format:"int"},{range:[{text:"\u672a\u63d0\u4ea4",value:0},{text:"\u5ba1\u6838\u4e2d",value:1},{text:"\u901a\u8fc7",value:2},{text:"\u5ba1\u6838\u62d2\u7edd",value:3}]}],defaultValue:0,label:"\u7528\u6237\u72b6\u6001"},title:{rules:[{format:"string"}],label:"\u6e20\u9053\u540d\u79f0"},mobile:{rules:[{format:"string"}],label:"\u8054\u7cfb\u7535\u8bdd"},address:{rules:[{format:"object"}],label:"\u5730\u5740"}};e.validator=n;var s={status_valuetotext:{0:"\u672a\u63d0\u4ea4",1:"\u5ba1\u6838\u4e2d",2:"\u901a\u8fc7",3:"\u5ba1\u6838\u62d2\u7edd"}};e.enumConverter=s},df95:function(t,e,i){"use strict";i.r(e);var n=i("5021"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},e0e4:function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},e10c:function(t,e,i){"use strict";function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createAnimation=h;var u=function(){function t(e,i){r(this,t),this.options=e,this.animation=uni.createAnimation(e),this.currentStepAnimates={},this.next=0,this.$=i}return c(t,[{key:"_nvuePushAnimates",value:function(t,e){var i=this.currentStepAnimates[this.next],n={};if(n=i||{styles:{},config:{}},l.includes(t)){n.styles.transform||(n.styles.transform="");var s="";"rotate"===t&&(s="deg"),n.styles.transform+="".concat(t,"(").concat(e+s,") ")}else n.styles[t]="".concat(e);this.currentStepAnimates[this.next]=n}},{key:"_animateRun",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.$.$refs["ani"].ref;if(i)return new Promise((function(n,a){nvueAnimation.transition(i,s({styles:t},e),(function(t){n()}))}))}},{key:"_nvueNextAnimate",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,s=t[i];if(s){var a=s.styles,r=s.config;this._animateRun(a,r).then((function(){i+=1,e._nvueNextAnimate(t,i,n)}))}else this.currentStepAnimates={},"function"===typeof n&&n(),this.isEnd=!0}},{key:"step",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.animation.step(t),this}},{key:"run",value:function(t){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((function(){"function"===typeof t&&t()}),this.$.durationTime)}}]),t}(),l=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],d=["opacity","backgroundColor"],f=["width","height","left","right","top","bottom"];function h(t,e){if(e)return clearTimeout(e.timer),new u(t,e)}l.concat(d,f).forEach((function(t){u.prototype[t]=function(){var e;return(e=this.animation)[t].apply(e,arguments),this}}))},e153:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t.database(),s={data:function(){return{expressValue:{},expressGoods:[],expressIndex:0,id:"",item:{}}},onLoad:function(t){this.id=t.id,this.item=this.getItemData(),this.buildData(),this.loadData(),this.getPreRefundInfo()},onReady:function(){uni.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#eb4e38",animation:{duration:400,timingFunc:"easeIn"},success:function(){i("log","success"," at pages/order/detail.vue:188")},fail:function(t){i("log","fail",t," at pages/order/detail.vue:191")}})},methods:{getPreRefundInfo:function(){this.$request("mall/order/prerefund",{id:this.id}).then((function(t){uni.setStorage({key:"pre_refund_info",data:t})}))},loadData:function(){var t=this;n.action("check_order").collection("tian-mall-orders").doc(this.id).get({}).then((function(e){var i=e.result,n=i.data[0];n.goods&&n.goods.forEach((function(e){e.goods_thumb=t.$thumbImg(e.goods_thumb,"168x168")})),t.item=n,t.buildData()}))},buildData:function(){i("log",this.item," at pages/order/detail.vue:221"),this.item.delivers&&this.showExpress(this.item.delivers[0],0)},tel:function(t){""!=t&&uni.makePhoneCall({phoneNumber:t})},copy:function(t){var e=this;uni.setClipboardData({data:t,success:function(){e.$success("\u590d\u5236\u6210\u529f")}})},showExpress:function(t,e){this.expressIndex=e,this.expressValue=t,i("log","this.item.goods",this.item.goods," at pages/order/detail.vue:245"),this.expressGoods=this.item.goods.filter((function(e){return e.delivery&&e.delivery.number==t.number})),i("log","expressValue",t,this.expressGoods," at pages/order/detail.vue:248")},closeExpressDetailPopup:function(){i("log","closeExpressPopup"," at pages/order/detail.vue:251"),this.$refs.expressDetailPopup.close()},cancelOrder:function(t){var e=this;this.confirmAction((function(){e.$request("payment/cancel",{id:t._id,module:"mall"}).then((function(t){e.$message("\u53d6\u6d88\u6210\u529f"),e.$prePage().reLoadData(),e.navTimeBack()}))}),"\u662f\u5426\u786e\u5b9a\u53d6\u6d88\u8ba2\u5355\uff1f")},refundGoods:function(t,e){this.navTo("/pages/order/refund?id="+t._id,e)}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},e187:function(t,e,i){"use strict";i.r(e);var n=i("57da"),s=i("86e5");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},e22a:function(t,e,i){"use strict";i.r(e);var n=i("5258"),s=i("ab42");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},e307:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[i("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,where:"user_id==$cloudEnv_uid",orderby:"id desc",action:"refund",field:"create_time,update_time,operater_log,id,order_id,type,reason,goods_status,shop_id,shop,describe,imgs,money,platform,state,user_id,goods",_i:1},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=(e.pagination,e.loading),o=e.hasMore,c=e.error;return[n._$s("2-"+s,"i",c)?i("view",{attrs:{_i:"2-"+s}},[t._v(n._$s("2-"+s,"t0-0",t._s(c.message)))]):n._$s(3,"e",a)?i("view",{staticClass:n._$s(3,"sc","padding-22"),attrs:{_i:3}},t._l(n._$s(4,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s(4,"f",{forIndex:r,key:a}),staticClass:n._$s("4-"+o,"sc","bg-white margin-bottom-20 padding-22 border-radius"),attrs:{_i:"4-"+o}},[i("view",{attrs:{_i:"5-"+o}},[i("text",{attrs:{_i:"6-"+o}},[t._v("\u7f16\u53f7")]),i("text",{staticClass:n._$s("7-"+o,"sc","font-32"),attrs:{_i:"7-"+o}},[t._v(n._$s("7-"+o+s,"t0-0",t._s(e.id)))])]),i("view",{staticClass:n._$s("8-"+o,"sc","shop ti-flex margin-top-12"),attrs:{_i:"8-"+o}},[i("image",{staticClass:n._$s("9-"+o,"sc","image-width-46 border-radius"),attrs:{src:n._$s("9-"+o,"a-src",e.shop.src),mode:"aspectFill",_i:"9-"+o}}),i("text",{staticClass:n._$s("10-"+o,"sc","flex-1 margin-left-12"),attrs:{_i:"10-"+o}},[t._v(n._$s("10-"+o+s,"t0-0",t._s(e.shop.name)))]),i("text",{attrs:{_i:"11-"+o}},[t._v(n._$s("11-"+o+s,"t0-0",t._s(e.state_text)))])]),i("view",{staticClass:n._$s("12-"+o,"sc","goods ti-flex margin-top-12"),attrs:{_i:"12-"+o}},[i("image",{staticClass:n._$s("13-"+o,"sc","image-width-120 border-radius"),attrs:{src:n._$s("13-"+o,"a-src",e.goods.goods_thumb),mode:"aspectFill",_i:"13-"+o}}),i("view",{staticClass:n._$s("14-"+o,"sc","flex-1 font-24 margin-left-16"),attrs:{_i:"14-"+o}},[i("view",{attrs:{_i:"15-"+o}},[i("text",{attrs:{_i:"16-"+o}},[t._v(n._$s("16-"+o+s,"t0-0",t._s(e.goods.name)))])]),i("view",{staticClass:n._$s("17-"+o,"sc","colorGray"),attrs:{_i:"17-"+o}},[i("text",{attrs:{_i:"18-"+o}},[t._v(n._$s("18-"+o+s,"t0-0",t._s(e.goods.sku_name)))])]),i("view",{attrs:{_i:"19-"+o}},[i("text",{attrs:{_i:"20-"+o}},[t._v(n._$s("20-"+o+s,"t0-0",t._s(e.type_text)))]),i("text",{staticClass:n._$s("21-"+o,"sc","price"),attrs:{_i:"21-"+o}},[t._v(n._$s("21-"+o+s,"t0-0",t._s(e.money/100)))])])])]),n._$s("22-"+o,"i",e.address)?i("view",{attrs:{_i:"22-"+o}},[i("view",{staticClass:n._$s("23-"+o,"sc","margin-top-12"),attrs:{_i:"23-"+o}},[i("text",{attrs:{_i:"24-"+o}},[t._v("\u5546\u5bb6\u90ae\u5bc4\u5730\u5740\uff1a")])]),i("view",{staticClass:n._$s("25-"+o,"sc","font-24 colorRed"),attrs:{_i:"25-"+o}},[i("view",{attrs:{_i:"26-"+o}},[i("text",{attrs:{selectable:!0,_i:"27-"+o}},[t._v(n._$s("27-"+o+s,"t0-0",t._s(e.address.name)))])]),i("view",{attrs:{_i:"28-"+o}},[i("text",{attrs:{selectable:!0,_i:"29-"+o}},[t._v(n._$s("29-"+o+s,"t0-0",t._s(e.address.phone)))])]),i("view",{attrs:{_i:"30-"+o}},[i("text",{attrs:{selectable:!0,_i:"31-"+o}},[t._v(n._$s("31-"+o+s,"t0-0",t._s(e.address.address)))])]),i("view",{staticClass:n._$s("32-"+o,"sc","margin-top-12"),attrs:{_i:"32-"+o}},[i("text",{attrs:{_i:"33-"+o}},[t._v(n._$s("33-"+o+s,"t0-0",t._s(e.id)))])])])]):t._e()])})),0):t._e(),i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"34-"+s}})]}}])})],1)},a=[]},e327:function(t,e,i){"use strict";i.r(e);var n=i("b386"),s=i("a0ee");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},e3cf:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianPages:i("e453").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[t._$s(1,"i",t.isShowTabbar)?[i("view",{staticClass:t._$s(2,"sc"," tab-header"),attrs:{_i:2}},[i("scroll-view",{},[i("view",{staticClass:t._$s(4,"sc","ti-flex"),attrs:{_i:4}},t._l(t._$s(5,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(5,"f",{forIndex:s,key:n}),staticClass:t._$s("5-"+a,"sc","margin-right-36 tabs"),class:t._$s("5-"+a,"c",{current:n==t.options.current}),attrs:{_i:"5-"+a},on:{click:function(e){return t.change(n)}}},[i("text",[t._v(t._$s("6-"+a,"t0-0",t._s(e.title)))])])})),0)])]),i("view",{staticClass:t._$s(7,"sc","tab-header-seize"),attrs:{_i:7}})]:t._e(),t._l(t._$s(8,"f",{forItems:t.dataList}),(function(e,n,s,a){return t._$s("8-"+a,"i",t.options.current==n)?i("tian-pages",{key:t._$s(8,"f",{forIndex:s,key:n}),attrs:{configs:e,loadmore:t.loadmore,refresh:t.refresh,_i:"8-"+a}}):t._e()}))],2)},a=[]},e453:function(t,e,i){"use strict";i.r(e);var n=i("8d1c"),s=i("ab9b");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},e45f:function(t,e,i){"use strict";i.r(e);var n=i("5032"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},e482:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=e.validator=void 0;var n={create_time:{rules:[{format:"timestamp"}]},update_time:{rules:[{format:"timestamp"}]},user_id:{rules:[{required:!0},{format:"string"}],label:"\u7528\u6237"},user:{rules:[{format:"object"}],label:"\u7528\u6237"},amount:{rules:[{required:!0},{format:"int"}],label:"\u91d1\u989d"},balance:{rules:[{format:"int"}],label:"\u4f59\u989d"},status:{rules:[{format:"int"},{range:[{text:"\u5ba1\u6838\u4e2d",value:0},{text:"\u901a\u8fc7",value:1},{text:"\u62d2\u7edd",value:2},{text:"\u901a\u8fc7\u4e0d\u4ed8\u6b3e",value:3}]}],defaultValue:0,label:"\u72b6\u6001"},mode:{rules:[{format:"string"},{range:[{text:"\u5fae\u4fe1",value:"wxpay"},{text:"\u652f\u4ed8\u5b9d",value:"alipay"},{text:"\u94f6\u884c\u5361",value:"bank"}]}],defaultValue:"wxpay",label:"\u63d0\u73b0\u65b9\u5f0f"}};e.validator=n;var s={status_valuetotext:{0:"\u5ba1\u6838\u4e2d",1:"\u901a\u8fc7",2:"\u62d2\u7edd",3:"\u901a\u8fc7\u4e0d\u4ed8\u6b3e"},mode_valuetotext:{wxpay:"\u5fae\u4fe1",alipay:"\u652f\u4ed8\u5b9d",bank:"\u94f6\u884c\u5361"}};e.enumConverter=s},e4c2:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("8c3c");function a(t,e){return l(t)||u(t,e)||o(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function u(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){s=!0,a=c}finally{try{n||null==o["return"]||o["return"]()}finally{if(s)throw a}}return i}}function l(t){if(Array.isArray(t))return t}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _=t.database(),p="uni-id-address";function m(t){var e={};for(var i in s.validator)t.indexOf(i)>-1&&(e[i]=s.validator[i]);return e}var g={data:function(){return{formData:{user_id:"",name:"",alias:"",mobile:"",mobile_area_code:"",province_code:"",city_code:"",area_code:"",address:"",formatted_address:"",zip_code:"",email:"",is_default:!1},formOtherData:{},formOptions:{},rules:f({},m(["user_id","name","alias","mobile","mobile_area_code","province_code","city_code","area_code","address","formatted_address","zip_code","email","is_default"]))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.submit().then((function(e){e=Object.assign({},f(f({},t.formOtherData),e)),t.submitForm(e)})).catch((function(t){uni.hideLoading()}))},changeAddress:function(t){n("log","changeAddress",t," at pages/address/add.vue:101");var e=t.detail.value.map((function(t){return t.value})),i=a(e,3),s=i[0],r=i[1];i[2];this.formOtherData={province_code:s,city_code:r,formatted_address:t.detail.value.map((function(t){return t.text})).join("")}},submitForm:function(t){var e=this;_.collection(p).add(t).then((function(t){uni.showToast({icon:"success",title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=g}).call(this,i("a9ff")["default"],i("0de9")["default"])},e4f9:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{ref:"list",staticClass:t._$s(0,"sc","uni-indexed-list"),attrs:{id:"list",_i:0}},[i("scroll-view",{staticClass:t._$s(1,"sc","uni-indexed-list__scroll"),attrs:{"scroll-into-view":t._$s(1,"a-scroll-into-view",t.scrollViewId),_i:1}},t._l(t._$s(2,"f",{forItems:t.lists}),(function(e,n,s,a){return i("view",{key:t._$s(2,"f",{forIndex:s,key:n}),attrs:{id:t._$s("2-"+a,"a-id","uni-indexed-list-"+n),_i:"2-"+a}},[i("indexed-list-item",{attrs:{list:e,loaded:t.loaded,idx:n,showSelect:t.showSelect,_i:"3-"+a},on:{itemClick:t.onClick}})],1)})),0),i("view",{staticClass:t._$s(4,"sc","uni-indexed-list__menu"),attrs:{_i:4},on:{touchstart:t.touchStart,touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.touchMove(e)},touchend:t.touchEnd,mousedown:function(e){return e.stopPropagation(),t.mousedown(e)},mousemove:function(e){return e.stopPropagation(),e.preventDefault(),t.mousemove(e)},mouseleave:function(e){return e.stopPropagation(),t.mouseleave(e)}}},t._l(t._$s(5,"f",{forItems:t.lists}),(function(e,n,s,a){return i("view",{key:t._$s(5,"f",{forIndex:s,key:n}),staticClass:t._$s("5-"+a,"sc","uni-indexed-list__menu-item"),class:t._$s("5-"+a,"c",t.touchmoveIndex==n?"uni-indexed-list__menu--active":""),attrs:{_i:"5-"+a}},[i("text",{staticClass:t._$s("6-"+a,"sc","uni-indexed-list__menu-text"),class:t._$s("6-"+a,"c",t.touchmoveIndex==n?"uni-indexed-list__menu-text--active":""),attrs:{_i:"6-"+a}},[t._v(t._$s("6-"+a,"t0-0",t._s(e.key)))])])})),0),t._$s(7,"i",t.touchmove)?i("view",{staticClass:t._$s(7,"sc","uni-indexed-list__alert-wrapper"),attrs:{_i:7}},[i("text",{staticClass:t._$s(8,"sc","uni-indexed-list__alert"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.lists[t.touchmoveIndex].key)))])]):t._e()])},a=[]},e528:function(t,e,i){"use strict";i.r(e);var n=i("6ac5"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},e583:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniTransition:i("e327").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.showPopup)?i("view",{staticClass:t._$s(0,"sc","uni-popup"),class:t._$s(0,"c",[t.popupstyle,t.isDesktop?"fixforpc-z-index":""]),attrs:{_i:0},on:{touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.clear(e)}}},[i("view",{attrs:{_i:1},on:{touchstart:t.touchstart}},[t._$s(2,"i",t.maskShow)?i("uni-transition",{key:"1",attrs:{name:"mask","mode-class":"fade",styles:t.maskClass,duration:t.duration,show:t.showTrans,_i:2},on:{click:t.onTap}}):t._e(),i("uni-transition",{key:"2",attrs:{"mode-class":t.ani,name:"content",styles:t.transClass,duration:t.duration,show:t.showTrans,_i:3},on:{click:t.onTap}},[i("view",{staticClass:t._$s(4,"sc","uni-popup__wrapper"),class:t._$s(4,"c",[t.popupstyle]),style:t._$s(4,"s",{backgroundColor:t.bg}),attrs:{_i:4},on:{click:t.clear}},[t._t("default",null,{_i:5})],2)])],1)]):t._e()},a=[]},e6d2:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function o(t){r(a,n,s,o,c,"next",t)}function c(t){r(a,n,s,o,c,"throw",t)}o(void 0)}))}}var c=t.database(),u={name:"TianSearchBar",props:{placeholder:{type:String,default:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:"\u53d6\u6d88"},bg_color:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},configs:{type:Object,default:function(){return{selectCity:!1,fixed:!1,isSeat:!1,cityColor:"#000000"}}}},data:function(){return{selectedCityName:"",selectCityKey:"user_select_city",show:!1,showSync:!1,back:!1,searchVal:""}},watch:{value:{immediate:!0,handler:function(t){this.searchVal=t,t&&(this.show=!0)}},focus:{immediate:!0,handler:function(t){var e=this;t&&(this.show=!0,this.$nextTick((function(){e.showSync=!0})))}},searchVal:function(t,e){this.$emit("input",t)},userInfo:function(){this.getSelectedCityName()}},computed:{userInfo:function(){return this.$store.state.user.userInfo},placeholderText:function(){return this.configs.placeholder?this.configs.placeholder:this.placeholder},bgColorText:function(){return this.configs.bgColor?this.configs.bgColor:this.bg_color}},mounted:function(){this.getSelectedCityName()},methods:{goBack:function(){uni.navigateBack({})},loadData:function(){this.getSelectedCityName()},getSelectedCityName:function(){if(this.configs.selectCity)if(this.userInfo.selectCity)this.selectedCityName=this.userInfo.selectCity.name;else{var t=uni.getStorageSync(this.selectCityKey);n("log","city",t," at uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue:206"),t?this.selectedCityName=t.name:(this.selectedCityName="\u8bf7\u9009\u62e9",this.getLocation())}},getLocation:function(){var t=this;return o(s.default.mark((function e(){var i,a,r,o;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={"\u5317\u4eac\u5e02":"110000","\u5929\u6d25\u5e02":"120000","\u91cd\u5e86\u5e02":"500000","\u4e0a\u6d77\u5e02":"310000"},e.next=3,c.collection("opendb-city-china").where("type==2 && is_recommend==true").field("code,name").get();case 3:a=e.sent,r=a.result,o={},r.data.map((function(t){o[t.name]=t.code})),uni.getLocation({success:function(e){n("log","getLocation",e," at uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue:234"),t.$request("utils/getLocationAddress",{fromLatlng:[e.latitude,e.longitude].join()}).then((function(s){if(n("log","data",s," at uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue:239"),s.ad_info){var a={};a=o[s.ad_info.district]?{latitude:e.latitude,longitude:e.longitude,name:s.ad_info.district,code:o[s.ad_info.district]}:i[s.ad_info.province]?{latitude:e.latitude,longitude:e.longitude,name:s.ad_info.province,code:i[s.ad_info.province]}:{latitude:e.latitude,longitude:e.longitude,name:s.ad_info.city,code:s.ad_info.adcode.substr(0,4)+"00"},uni.setStorage({key:t.selectCityKey,data:a,success:function(){n("log","\u91cd\u65b0\u52a0\u8f7d\u9996\u9875",a," at uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue:271"),setTimeout((function(){t.$store.dispatch("app/init",{city:a})}),100)}}),t.selectedCityName=a.name}}))}});case 8:case"end":return e.stop()}}),e)})))()},searchClick:function(){var t=this;this.configs.disabled?uni.navigateTo({url:this.configs.openUrl}):this.disabled?this.$emit("click"):this.show||(this.show=!0,this.$nextTick((function(){t.showSync=!0})))},clear:function(){this.$emit("clear",{value:this.searchVal}),this.searchVal=""},cancel:function(){this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord()},confirm:function(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur:function(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})}}};e.default=u}).call(this,i("a9ff")["default"],i("0de9")["default"])},e72d:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianGoodsPrice:i("956e").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","goods-list-container"),class:t._$s(0,"c",[t.options.mode]),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","goods-list-inner"),class:t._$s(1,"c",[t.options.bgClassName]),style:t._$s(1,"s",t.bgStyle),attrs:{_i:1},on:{click:t.bgClick}},[t._$s(2,"i","mode_more"==t.options.mode)?i("scroll-view",{attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","goods-list "),attrs:{_i:3}},t._l(t._$s(4,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(4,"f",{forIndex:s,key:n}),staticClass:t._$s("4-"+a,"sc","goods"),class:t._$s("4-"+a,"c",t.options.itemClassName),style:t._$s("4-"+a,"s",t.options.style),attrs:{_i:"4-"+a}},[i("image",{staticClass:t._$s("5-"+a,"sc","image-width-168 goods-image"),style:t._$s("5-"+a,"s",e.goods_style),attrs:{src:t._$s("5-"+a,"a-src",e.goods_thumb),_i:"5-"+a},on:{click:function(i){return i.stopPropagation(),t.navToDetail(e)}}}),i("view",{staticClass:t._$s("6-"+a,"sc","goods-content"),attrs:{_i:"6-"+a}},[i("view",{staticClass:t._$s("7-"+a,"sc","title text-hide"),attrs:{_i:"7-"+a},on:{click:function(i){return i.stopPropagation(),t.navToDetail(e)}}},[i("text",[t._v(t._$s("8-"+a,"t0-0",t._s(e.name)))])]),i("tian-goods-price",{attrs:{hasCart:e.hasCart,value:e,_i:"9-"+a},on:{click:function(i){return t.openSku(e)}}})],1)])})),0)]):t._$s(10,"e","mode_1_3"==t.options.mode)?i("view",[i("image",{staticClass:t._$s(11,"sc","image-width-168 goods-image"),style:t._$s(11,"s",t.firstGoods.style),attrs:{src:t._$s(11,"a-src",t.firstGoods.banner_path),_i:11},on:{click:function(e){return e.stopPropagation(),t.navToDetail(t.firstGoods)}}}),i("scroll-view",{attrs:{_i:12}},[i("view",{staticClass:t._$s(13,"sc","goods-list "),attrs:{_i:13}},t._l(t._$s(14,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(14,"f",{forIndex:s,key:n}),staticClass:t._$s("14-"+a,"sc","goods"),class:t._$s("14-"+a,"c",t.options.itemClassName),style:t._$s("14-"+a,"s",t.options.style),attrs:{_i:"14-"+a}},[i("image",{staticClass:t._$s("15-"+a,"sc","image-width-168 goods-image"),style:t._$s("15-"+a,"s",e.goods_style),attrs:{src:t._$s("15-"+a,"a-src",e.goods_thumb),_i:"15-"+a},on:{click:function(i){return i.stopPropagation(),t.navToDetail(e)}}}),i("view",{staticClass:t._$s("16-"+a,"sc","goods-content"),attrs:{_i:"16-"+a}},[i("view",{staticClass:t._$s("17-"+a,"sc","title text-hide"),attrs:{_i:"17-"+a},on:{click:function(i){return i.stopPropagation(),t.navToDetail(e)}}},[i("text",[t._v(t._$s("18-"+a,"t0-0",t._s(e.name)))])]),i("tian-goods-price",{attrs:{hasCart:e.hasCart,value:e,_i:"19-"+a},on:{click:function(i){return t.openSku(e)}}})],1)])})),0)])]):t._e()])])},a=[]},e73c:function(t,e,i){"use strict";i.r(e);var n=i("4969"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},e799:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default,uniSearchBar:i("5071").default,unicloudDb:i("960d").default,uniList:i("52ab").default,uniListItem:i("908c").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","search-container"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","search-container-bar"),attrs:{_i:2}},[i("uni-icons",{staticClass:t._$s(3,"sc","search-icons"),attrs:{color:t.iconColor,size:"22",type:"mic-filled",_i:3},on:{click:t.speech}}),i("uni-search-bar",{ref:"searchBar",attrs:{radius:"100",focus:t.focus,placeholder:t.hotWorld,clearButton:"auto",cancelButton:"always",_i:4},on:{clear:t.clear,confirm:t.confirm,cancel:t.cancel},model:{value:t._$s(4,"v-model",t.searchText),callback:function(e){t.searchText=e},expression:"searchText"}})],1)]),i("view",{staticClass:t._$s(5,"sc","search-body"),attrs:{_i:5}},[t._$s(6,"i",t.localSearchList.length)?i("view",{staticClass:t._$s(6,"sc","word-container"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","word-container_header"),attrs:{_i:7}},[i("text",{staticClass:t._$s(8,"sc","word-container_header-text"),attrs:{_i:8}}),t._$s(9,"i",!t.localSearchListDel)?i("uni-icons",{staticClass:t._$s(9,"sc","search-icons"),attrs:{color:t.iconColor,size:"18",type:"trash",_i:9},on:{click:function(e){t.localSearchListDel=!0}}}):i("view",{staticClass:t._$s(10,"sc","flex-center flex-row"),attrs:{_i:10}},[i("text",{attrs:{_i:11},on:{click:t.LocalSearchListClear}}),i("text",{attrs:{_i:12},on:{click:function(e){t.localSearchListDel=!1}}})])],1),i("view",{staticClass:t._$s(13,"sc","word-container_body"),attrs:{_i:13}},t._l(t._$s(14,"f",{forItems:t.localSearchList}),(function(e,n,s,a){return i("view",{key:t._$s(14,"f",{forIndex:s,key:n}),staticClass:t._$s("14-"+a,"sc","flex-center flex-row word-container_body-text"),attrs:{_i:"14-"+a},on:{click:function(i){return t.LocalSearchlistItemClick(e,n)}}},[i("text",{key:t._$s("15-"+a,"a-key",e),staticClass:t._$s("15-"+a,"sc","word-display"),attrs:{_i:"15-"+a}},[t._v(t._$s("15-"+a,"t0-0",t._s(e)))]),t._$s("16-"+a,"i",t.localSearchListDel)?i("uni-icons",{attrs:{size:"12",type:"closeempty",_i:"16-"+a}}):t._e()],1)})),0)]):t._e(),i("view",{staticClass:t._$s(17,"sc","word-container"),attrs:{_i:17}},[i("view",{staticClass:t._$s(18,"sc","word-container_header"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","flex-center flex-row"),attrs:{_i:19}},[i("text",{staticClass:t._$s(20,"sc","word-container_header-text"),attrs:{_i:20}}),t._$s(21,"i",!t.netHotListIsHide)?i("uni-icons",{staticClass:t._$s(21,"sc","search-icons"),attrs:{color:t.iconColor,size:"14",type:"reload",_i:21},on:{click:t.searchHotRefresh}}):t._e()],1),i("uni-icons",{staticClass:t._$s(22,"sc","search-icons"),attrs:{color:t.iconColor,size:"18",type:t.netHotListIsHide?"eye-slash":"eye",_i:22},on:{click:function(e){t.netHotListIsHide=!t.netHotListIsHide}}})],1),i("unicloud-db",{ref:"udb",attrs:{field:"content",collection:"opendb-search-hot",orderby:"create_date desc,count desc","page-data":"replace","page-size":10,_i:23},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=e.error;e.options;return[n._$s("24-"+s,"i",r&&!t.netHotListIsHide)?i("text",{staticClass:n._$s("24-"+s,"sc","word-container_body-info"),attrs:{_i:"24-"+s}},[t._v("\u6b63\u5728\u52a0\u8f7d...")]):i("view",{staticClass:n._$s(25,"sc","word-container_body"),attrs:{_i:25}},[n._$s(26,"i",!t.netHotListIsHide)?[n._$s(27,"i",o)?i("text",{staticClass:n._$s(27,"sc","word-container_body-info"),attrs:{_i:27}},[t._v(n._$s("27-"+s,"t0-0",t._s(o.message)))]):t._l(n._$s(29,"f",{forItems:a}),(function(e,a,r,o){return i("text",{key:n._$s(29,"f",{forIndex:r,key:a}),staticClass:n._$s("29-"+o,"sc","word-container_body-text"),attrs:{_i:"29-"+o},on:{click:function(i){return t.search(e.content)}}},[t._v(n._$s("29-"+o+s,"t0-0",t._s(e.content)))])}))]:i("view",{staticStyle:{flex:"1"},attrs:{_i:30}},[i("text",{staticClass:n._$s(31,"sc","word-container_body-info"),attrs:{_i:31}},[t._v("\u5f53\u524d\u641c\u7d22\u53d1\u73b0\u5df2\u9690\u85cf")])])],2)]}}])})],1)]),t._$s(32,"i",t.associativeShow)?i("view",{staticClass:t._$s(32,"sc","search-associative"),attrs:{_i:32}},[i("uni-list",{attrs:{_i:33}},[t._l(t._$s(34,"f",{forItems:t.associativeList}),(function(e,n,s,a){return[i("uni-list-item",{key:t._$s(34,"f",{forIndex:s,keyIndex:0,key:e._id}),attrs:{ellipsis:1,title:e.name,"show-extra-icon":!0,clickable:!0,"extra-icon":{size:18,color:t.iconColor,type:"search"},_i:"35-"+a},on:{click:function(i){return t.associativeClick(e)}}})]}))],2)],1):t._e()])},a=[]},e7b4:function(t,e,i){"use strict";i.r(e);var n=i("f91a"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},e7e8:function(t,e,i){"use strict";i.r(e);var n=i("d3d3"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},e810:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","root"),style:t._$s(0,"s",{width:t.width,height:t.height}),attrs:{_i:0}},[n("image",{staticClass:t._$s(1,"sc","posterImg"),style:t._$s(1,"s",{width:t.width,height:t.height}),attrs:{src:t._$s(1,"a-src",t.posterUrl),_i:1}}),n("view",{staticClass:t._$s(2,"sc","box"),style:t._$s(2,"s",{width:t.width,height:t.height}),attrs:{_i:2},on:{click:function(e){t.state=!t.state}}},[n("image",{staticClass:t._$s(3,"sc","playIcon"),attrs:{src:t._$s(3,"a-src",i("0430")),_i:3}})]),t._$s(4,"i",t.isShow)?n("video",{staticClass:t._$s(4,"sc","video"),style:t._$s(4,"s",{height:t.height,width:t.state?"750rpx":0}),attrs:{id:t._$s(4,"a-id",t.videoId),src:t._$s(4,"a-src",t.url),_i:4},on:{pause:function(e){t.state=0},timeupdate:t.timeupdate,fullscreenchange:t.fullscreenchange}}):t._e()])},a=[]},e897:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default,uniDataPicker:i("5214").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,"validate-trigger":"submit","err-show-type":"toast",_i:1}},[i("uni-forms-item",{attrs:{name:"name",label:"\u6536\u8d27\u4eba",required:!0,_i:2}},[i("uni-easyinput",{attrs:{placeholder:"\u6536\u8d27\u4eba",inputBorder:!1,trim:"both",_i:3},model:{value:t._$s(3,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"alias",label:"\u522b\u540d",_i:4}},[i("uni-easyinput",{attrs:{placeholder:"\u4f8b\u5982\uff1a\u5bb6\u3001\u516c\u53f8\u3001\u5b66\u6821",inputBorder:!1,trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.alias),callback:function(e){t.$set(t.formData,"alias",e)},expression:"formData.alias"}})],1),i("uni-forms-item",{attrs:{name:"mobile",label:"\u624b\u673a\u53f7",required:!0,_i:6}},[i("uni-easyinput",{attrs:{placeholder:"\u624b\u673a\u53f7\u7801",inputBorder:!1,trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),i("uni-forms-item",{attrs:{name:"area_code",label:"\u7701\u5e02\u533a",required:!0,_i:8}},[i("uni-data-picker",{attrs:{"self-field":"code","parent-field":"parent_code",border:!1,collection:"opendb-city-china",orderby:"value asc",field:"code as value, name as text, eq(type, 2) as isleaf",_i:9},on:{change:t.changeAddress},model:{value:t._$s(9,"v-model",t.formData.area_code),callback:function(e){t.$set(t.formData,"area_code",e)},expression:"formData.area_code"}})],1),i("uni-forms-item",{attrs:{name:"address",label:"\u8be6\u7ec6\u4f4f\u5740",required:!0,_i:10}},[i("uni-easyinput",{attrs:{placeholder:"\u8857\u9053\u5c0f\u533a\u623f\u95f4\u53f7",inputBorder:!1,trim:"both",_i:11},model:{value:t._$s(11,"v-model",t.formData.address),callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),i("uni-forms-item",{attrs:{name:"is_default",label:"\u9ed8\u8ba4\u5730\u5740",_i:12}},[i("switch",{attrs:{checked:t._$s(13,"a-checked",t.formData.is_default),_i:13},on:{change:function(e){return t.binddata("is_default",e.detail.value)}}})])],1),i("view",{staticClass:t._$s(14,"sc","uni-button-group"),attrs:{_i:14}},[i("button",{staticClass:t._$s(15,"sc","uni-button"),attrs:{_i:15},on:{click:t.submit}})])],1)},a=[]},e9ee:function(t,e,i){"use strict";i.r(e);var n=i("ad9f"),s=i("76b3");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},eb80:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={unicloudDb:i("960d").default,tianEmpty:i("2789").default,uniDateformat:i("3a22").default,uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-scores",field:"score,type,balance,comment,create_date",where:"user_id==$cloudEnv_uid",orderby:"create_date desc",_i:1},on:{load:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options,e.hasMore);return[n._$s("2-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u6570\u636e",marginTop:"300",_i:"2-"+s}}):i("view",{staticClass:n._$s(3,"sc","goods-list "),attrs:{_i:3}},t._l(n._$s(4,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s(4,"f",{forIndex:r,key:a}),staticClass:n._$s("4-"+o,"sc","under-line goods bg-white "),attrs:{_i:"4-"+o}},[i("view",{staticClass:n._$s("5-"+o,"sc","goods-content"),attrs:{_i:"5-"+o}},[i("view",{staticClass:n._$s("6-"+o,"sc","title ti-flex"),attrs:{_i:"6-"+o}},[i("text",{attrs:{_i:"7-"+o}},[t._v(n._$s("7-"+o+s,"t0-0",t._s(e.comment)))]),i("view",{staticClass:n._$s("8-"+o,"sc","flex-1"),attrs:{_i:"8-"+o}}),i("text",{staticClass:n._$s("9-"+o,"sc","jifen"),class:n._$s("9-"+o,"c",{xiaofei:2==e.type}),attrs:{_i:"9-"+o}},[t._v(n._$s("9-"+o+s,"t0-0",t._s(e.score)))])]),i("view",{staticClass:n._$s("10-"+o,"sc","ti-flex font-24 colorGray margin-top-12"),attrs:{_i:"10-"+o}},[i("uni-dateformat",{staticClass:n._$s("11-"+o,"sc","font-20"),attrs:{date:e.create_date,format:"yyyy/MM/dd hh:mm",threshold:[6e4,36e5],_i:"11-"+o}}),i("view",{staticClass:n._$s("12-"+o,"sc","flex-1"),attrs:{_i:"12-"+o}}),i("text",{attrs:{_i:"13-"+o}},[t._v(n._$s("13-"+o+s,"t0-0",t._s(e.balance)))])],1)])])})),0),n._$s("14-"+s,"i",r||o)?i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"14-"+s}}):t._e()]}}])})],1)},a=[]},eb95:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniIndexedList",emits:["itemClick"],props:{loaded:{type:Boolean,default:!1},idx:{type:Number,default:0},list:{type:Object,default:function(){return{}}},showSelect:{type:Boolean,default:!1}},methods:{onClick:function(t,e){this.$emit("itemClick",{idx:t,index:e})}}};e.default=n},ec4c:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b5f7").default,uniBadge:i("f400").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-list-item"),class:t._$s(0,"c",{"uni-list-item--disabled":t.disabled}),attrs:{"hover-class":t._$s(0,"a-hover-class",!t.clickable&&!t.link||t.disabled||t.showSwitch?"":"uni-list-item--hover"),_i:0},on:{click:t.onClick}},[t._$s(1,"i",!t.isFirstChild)?i("view",{staticClass:t._$s(1,"sc","border--left"),class:t._$s(1,"c",{"uni-list--border":t.border}),attrs:{_i:1}}):t._e(),i("view",{staticClass:t._$s(2,"sc","uni-list-item__container"),class:t._$s(2,"c",{"container--right":t.showArrow||t.link,"flex--direction":"column"===t.direction}),attrs:{_i:2}},[t._t("header",[i("view",{staticClass:t._$s(4,"sc","uni-list-item__header"),attrs:{_i:4}},[t._$s(5,"i",t.thumb)?i("view",{staticClass:t._$s(5,"sc","uni-list-item__icon"),attrs:{_i:5}},[i("image",{staticClass:t._$s(6,"sc","uni-list-item__icon-img"),class:t._$s(6,"c",["uni-list--"+t.thumbSize]),attrs:{src:t._$s(6,"a-src",t.thumb),_i:6}})]):t._$s(7,"e",t.showExtraIcon)?i("view",{staticClass:t._$s(7,"sc","uni-list-item__icon"),attrs:{_i:7}},[i("uni-icons",{attrs:{color:t.extraIcon.color,size:t.extraIcon.size,type:t.extraIcon.type,_i:8}})],1):t._e()])],{_i:3}),t._t("body",[i("view",{staticClass:t._$s(10,"sc","uni-list-item__content"),class:t._$s(10,"c",{"uni-list-item__content--center":t.thumb||t.showExtraIcon||t.showBadge||t.showSwitch}),attrs:{_i:10}},[t._$s(11,"i",t.title)?i("text",{staticClass:t._$s(11,"sc","uni-list-item__content-title"),class:t._$s(11,"c",[0!==t.ellipsis&&t.ellipsis<=2?"uni-ellipsis-"+t.ellipsis:""]),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.title)))]):t._e(),t._$s(12,"i",t.note)?i("text",{staticClass:t._$s(12,"sc","uni-list-item__content-note"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.note)))]):t._e()])],{_i:9}),t._t("footer",[t._$s(14,"i",t.rightText||t.showBadge||t.showSwitch)?i("view",{staticClass:t._$s(14,"sc","uni-list-item__extra"),class:t._$s(14,"c",{"flex--justify":"column"===t.direction}),attrs:{_i:14}},[t._$s(15,"i",t.rightText)?i("text",{staticClass:t._$s(15,"sc","uni-list-item__extra-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.rightText)))]):t._e(),t._$s(16,"i",t.showBadge)?i("uni-badge",{attrs:{type:t.badgeType,text:t.badgeText,_i:16}}):t._e(),t._$s(17,"i",t.showSwitch)?i("switch",{attrs:{disabled:t._$s(17,"a-disabled",t.disabled),checked:t._$s(17,"a-checked",t.switchChecked),_i:17},on:{change:t.onSwitchChange}}):t._e()],1):t._e()],{_i:13})],2),t._$s(18,"i",t.showArrow||t.link)?i("uni-icons",{staticClass:t._$s(18,"sc","uni-icon-wrapper"),attrs:{size:16,color:"#bbb",type:"arrowright",_i:18}}):t._e()],1)},a=[]},ed31:function(t,e,i){"use strict";i.r(e);var n=i("424c"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},edff:function(t,e,i){"use strict";i.r(e);var n=i("67b6"),s=i("d24c");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},ee10:function(t,e,i){"use strict";i.r(e);var n=i("3917"),s=i("33f1");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},eebe:function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"\u8acb\u8f38\u5165\u641c\u7d22\u5167\u5bb9"}')},eee9:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"\u53d6\u6d88","uni-popup.ok":"\u78ba\u5b9a","uni-popup.placeholder":"\u8acb\u8f38\u5165","uni-popup.title":"\u63d0\u793a","uni-popup.shareTitle":"\u5206\u4eab\u5230"}')},f073:function(t,e,i){"use strict";i.r(e);var n=i("79df"),s=i("2d89");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},f08d:function(t,e,i){"use strict";i.r(e);var n=i("48c0"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},f09c:function(t,e,i){"use strict";i.r(e);var n=i("9896"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},f0c5:function(t,e,i){"use strict";function n(t,e,i,n,s,a,r,o,c,u){var l,d="function"===typeof t?t.options:t;if(c){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var h in c)f.call(c,h)&&!f.call(d.components,h)&&(d.components[h]=c[h])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=l):s&&(l=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(d.functional){d._injectStyles=l;var _=d.render;d.render=function(t,e){return l.call(e),_(t,e)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:d}}i.d(e,"a",(function(){return n}))},f0f6:function(t,e,i){"use strict";i.r(e);var n=i("454e"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},f241:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("8c3c");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={data:function(){return{queryWhere:"",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},options:a({},n.enumConverter)}},onLoad:function(t){this._id=t.id},onReady:function(){this._id&&(this.queryWhere='_id=="'+this._id+'"')},methods:{handleUpdate:function(){var t=this;uni.navigateTo({url:"./edit?id="+this._id,events:{refreshData:function(){t.$refs.udb.loadData({clear:!0})}}})},handleDelete:function(){this.$refs.udb.remove(this._id,{success:function(t){uni.navigateTo({url:"./list"})}})}}};e.default=o},f2aa:function(t,e,i){"use strict";i.r(e);var n=i("20da"),s=i("cbc7");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},f2bf:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniForms:i("adb1").default,uniFormsItem:i("3b3b").default,uniEasyinput:i("549f").default,unicloudDb:i("960d").default,tianEmpty:i("2789").default,uniDateformat:i("3a22").default,uniLoadMore:i("458a").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","login-container "),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","padding-22 bg-white"),attrs:{_i:1}},[i("text",[t._v(t._$s(2,"t0-0",t._s(t.scoreName))+t._$s(2,"t0-1",t._s(t.score)))])]),i("uni-forms",{ref:"form",attrs:{value:t.formData,_i:3}},[i("uni-forms-item",{attrs:{required:!0,name:"integral",label:"\u6570\u91cf",_i:4}},[i("uni-easyinput",{attrs:{type:"number",maxlength:"11",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u8f6c\u8d26\u7684\u6570\u91cf",_i:5},model:{value:t._$s(5,"v-model",t.formData.integral),callback:function(e){t.$set(t.formData,"integral",e)},expression:"formData.integral"}})],1),i("uni-forms-item",{attrs:{required:!0,name:"mobile",label:"\u624b\u673a",_i:6}},[i("uni-easyinput",{attrs:{type:"number",maxlength:"11",inputBorder:!1,placeholder:"\u8f93\u5165\u5bf9\u65b9\u624b\u673a\u53f7\u7801",_i:7},model:{value:t._$s(7,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),i("view",{staticClass:t._$s(8,"sc","margin-top-40 ti-flex"),attrs:{_i:8}},[i("button",{staticClass:t._$s(9,"sc","flex-1"),attrs:{disabled:t._$s(9,"a-disabled",t.isSubmit),_i:9},on:{click:t.submit}})])],1),i("view",{staticClass:t._$s(10,"sc","padding-22"),attrs:{_i:10}},[i("view",{staticClass:t._$s(11,"sc","margin-top-20 colorBlue"),attrs:{_i:11}},[t._$s(12,"i",t.scoreRate)?i("text",[t._v(t._$s(12,"t0-0",t._s(t.scoreRate))+t._$s(12,"t0-1",t._s(t.scoreName)))]):i("text",[t._v(t._$s(13,"t0-0",t._s(t.scoreName)))])]),i("view",{staticClass:t._$s(14,"sc","margin-top-20 font-36"),attrs:{_i:14}},[i("text")])]),i("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-score-transfer",field:"amount,balance,service,mobile,create_date",where:"user_id==$cloudEnv_uid",orderby:"create_date desc",_i:16},on:{load:t.loadData},scopedSlots:t._u([{key:"default",fn:function(e,n,s){var a=e.data,r=e.loading,o=(e.error,e.options,e.hasMore);return[n._$s("17-"+s,"i",!r&&0==a.length)?i("tian-empty",{attrs:{text:"\u6682\u65e0\u8f6c\u8d26\u6570\u636e",marginTop:"300",_i:"17-"+s}}):i("view",{staticClass:n._$s(18,"sc","goods-list "),attrs:{_i:18}},t._l(n._$s(19,"f",{forItems:a}),(function(e,a,r,o){return i("view",{key:n._$s(19,"f",{forIndex:r,key:a}),staticClass:n._$s("19-"+o,"sc","under-line goods bg-white "),attrs:{_i:"19-"+o}},[i("view",{staticClass:n._$s("20-"+o,"sc","goods-content"),attrs:{_i:"20-"+o}},[i("view",{staticClass:n._$s("21-"+o,"sc","title ti-flex"),attrs:{_i:"21-"+o}},[i("view",{staticClass:n._$s("22-"+o,"sc","flex-1"),attrs:{_i:"22-"+o}},[i("text",{attrs:{_i:"23-"+o}},[t._v("\u8f6c\u8d26\u6570\u91cf\uff1a")]),i("text",{staticClass:n._$s("24-"+o,"sc","jifen"),class:n._$s("24-"+o,"c",{xiaofei:1==e.status}),attrs:{_i:"24-"+o}},[t._v(n._$s("24-"+o+s,"t0-0",t._s(e.amount)))]),i("view",{staticClass:n._$s("25-"+o,"sc","margin-top-6"),attrs:{_i:"25-"+o}},[i("text",{attrs:{_i:"26-"+o}},[t._v(n._$s("26-"+o+s,"t0-0",t._s(e.mobile)))])])]),n._$s("27-"+o,"i",e.service>0)?i("text",{staticClass:n._$s("27-"+o,"sc","font-24"),attrs:{_i:"27-"+o}},[t._v(n._$s("27-"+o+s,"t0-0",t._s(e.service)))]):i("text",{staticClass:n._$s("28-"+o,"sc","font-24"),attrs:{_i:"28-"+o}},[t._v("\u514d\u624b\u7eed\u8d39")])]),i("view",{staticClass:n._$s("29-"+o,"sc","ti-flex font-24 colorGray margin-top-12"),attrs:{_i:"29-"+o}},[i("uni-dateformat",{staticClass:n._$s("30-"+o,"sc","font-20"),attrs:{date:e.create_date,format:"yyyy/MM/dd hh:mm",threshold:[6e4,36e5],_i:"30-"+o}}),i("view",{staticClass:n._$s("31-"+o,"sc","flex-1"),attrs:{_i:"31-"+o}}),i("text",{attrs:{_i:"32-"+o}},[t._v(n._$s("32-"+o+s,"t0-0",t._s(e.balance)))])],1)])])})),0),n._$s("33-"+s,"i",r||o)?i("uni-load-more",{attrs:{status:r?"loading":o?"more":"noMore",_i:"33-"+s}}):t._e()]}}])})],1)},a=[]},f3bd:function(t,e,i){"use strict";i.r(e);var n=i("0cc0"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},f400:function(t,e,i){"use strict";i.r(e);var n=i("dc80"),s=i("36aa");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"7b6dd05b",null,!1,n["a"],r);e["default"]=c.exports},f48b:function(t,e,i){"use strict";i.r(e);var n=i("cb5c"),s=i("e45f");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"d67fb892",null,!1,n["a"],r);e["default"]=c.exports},f63a:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={tianEmpty:i("2789").default,tianIcons:i("6439").default,tianGoodsPrice:i("956e").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","cart-goods-list-container"),attrs:{_i:0}},[t._$s(1,"i",!t.isLogin||t.emptyData)?i("tian-empty",{attrs:{text:"\u8d2d\u7269\u8f66\u7a7a\u7a7a\u5982\u4e5f",_i:1}}):t._e(),i("view",{staticClass:t._$s(2,"sc","cart-goods-list"),attrs:{_i:2}},[i("checkbox-group",{attrs:{_i:3},on:{change:t.change}},t._l(t._$s(4,"f",{forItems:t.shopDataList}),(function(e,n,s,a){return i("view",{key:t._$s(4,"f",{forIndex:s,key:n}),staticClass:t._$s("4-"+a,"sc","margin-top-20"),attrs:{_i:"4-"+a}},[i("view",{staticClass:t._$s("5-"+a,"sc","ti-flex font-24"),attrs:{_i:"5-"+a},on:{click:function(i){return t.navTo("/pages/product/shop?id="+e._id,e)}}},[i("image",{staticClass:t._$s("6-"+a,"sc","image-width-46 border-radius"),attrs:{src:t._$s("6-"+a,"a-src",e.src),_i:"6-"+a}}),i("text",{staticClass:t._$s("7-"+a,"sc","margin-left-16"),attrs:{_i:"7-"+a}},[t._v(t._$s("7-"+a,"t0-0",t._s(e.name)))]),i("tian-icons",{staticClass:t._$s("8-"+a,"sc","margin-left-16"),attrs:{type:"xiangyou1",size:"14",color:"#cccccc",_i:"8-"+a}})],1),t._l(t._$s("9-"+a,"f",{forItems:e.children}),(function(e,n,s,r){return i("view",{key:t._$s("9-"+a,"f",{forIndex:s,key:n}),staticClass:t._$s("9-"+a+"-"+r,"sc","goods"),attrs:{_i:"9-"+a+"-"+r}},[i("checkbox",{attrs:{value:t._$s("10-"+a+"-"+r,"a-value",e._id),checked:t._$s("10-"+a+"-"+r,"a-checked",-1!=t.options.ids.indexOf(e._id)),_i:"10-"+a+"-"+r}}),i("image",{staticClass:t._$s("11-"+a+"-"+r,"sc","image-width-168 goods-image"),attrs:{src:t._$s("11-"+a+"-"+r,"a-src",e.goods_thumb),_i:"11-"+a+"-"+r},on:{click:function(i){return t.navToDetail(e)}}}),i("view",{staticClass:t._$s("12-"+a+"-"+r,"sc","goods-content"),attrs:{_i:"12-"+a+"-"+r}},[i("view",{staticClass:t._$s("13-"+a+"-"+r,"sc","title"),attrs:{_i:"13-"+a+"-"+r},on:{click:function(i){return t.navToDetail(e)}}},[i("text",[t._v(t._$s("14-"+a+"-"+r,"t0-0",t._s(e.name)))])]),i("view",[t._$s("16-"+a+"-"+r,"i",e.sku_name)?i("text",{staticClass:t._$s("16-"+a+"-"+r,"sc","sub-title"),attrs:{_i:"16-"+a+"-"+r}},[t._v(t._$s("16-"+a+"-"+r,"t0-0",t._s(e.sku_name)))]):t._e(),t._$s("17-"+a+"-"+r,"i",e.subTitle)?i("text",{staticClass:t._$s("17-"+a+"-"+r,"sc","sub-title colorRed margin-left-10"),attrs:{_i:"17-"+a+"-"+r}},[t._v(t._$s("17-"+a+"-"+r,"t0-0",t._s(e.subTitle)))]):t._e()]),i("tian-goods-price",{attrs:{hasCart:!1,hasAmount:!0,value:e,_i:"18-"+a+"-"+r},on:{change:t.changeAmount}})],1)])}))],2)})),0)]),t._$s(19,"i",t.isLogin&&!t.emptyData)?i("view",{staticClass:t._$s(19,"sc","cart-options"),attrs:{_i:19}},[i("label",{attrs:{_i:20},on:{click:t.selectAll}},[i("checkbox",{attrs:{checked:t._$s(21,"a-checked",t.isSelectAll),_i:21}})]),i("button",{staticClass:t._$s(22,"sc","margin-left-20"),attrs:{disabled:t._$s(22,"a-disabled",t.btnDisenable),_i:22},on:{click:t.deletes}}),i("view",{staticClass:t._$s(23,"sc","flex-1"),attrs:{_i:23}}),i("view",{staticClass:t._$s(24,"sc","total"),attrs:{_i:24}},[i("text"),i("text",{staticClass:t._$s(26,"sc","price"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.total/100)))])]),i("button",{attrs:{disabled:t._$s(27,"a-disabled",t.btnDisenable),_i:27},on:{click:t.submit}},[t._v(t._$s(27,"t0-0",t._s(t.options.ids.length)))])]):t._e()],1)},a=[]},f6b0:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("37dc"),s=a(i("11d2"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return l(t)||u(t)||c(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var f=(0,n.initVueI18n)(s.default),h=f.t,_={load:"load",error:"error"},p={add:"add",replace:"replace"},m={auto:"auto",onready:"onready",manual:"manual"},g=["pageCurrent","pageSize","spaceInfo","collection","action","field","getcount","orderby","where","groupby","groupField","distinct"],v={name:"UniClouddb",props:{options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String,Object],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},pageIndistinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{loading:!1,hasMore:!1,dataList:this.getone?void 0:[],paginationInternal:{},errorMessage:""}},computed:{collectionArgs:function(){return Array.isArray(this.collection)?this.collection:[this.collection]},isLookup:function(){return Array.isArray(this.collection)&&this.collection.length>1||"string"===typeof this.collection&&this.collection.indexOf(",")>-1},mainCollection:function(){if("string"===typeof this.collection)return this.collection.split(",")[0];var t=JSON.parse(JSON.stringify(this.collection[0]));return t.$db[0].$param[0]}},created:function(){var t=this;this._isEnded=!1,this.paginationInternal={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return g.forEach((function(i){e.push(t[i])})),e}),(function(e,i){if(t.paginationInternal.size=t.pageSize,e[0]!==i[0]&&(t.paginationInternal.current=t.pageCurrent),t.loadtime!==m.manual){for(var n=!1,s=2;s<e.length;s++)if(e[s]!==i[s]){n=!0;break}n&&(t.clear(),t.reset()),t._execLoadData()}})),this.manual||this.loadtime!==m.auto||this.loadData()},methods:{loadData:function(t,e){var i=null,n=!1;"object"===typeof t?(t.clear&&(this.pageData===p.replace?this.clear():n=t.clear,this.reset()),void 0!==t.current&&(this.paginationInternal.current=t.current),"function"===typeof e&&(i=e)):"function"===typeof t&&(i=t),this._execLoadData(i,n)},loadMore:function(){this._isEnded||this.loading||(this.pageData===p.add&&this.paginationInternal.current++,this._execLoadData())},refresh:function(){this.clear(),this._execLoadData()},clear:function(){this._isEnded=!1,this.dataList=[]},reset:function(){this.paginationInternal.current=1},add:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.action,s=i.showToast,a=void 0===s||s,r=i.toastTitle,o=i.success,c=i.fail,u=i.complete,l=i.needConfirm,d=void 0===l||l,f=i.needLoading,_=void 0===f||f,p=i.loadingTitle,m=void 0===p?"":p;_&&uni.showLoading({title:m});var g=t.database(this.spaceInfo);n&&(g=g.action(n)),g.collection(this.mainCollection).add(e).then((function(t){o&&o(t),a&&uni.showToast({title:r||h("uniCloud.component.add.success")})})).catch((function(t){c&&c(t),d&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){_&&uni.hideLoading(),u&&u()}))},remove:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.action,s=i.success,a=i.fail,r=i.complete,o=i.confirmTitle,c=i.confirmContent,u=i.needConfirm,l=void 0===u||u,d=i.needLoading,f=void 0===d||d,_=i.loadingTitle,p=void 0===_?"":_;t&&t.length&&(l?uni.showModal({title:o||h("uniCloud.component.remove.showModal.title"),content:c||h("uniCloud.component.remove.showModal.content"),showCancel:!0,success:function(i){i.confirm&&e._execRemove(t,n,s,a,r,l,f,p)}}):this._execRemove(t,n,s,a,r,l,f,p))},update:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.action,a=n.showToast,r=void 0===a||a,o=n.toastTitle,c=n.success,u=n.fail,l=n.complete,d=n.needConfirm,f=void 0===d||d,_=n.needLoading,p=void 0===_||_,m=n.loadingTitle,g=void 0===m?"":m;p&&uni.showLoading({title:g});var v=t.database(this.spaceInfo);return s&&(v=v.action(s)),v.collection(this.mainCollection).doc(e).update(i).then((function(t){c&&c(t),r&&uni.showToast({title:o||h("uniCloud.component.update.success")})})).catch((function(t){u&&u(t),f&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){p&&uni.hideLoading(),l&&l()}))},getTemp:function(){var e,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t.database(this.spaceInfo);this.action&&(n=n.action(this.action)),n=(e=n).collection.apply(e,r(this.collectionArgs)),this.foreignKey&&(n=n.foreignKey(this.foreignKey)),this.where&&Object.keys(this.where).length&&(n=n.where(this.where)),this.field&&(n=n.field(this.field)),this.groupby&&(n=n.groupBy(this.groupby)),this.groupField&&(n=n.groupField(this.groupField)),!0===this.distinct&&(n=n.distinct()),this.orderby&&(n=n.orderBy(this.orderby));var s=this.paginationInternal,a=s.current,o=s.size,c={};this.getcount&&(c.getCount=this.getcount);var u={limitLevel:this.limitlevel,startWith:this.startwith};return this.gettree&&(c.getTree=u),this.gettreepath&&(c.getTreePath=u),n=n.skip(o*(a-1)).limit(o),i?(n=n.getTemp(c),n.udb=this):n=n.get(c),n},setResult:function(t){0===t.code?this._execLoadDataSuccess(t):this._execLoadDataFail(new Error(t.message))},_execLoadData:function(t,e){var i=this;this.loading||(this.loading=!0,this.errorMessage="",this._getExec().then((function(n){i.loading=!1,i._execLoadDataSuccess(n.result,t,e)})).catch((function(e){i.loading=!1,i._execLoadDataFail(e,t)})))},_execLoadDataSuccess:function(t,e,i){var n=t.data,s=t.count;this._isEnded=void 0!==s?this.paginationInternal.current*this.paginationInternal.size>=s:n.length<this.pageSize,this.hasMore=!this._isEnded;var a,o=this.getone?n.length?n[0]:void 0:n;(this.getcount&&(this.paginationInternal.count=s),e&&e(o,this._isEnded,this.paginationInternal),this._dispatchEvent(_.load,o),this.getone||this.pageData===p.replace)?this.dataList=o:i?this.dataList=o:(a=this.dataList).push.apply(a,r(o))},_execLoadDataFail:function(t,e){this.errorMessage=t,e&&e(),this.$emit(_.error,t)},_getExec:function(){return this.getTemp(!1)},_execRemove:function(e,i,n,s,a,r,o,c){var u=this;if(this.collection&&e){var l=Array.isArray(e)?e:[e];if(l.length){o&&uni.showLoading({mask:!0,title:c});var d=t.database(this.spaceInfo),f=d.command,h=d;i&&(h=h.action(i)),h.collection(this.mainCollection).where({_id:f.in(l)}).remove().then((function(t){n&&n(t.result),u.pageData===p.replace?u.refresh():u.removeData(l)})).catch((function(t){s&&s(t),r&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){o&&uni.hideLoading(),a&&a()}))}}},removeData:function(t){for(var e=t.slice(0),i=this.dataList,n=i.length-1;n>=0;n--){var s=e.indexOf(i[n]._id);s>=0&&(i.splice(n,1),e.splice(s,1))}},_dispatchEvent:function(t,e){this._changeDataFunction?this._changeDataFunction(e,this._isEnded,this.paginationInternal):this.$emit(t,e,this._isEnded,this.paginationInternal)}}};e.default=v}).call(this,i("a9ff")["default"])},f6e5:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view")},a=[]},f750:function(t,e,i){"use strict";i.r(e);var n=i("3bc9"),s=i("ac2f");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"263addf2",null,!1,n["a"],r);e["default"]=c.exports},f91a:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("681d"));a(i("fb22"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){c(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u=t.database(),l={mixins:[s.default],data:function(){return{id:"",isFav:!1,isGetScore:!1,loaded:!1,where:"",content:"",commentList:[],item:{}}},onLoad:function(t){this.id=t.id,this.loadData()},onShow:function(){this.checkFav()},onReachBottom:function(){n("log","\u52a0\u8f7d\u4e0b\u4e00\u9875\u8bc4\u8bba\uff0c\u6ed1\u52a8\u5230\u5e95\u90e8\uff0c\u589e\u52a0\u79ef\u5206"," at uni_modules/tian-article/pages/article/detail.vue:93"),this.item.task&&!this.isGetScore&&this.checkBindMobile("\u5fc5\u987b\u7ed1\u5b9a\u624b\u673a\u624d\u80fd\u505a\u4efb\u52a1")&&(this.isGetScore=!0,this.item.task.normal&&this.articleRead(this.item.task)),this.loadCommentData()},computed:{isLogin:function(){return this.$store.getters["user/isTokenValid"]},userInfo:function(){return this.$store.state.user.userInfo},adConfig:function(){return this.$store.state&&this.$store.state.app.adConfig&&this.$store.state.app.adConfig.article&&this.$store.state.app.adConfig.article.detail?this.$store.state.app.adConfig.article.detail:{}},bottomAdpid:function(){return!!this.adConfig.bottom&&this.adConfig.bottom},topAdpid:function(){return!!this.adConfig.top&&this.adConfig.top},canGetDoubleScore:function(){return this.item.task&&this.item.task.multiple&&(this.adConfig.signin||this.adConfig.video)}},methods:{submitComment:function(t){var e=this;if(this.isLogin)if(this.content){uni.showLoading({title:"\u63d0\u4ea4\u4e2d",mask:!0});var i={article_id:this.id,user_id:u.env.uid,user:{avatar:this.userInfo.avatar,nickname:this.userInfo.nickname},like_count:0,comment_type:0,comment_content:this.content,reply_comment_id:t?t._id:"",reply_user_id:t?t.user_id:""};u.collection("opendb-news-comments").add(i).then((function(t){var s=t.result;n("log","res",s," at uni_modules/tian-article/pages/article/detail.vue:168"),uni.hideLoading(),uni.showToast({title:"\u53d1\u5e03\u6210\u529f"}),i._id=s.id,i.user_id=[e.userInfo],i.comment_date=Date.now();var a=[i];e.buildComment(a),e.commentList=a.concat(e.commentList),e.content=""}))}else uni.showToast({icon:"none",title:"\u8bf7\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9"});else this.navToLoginNotice()},loadCommentData:function(){var t=this;this.item.comment_status?"noMore"!=this.loadingType&&(this.loadingType,this.page++,u.collection("opendb-news-comments").where('article_id=="'.concat(this.id,'" && reply_comment_id==""')).field("comment_content,like_count,comment_type,reply_user_id,reply_comment_id,comment_date,user").orderBy("comment_date desc").skip((this.page-1)*this.limit).limit(this.limit).get().then((function(e){var i=e.result;i.data.length<t.limit?t.loadingType="noMore":t.loadingType="more",t.buildComment(i.data),1==t.page?t.commentList=i.data:t.commentList=t.commentList.concat(i.data)}))):n("log","\u6587\u7ae0\u4e0d\u652f\u6301\u8bc4\u8bba"," at uni_modules/tian-article/pages/article/detail.vue:184")},buildComment:function(t){var e={avatar:"/static/missing-face.png",nickname:"\u533f\u540d"};t.forEach((function(t){t.user?t.user=o(o({},e),t.user):t.user=e}))},loadData:function(){var t=this,e=this.getItemData();this.buildData(e),u.action("article_read").collection("opendb-news-articles,uni-id-users").foreignKey("opendb-news-articles.user_id").where('article_status==1 && _id=="'.concat(this.id,'"')).field("avatar,title,excerpt,publish_date,like_count,source_from,view_count,user_id.nickname,content,comment_count,comment_status").get({getOne:!0}).then((function(e){var i=e.result;t.buildData(i.data),t.isLogin&&t.$store.commit("mall/UPDATE_ARTICLE_READ",t.item._id),t.loaded=!0}))},buildData:function(t){t&&(uni.setNavigationBarTitle({title:t.title}),t.avatar&&(t.avatar=this.$thumbImg(t.avatar,"750x400")),"object"==typeof t.user_id&&(t.user_id&&t.user_id.length>0?t.user_id=t.user_id[0].nickname:t.user_id=""),t.content&&(t.content=this.$repairImageSize(t.content)),this.item=t)},checkFav:function(){var t=this;u.collection("opendb-news-favorite").where('user_id==$cloudEnv_uid && article_id=="'.concat(this.id,'"')).field("_id").get({getOne:!0}).then((function(e){var i=e.result;n("log","checkFav result",i," at uni_modules/tian-article/pages/article/detail.vue:295"),t.isFav=i.data.length>0})).catch((function(t){n("log","\u672a\u767b\u5f55"," at uni_modules/tian-article/pages/article/detail.vue:299")}))},unFav:function(){var t=this;uni.showModal({content:"\u662f\u5426\u786e\u5b9a\u53d6\u6d88\u6536\u85cf\uff1f",success:function(e){e.confirm&&(uni.showLoading({mask:!0}),u.collection("opendb-news-favorite").where('user_id==$cloudEnv_uid && article_id=="'.concat(t.id,'"')).remove().then((function(){uni.hideLoading(),t.isFav=!1,uni.showToast({title:"\u53d6\u6d88\u6210\u529f"})})).catch((function(){uni.hideLoading(),uni.showToast({icon:"none",title:"\u53d6\u6d88\u5931\u8d25"})})))}})},fav:function(){var t=this;this.isLogin?(uni.showLoading({mask:!0}),u.action("article_favorite").collection("opendb-news-favorite").where({user_id:u.env.uid,article_id:this.id}).field("_id").get({getOne:!0}).then((function(e){e.result;t.isFav=!0,n("log","fav result"," at uni_modules/tian-article/pages/article/detail.vue:351"),uni.hideLoading(),uni.showToast({title:"\u6536\u85cf\u6210\u529f"})})).catch((function(){uni.hideLoading(),uni.showToast({icon:"none",title:"\u6536\u85cf\u5931\u8d25"})}))):this.navToLoginNotice((function(){t.checkFav()}))},finishTaskResult:function(t){this.item.task.log=o(o({},t),{},{task:void 0}),this.item.task.multiple=t.task.multiple,t.getDouble?this.$message("\u9605\u8bfb\u7ffb\u500d\u5956\u52b1 +".concat(t.task.bounty)):t.getScore?this.$message("\u9605\u8bfb\u5956\u52b1 +".concat(t.task.bounty)):t.needMore?this.$message("\u5df2\u5b8c\u6210".concat(t.amount,"\u6b21")):t.result}}};e.default=l}).call(this,i("a9ff")["default"],i("0de9")["default"])},f930:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","padding-22"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","text-center"),attrs:{_i:1}},[i("text"),i("text",{staticClass:t._$s(3,"sc","margin-left-10"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.level)))])]),t._l(t._$s(4,"f",{forItems:t.dataList}),(function(e,n,s,a){return i("view",{key:t._$s(4,"f",{forIndex:s,key:n}),staticClass:t._$s("4-"+a,"sc","ti-flex bg-white border-radius padding-22 margin-top-22"),attrs:{_i:"4-"+a}},[i("text",{staticClass:t._$s("5-"+a,"sc","image-width-50"),attrs:{_i:"5-"+a}},[t._v(t._$s("5-"+a,"t0-0",t._s(n+1)))]),i("image",{staticClass:t._$s("6-"+a,"sc","image-width-100 bg-white border-radius padding-2"),attrs:{src:t._$s("6-"+a,"a-src",e.avatar),_i:"6-"+a}}),i("view",{staticClass:t._$s("7-"+a,"sc","flex-1 margin-left-18"),attrs:{_i:"7-"+a}},[i("text",[t._v(t._$s("8-"+a,"t0-0",t._s(e.nickname)))])]),i("view",{staticClass:t._$s("9-"+a,"sc","text-right"),attrs:{_i:"9-"+a}},[i("text",[t._v(t._$s("10-"+a,"t0-0",t._s(e.score.toFixed(1))))])])])}))],2)},a=[]},f9f2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("8bbf")),s=a(i("26cb"));function a(t){return t&&t.__esModule?t:{default:t}}n.default.use(s.default);var r=i("d09e"),o=r.keys().reduce((function(t,e){var i=e.replace(/^\.\/(.*)\.\w+$/,"$1"),n=r(e);return t[i]=n.default,t}),{}),c=new s.default.Store({modules:o}),u=c;e.default=u},fa46:function(t,e,i){"use strict";i.r(e);var n=i("0800"),s=i("5163");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},fc08:function(t,e,i){"use strict";i.r(e);var n=i("4ea2"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},fcf7:function(t,e,i){"use strict";i.r(e);var n=i("b133"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},fcfb:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-numbox"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-numbox__minus uni-numbox-btns"),style:t._$s(1,"s",{background:t.background}),attrs:{_i:1},on:{click:function(e){return t._calcValue("minus")}}},[i("text",{staticClass:t._$s(2,"sc","uni-numbox--text"),class:t._$s(2,"c",{"uni-numbox--disabled":t.inputValue<=t.min||t.disabled}),style:t._$s(2,"s",{color:t.color}),attrs:{_i:2}})]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:t._$s(3,"sc","uni-numbox__value"),style:t._$s(3,"s",{background:t.background,color:t.color}),attrs:{disabled:t._$s(3,"a-disabled",t.disabled),_i:3},domProps:{value:t._$s(3,"v-model",t.inputValue)},on:{focus:t._onFocus,blur:t._onBlur,input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),i("view",{staticClass:t._$s(4,"sc","uni-numbox__plus uni-numbox-btns"),style:t._$s(4,"s",{background:t.background}),attrs:{_i:4},on:{click:function(e){return t._calcValue("plus")}}},[i("text",{staticClass:t._$s(5,"sc","uni-numbox--text"),class:t._$s(5,"c",{"uni-numbox--disabled":t.inputValue>=t.max||t.disabled}),style:t._$s(5,"s",{color:t.color}),attrs:{_i:5}})])])},a=[]},fd66:function(t,e,i){"use strict";i.r(e);var n=i("b4db"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},fd78:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("9e9d")),s=i("37dc"),a=r(i("a765"));function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,s.initVueI18n)(a.default),c=o.t,u={name:"uniPopupDialog",mixins:[n.default],emits:["confirm","close"],props:{value:{type:[String,Number],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""}},data:function(){return{dialogType:"error",focus:!1,val:""}},computed:{okText:function(){return this.confirmText||c("uni-popup.ok")},closeText:function(){return this.cancelText||c("uni-popup.cancel")},placeholderText:function(){return this.placeholder||c("uni-popup.placeholder")},titleText:function(){return this.title||c("uni-popup.title")}},watch:{type:function(t){this.dialogType=t},mode:function(t){"input"===t&&(this.dialogType="info")},value:function(t){this.val=t}},created:function(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},mounted:function(){this.focus=!0},methods:{onOk:function(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog:function(){this.$emit("close"),this.beforeClose||this.popup.close()},close:function(){this.popup.close()}}};e.default=u},fd9f:function(t,e,i){"use strict";i.r(e);var n=i("4213"),s=i("1438");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r,o=i("f0c5"),c=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},fe07:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Behavior=Pt,e.Component=It,e.Page=St,e.nextTick=e.default=void 0;var n,s=a(i("8bbf"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){return f(t)||d(t,e)||u(t,e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function d(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){s=!0,a=c}finally{try{n||null==o["return"]||o["return"]()}finally{if(s)throw a}}return i}}function f(t){if(Array.isArray(t))return t}function h(t,e){t&&(e.mpOptions.data=t)}function _(e){e.components=t.__wxVueOptions.components}var p=Object.prototype.toString,m=Object.prototype.hasOwnProperty;function g(t){return"function"===typeof t}function v(t){return"[object Object]"===p.call(t)}function b(t,e){return m.call(t,e)}function y(){}function w(t){var e=Object.create(null);return function(i){var n=e[i];return n||(e[i]=t(i))}}var $=/-(\w)/g,x=w((function(t){return t.replace($,(function(t,e){return e?e.toUpperCase():""}))})),k="__data__",C={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},S=Object.keys(C),O={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},I=Object.keys(O),P=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function T(t,e){var i=Object.create(null);Object.keys(t).forEach((function(e){var n=t[e];g(n)&&-1===P.indexOf(e)&&(i[e]=n)})),e.methods=i}function D(t,e){Object.keys(t).forEach((function(i){-1!==P.indexOf(i)&&(e[i]=t[i])}))}function j(t){var e={mixins:[],mpOptions:{}};return _(e),h(t.data,e),T(t,e),D(t,e),e}function E(t,e){t&&(e.mpOptions.properties=t)}function L(t,e){t&&(e.mpOptions.options=t)}function A(t,e){t&&(t.$emit&&(console.warn('Method "$emit" conflicts with an existing Vue instance method'),delete t.$emit),e.methods=t)}function M(t,e){S.forEach((function(i){b(t,i)&&(e[C[i]]||(e[C[i]]=[])).push(t[i])}))}var R={"wx://form-field":{},"wx://component-export":{}};function N(t){var e=t.behaviors,i=t.definitionFilter,n=[];if(Array.isArray(e)&&e.forEach((function(e){e="string"===typeof e?R[e]:e,e.definitionFilter&&(n.push(e.definitionFilter),e.definitionFilter.call(null,t,[]))})),g(i))return function(t){i(t,n)}}function B(t,e){N(t)}function F(t){var e=t.data,i=t.methods,n=t.behaviors,s=t.properties,a={watch:{},mpOptions:{mpObservers:[]}};return h(e,a),A(i,a),U(n,a),E(s,a),M(t,a),B(t),a}var z={"wx://form-field":{beforeCreate:function(){var t=this.$options.mpOptions;t.properties||(t.properties=Object.create(null));var e=t.properties;b(e,"name")||(e.name={type:String}),b(e,"value")||(e.value={type:String})}}};function U(t,e){t&&t.forEach((function(t){"string"===typeof t?z[t]&&e.mixins.push(z[t]):e.mixins.push(F(t))}))}function G(t){return t.split(".")}function V(t){return t.split(",").map((function(t){return G(t)}))}function q(t,e){if(t){var i=e.mpOptions.mpObservers;Object.keys(t).forEach((function(e){i.push({paths:V(e),observer:t[e]})}))}}function H(t,e){0===e.indexOf("/")&&(t="");var i=t.split("/"),n=e.split("/");i.pop();while(n.length){var s=n.shift();""!==s&&"."!==s&&(".."!==s?i.push(s):i.pop())}return i.join("/")}function W(e,i){e&&(Object.keys(e).forEach((function(i){var n=e[i];n.name=i,n.target=n.target?String(n.target):H(t.__wxRoute,i)})),i.mpOptions.relations=e)}function K(t,e){t&&(Array.isArray(t)||(t=[t]),e.mpOptions.externalClasses=t,e.mpOptions.properties||(e.mpOptions.properties=Object.create(null)),t.forEach((function(t){e.mpOptions.properties[x(t)]={type:String,value:""}})))}function J(t,e){t&&M(t,e)}function Y(t,e){t&&I.forEach((function(i){var n=t[i];g(n)&&(e[O[i]]=n)}))}function Z(t){var e=t.data,i=t.options,n=t.methods,s=t.behaviors,a=t.lifetimes,r=t.observers,o=t.relations,c=t.properties,u=t.pageLifetimes,l=t.externalClasses,d={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return _(d),h(e,d),L(i,d),A(n,d),U(s,d),J(a,d),q(r,d),W(o,d),E(c,d),Y(u,d),K(l,d),M(t,d),B(t),d}function X(t,e,i,n){if(e){var s="_$".concat(t,"Handlers");(n[s]||(n[s]=[])).push((function(){e.call(n,i)}))}}function Q(t,e,i){var n="linked",s=t.name,a=i._$relationNodes||(i._$relationNodes=Object.create(null));(a[s]||(a[s]=[])).push(e),X(n,t[n],e,i)}function tt(t,e,i){var n="unlinked";X(n,t[n],e,i)}function et(t,e,i){var n=t&&t.$options.mpOptions&&t.$options.mpOptions.relations;if(!n)return[];var s=Object.keys(n).find((function(t){var s=n[t];return s.target===e&&s.type===i}));return s?[n[s],t]:[]}function it(t,e,i){var n=i(t,t.$options.mpOptions.path),s=o(n,2),a=s[0],r=s[1];a&&(Q(a,t,r),Q(e,r,t),tt(a,t,r),tt(e,r,t))}function nt(t,e){var i=t.type;"parent"===i?it(e,t,(function(t,e){return et(t.$parent,e,"child")})):"ancestor"===i&&it(e,t,(function(t,e){var i=t.$parent;while(i){var n=et(i,e,"descendant");if(n.length)return n;i=i.$parent}return[]}))}function st(t){var e=t.$options.mpOptions||{},i=e.relations;i&&Object.keys(i).forEach((function(e){nt(i[e],t)}))}function at(t,e){var i=t["_$".concat(e,"Handlers")];i&&i.forEach((function(t){return t()}))}var rt={enumerable:!0,configurable:!0,get:y,set:y};function ot(t,e,i){rt.get=function(){return this[e][i]},rt.set=function(t){this[e][i]=t},Object.defineProperty(t,i,rt)}function ct(t,e,i){var n=t.replace(/\[(\d+?)\]/g,".$1").split(".");return n.reduce((function(t,i,s){if(s!==n.length-1)return"undefined"===typeof t[i]&&(t[i]={}),t[i];t[i]=e}),i),1===n.length}function ut(t,e){var i=this;v(t)&&(Object.keys(t).forEach((function(e){ct(e,t[e],i.data)&&!b(i,e)&&ot(i,k,e)})),this.$forceUpdate(),g(e)&&this.$nextTick(e))}var lt=Object.prototype.toString,dt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,n=lt.call(i);if("[object Array]"===n)return e=i.slice(0),e;if("[object Object]"===n){for(var s in i)e[s]=t(e[s],i[s]);return e}if("[object Date]"===n)return new Date(i.getTime());if("[object RegExp]"===n){var a=String(i),r=a.lastIndexOf("/");return new RegExp(a.slice(1,r),a.slice(r+1))}return i},ft=function(t){return dt("[object Array]"===lt.call(t)?[]:{},t)},ht=(n={},r(n,String,""),r(n,Number,0),r(n,Boolean,!1),r(n,Object,null),r(n,Array,[]),r(n,null,null),n);function _t(t){return ht[t]}function pt(t){return v(t)?b(t,"value")?t.value:_t(t.type):_t(t)}function mt(t){return v(t)?t.type:t}function gt(t,e,i,n){var s=i[t];if(void 0!==s){var a=e[t],r=mt(a);s=vt(s,r);var o=a&&a.observer;return o&&setTimeout((function(){bt(o,n,s)}),4),s}return pt(e[t])}function vt(t,e){return e===Boolean?!!t:e===String?String(t):t}function bt(t,e,i,n){try{"function"===typeof t?t.call(e,i,n):"string"===typeof t&&"function"===typeof e[t]&&e[t](i,n)}catch(s){console.error("execute observer ".concat(t," callback fail! err: ").concat(s))}}function yt(t,e){var i=t.$options.mpOptions.properties;if(i){var n=ft(t.$options.propsData)||{},s=function(s){var a=!!v(i[s])&&i[s].observer,r=gt(s,i,n,t);Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){var i=r;e===r||e!==e&&r!==r||(r=Array.isArray(e)?e.slice(0):e,a&&bt(a,t,e,i),t.$forceUpdate())}})};for(var a in i)s(a)}}function wt(t){var e=t.$options.mpOptions&&t.$options.mpOptions.properties,i=t.$options.propsData;i&&e&&Object.keys(e).forEach((function(n){b(i,n)&&(t[n]=vt(i[n],mt(e[n])))}))}function $t(t){var e=JSON.parse(JSON.stringify(t.$options.mpOptions.data||{}));t[k]=e;var i={get:function(){return t[k]},set:function(e){t[k]=e}};Object.defineProperties(t,{data:i,properties:i}),t.setData=ut,yt(t,e),Object.keys(e).forEach((function(e){ot(t,k,e)}))}function xt(t){var e=t.$emit;t.triggerEvent=function(i,n,s){var a={dataset:t.$el.dataset},r={target:a,currentTarget:a,detail:n,preventDefault:y,stopPropagation:y};e.call(t,i,r)},t.$emit=function(){t.triggerEvent.apply(t,arguments)},t.getRelationNodes=function(e){return(t._$relationNodes&&t._$relationNodes[e]||[]).filter((function(t){return!t._isDestroyed}))},t._$updateProperties=wt}function kt(t){var e=t.$options.watch;e&&Object.keys(e).forEach((function(i){var n=e[i];if(n.mounted){var s=t[i],a=n.handler;"string"===typeof a&&(a=t[a]),a&&a.call(t,s,s)}}))}var Ct={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=y},created:function(){$t(this),xt(this),st(this)},mounted:function(){kt(this)},destroyed:function(){at(this,"unlinked")}};function St(e){var i=j(e);i.mixins.unshift(Ct),i.mpOptions.path=t.__wxRoute,t.__wxComponents[t.__wxRoute]=i}function Ot(t){t.onServiceAttached||(t.onServiceAttached=[]),t.onServiceAttached.push((function(){at(this,"linked")}))}function It(e){var i=Z(e);i.mixins.unshift(Ct),i.mpOptions.path=t.__wxRoute,Ot(i),t.__wxComponents[t.__wxRoute]=i}function Pt(t){return t}t.__wxRoute="",t.__wxComponents=Object.create(null),t.__wxVueOptions=Object.create(null);var Tt=s.default.nextTick;e.nextTick=Tt;var Dt=uni.__$wx__,jt=Dt;e.default=jt}).call(this,i("c8ba"))},fe4c:function(t,e){},febb:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),s=i("c909");function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function o(t){r(a,n,s,o,c,"next",t)}function c(t){r(a,n,s,o,c,"throw",t)}o(void 0)}))}}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d={namespaced:!0,state:{token:uni.getStorageSync("uni_id_token"),tokenExpired:uni.getStorageSync("uni_id_token_expired"),userInfo:{},tasks:[],openid:"",mpWxCode:"",sessionKey:uni.getStorageSync("mpSessionKey"),inviteCode:"",channelCode:"",push:!1,univerifyInit:!1,updatePushTime:0},getters:{isTokenValid:function(t){return!!t.token&&t.tokenExpired>Date.now()},isInitTokenValid:function(e){return t("log","\u68c0\u67e5\u662f\u5426\u767b\u5f55\u8fc7\u671f",e," at store/modules/user.js:32"),!!e.token&&e.tokenExpired>Date.now()+864e5}},mutations:{SET_TOKEN:function(e,i){var n=i.token,s=i.tokenExpired,a=i.userInfo,r=i.openid;e.token=n,e.tokenExpired=s,r&&(e.openid=r),a&&this.commit("user/SET_USER_INFO",a),uni.setStorageSync("uni_id_token",n),uni.setStorageSync("uni_id_token_expired",s),t("log","\u8bbe\u7f6e\u767b\u5f55\u72b6\u6001\u6210\u529f"," at store/modules/user.js:61"),this.dispatch("mall/getCartTotal")},REMOVE_TOKEN:function(e){t("log","REMOVE_TOKEN"," at store/modules/user.js:69"),e.token="",e.tokenExpired=0,e.userInfo={},uni.removeStorageSync("uni_id_token"),uni.removeStorageSync("uni_id_token_expired"),uni.$emit("refreshCart")},SET_USER_INFO:function(e,i){var n={balance:0,score:0,coupon:0,hasNickName:!1,avatar:"/static/missing-face.png",nickname:"\u6e38\u5ba2"};if(i._id){var s={nickname:"\u672a\u8bbe\u7f6e\u6635\u79f0",hasNickName:!!i.nickname,hasMobile:!!i.mobile,channel_code:e.channelCode};n=Object.assign({},u(u({},n),s)),this.dispatch("user/updatePushClient")}e.userInfo=Object.assign({},u(u({},n),i)),t("log","state.userInfo.wx_openid",i.wx_openid," at store/modules/user.js:108"),i.wx_openid&&(e.openid=i.wx_openid["app-plus"]),this.commit("user/UPDATE_MULTI_ACCOUNT")},UPDATE_MULTI_ACCOUNT:function(t){var e=t.userInfo;if(!e._id)return!1;var i="tiantian-accounts",n=uni.getStorageSync(i);n||(n=[]);var s=u(u({},e),{},{token:t.token,tokenExpired:t.tokenExpired});0==n.filter((function(t){return t._id==e._id})).length?n.push(s):n.forEach((function(t){t._id==e._id&&Object.assign(t,u({},s))})),uni.setStorageSync(i,n)},SET_INVITECODE:function(t,e){t.inviteCode=e},SET_CHANNELCODE:function(t,e){t.channelCode=e},UPDATE_PUSH_CLIENT:function(t,e){t.push=e,this.dispatch("user/updatePushClient")},UPDATE_TASK_LOG:function(e,i){e.tasks&&i.task_id&&e.tasks.forEach((function(e){e._id==i.task_id&&(e.log=u(u({},i),{},{task:void 0}),t("log","store UPDATE_TASK_LOG task",JSON.stringify(e)," at store/modules/user.js:179"))}))},MP_AUTO_LOGIN:function(t,e){this.dispatch("user/mpLogin",e)},MP_WX_CODE:function(e,i){e.mpWxCode=i,t("log","\u66f4\u65b0\u5fae\u4fe1code\u5b8c\u6210",e.mpWxCode," at store/modules/user.js:189")},UNIVERIFY_INIT:function(t,e){t.univerifyInit=!0}},actions:{getUserInfo:function(e){return o(n.default.mark((function i(){var a,r,o;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.state,e.dispatch,r=e.commit,t("log","store getUserInfo"," at store/modules/user.js:204"),i.next=4,(0,s.request)("user/info/info",{},{checkAuthInvalid:!1,token:a.token});case 4:o=i.sent,o&&r("SET_USER_INFO",o),t("log","store getUserInfo result",o," at store/modules/user.js:212");case 7:case"end":return i.stop()}}),i)})))()},getTasks:function(e,i){return o(n.default.mark((function a(){var r,o;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,e.commit,0!=r.tasks.length&&!i){n.next=7;break}return n.next=4,(0,s.request)("user/task/all",{},{});case 4:o=n.sent,r.tasks=o,t("log","store getTasks",o," at store/modules/user.js:224");case 7:case"end":return n.stop()}}),a)})))()},updatePushClient:function(e){return o(n.default.mark((function i(){var a,r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.state,e.commit,!a.token||!a.push){i.next=6;break}return i.next=4,(0,s.request)("user/info/push",u({},a.push),{checkAuthInvalid:!0,token:a.token});case 4:r=i.sent,t("log","store \u66f4\u65b0\u7528\u6237\u63a8\u9001\u4fe1\u606f\u6210\u529f",r," at store/modules/user.js:241");case 6:case"end":return i.stop()}}),i)})))()},mpLogin:function(e,i){return o(n.default.mark((function a(){var r,o;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,e.commit,n.next=3,(0,s.request)("user/login/"+i.provider,u({},i));case 3:o=n.sent,o&&o.sessionKey&&(r.sessionKey=o.sessionKey,uni.setStorage({key:"mpSessionKey",data:o.sessionKey})),t("log","store mpLogin",o," at store/modules/user.js:269");case 6:case"end":return n.stop()}}),a)})))()}}};e.default=d}).call(this,i("0de9")["default"])},ff65:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return l(t)||u(t,e)||o(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function u(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){s=!0,a=c}finally{try{n||null==o["return"]||o["return"]()}finally{if(s)throw a}}return i}}function l(t){if(Array.isArray(t))return t}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _(t,e,i,n,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void i(u)}o.done?e(c):Promise.resolve(c).then(n,s)}function p(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var a=t.apply(e,i);function r(t){_(a,n,s,r,o,"next",t)}function o(t){_(a,n,s,r,o,"throw",t)}r(void 0)}))}}var m="__localFilePath__",g="iOS",v=null;function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";t=String(t).split("."),e=String(e).split(".");for(var i=Math.min(t.length,e.length),n=0,s=0;s<i;s++){var a=Number(t[s]),r=Number(e[s]);if(a>r){n=1;break}if(a<r){n=-1;break}}if(0===n&&t.length!==e.length)for(var o=t.length>e.length,c=o?t:e,u=i;u<c.length;u++){var l=Number(c[u]);if(l>0){n=o?1:-1;break}}return n}var y={data:function(){return{installForBeforeFilePath:"",installed:!1,installing:!1,downloadSuccess:!1,downloading:!1,downLoadPercent:0,downloadedSize:0,packageFileSize:0,tempFilePath:"",title:"\u66f4\u65b0\u65e5\u5fd7",contents:"",is_mandatory:!1,subTitle:"\u53d1\u73b0\u65b0\u7248\u672c",downLoadBtnTextiOS:"\u7acb\u5373\u8df3\u8f6c\u66f4\u65b0",downLoadBtnText:"\u7acb\u5373\u4e0b\u8f7d\u66f4\u65b0",downLoadingText:"\u5b89\u88c5\u5305\u4e0b\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e"}},onLoad:function(e){var i=e.local_storage_key;if(!i)return t("error","local_storage_key\u4e3a\u7a7a\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5"," at uni_modules/uni-upgrade-center-app/pages/upgrade-popup.vue:148"),void uni.navigateBack();var n=uni.getStorageSync(i);if(!n)return t("error","\u5b89\u88c5\u5305\u4fe1\u606f\u4e3a\u7a7a\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5"," at uni_modules/uni-upgrade-center-app/pages/upgrade-popup.vue:155"),void uni.navigateBack();var s=["version","url","type"];for(var a in n)if(-1!==s.indexOf(a)&&!n[a])return t("error","\u53c2\u6570 ".concat(a," \u5fc5\u586b\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5")," at uni_modules/uni-upgrade-center-app/pages/upgrade-popup.vue:163"),void uni.navigateBack();Object.assign(this,n),this.checkLocalStoragePackage()},onBackPress:function(){if(this.is_mandatory)return!0;v&&v.abort()},computed:{isWGT:function(){return"wgt"===this.type},isiOS:function(){return!this.isWGT&&this.platform.includes(g)}},methods:{checkLocalStoragePackage:function(){var t=uni.getStorageSync(m);if(t){var e=t.version,i=t.savedFilePath,n=t.installed;n||0!==b(e,this.version)?this.deleteSavedFile(i):(this.downloadSuccess=!0,this.installForBeforeFilePath=i,this.tempFilePath=i)}},closeUpdate:function(){var t=this;return p(n.default.mark((function e(){return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.downloading){e.next=5;break}if(!t.is_mandatory){e.next=3;break}return e.abrupt("return",uni.showToast({title:"\u4e0b\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e\u2026\u2026",icon:"none",duration:500}));case 3:return uni.showModal({title:"\u662f\u5426\u53d6\u6d88\u4e0b\u8f7d\uff1f",cancelText:"\u5426",confirmText:"\u662f",success:function(t){t.confirm&&(v&&v.abort(),uni.navigateBack())}}),e.abrupt("return");case 5:if(!t.downloadSuccess||!t.tempFilePath){e.next=10;break}return e.next=8,t.saveFile(t.tempFilePath,t.version);case 8:return uni.navigateBack(),e.abrupt("return");case 10:uni.navigateBack();case 11:case"end":return e.stop()}}),e)})))()},downloadPackage:function(){var t=this;this.downloading=!0,v=uni.downloadFile({url:this.url,success:function(e){200==e.statusCode&&(t.downloadSuccess=!0,t.tempFilePath=e.tempFilePath,t.is_mandatory&&t.installPackage())},complete:function(){t.downloading=!1,t.downLoadPercent=0,t.downloadedSize=0,t.packageFileSize=0,v=null}}),v.onProgressUpdate((function(e){t.downLoadPercent=e.progress,t.downloadedSize=(e.totalBytesWritten/Math.pow(1024,2)).toFixed(2),t.packageFileSize=(e.totalBytesExpectedToWrite/Math.pow(1024,2)).toFixed(2)}))},installPackage:function(){var t=this;this.isWGT&&(this.installing=!0),plus.runtime.install(this.tempFilePath,{force:!1},function(){var e=p(n.default.mark((function e(i){var s;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.installing=!1,t.installed=!0,t.isWGT?t.is_mandatory?(uni.showLoading({icon:"none",title:"\u5b89\u88c5\u6210\u529f\uff0c\u6b63\u5728\u91cd\u542f\u2026\u2026"}),setTimeout((function(){uni.hideLoading(),t.restart()}),1e3)):uni.showLoading({icon:"none",title:"\u5b89\u88c5\u6210\u529f\uff0c\u91cd\u542f\u5e94\u7528\u4f53\u9a8c\u65b0\u7248",duration:1e3}):(s=uni.getStorageSync(m),uni.setStorageSync(m,f(f({},s),{},{installed:!0})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=p(n.default.mark((function e(i){return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.installForBeforeFilePath){e.next=4;break}return e.next=3,t.deleteSavedFile(t.installForBeforeFilePath);case 3:t.installForBeforeFilePath="";case 4:t.installing=!1,t.installed=!1,uni.showModal({title:"\u66f4\u65b0\u5931\u8d25".concat(t.isWGT?"":"\uff0cAPK\u6587\u4ef6\u4e0d\u5b58\u5728","\uff0c\u8bf7\u91cd\u65b0\u4e0b\u8f7d"),content:i.message,showCancel:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.isWGT||uni.navigateBack()},restart:function(){this.installed=!1,plus.runtime.restart()},saveFile:function(t,e){return p(n.default.mark((function i(){var s,r,o,c;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,uni.saveFile({tempFilePath:t});case 2:if(s=i.sent,r=a(s,2),o=r[0],c=r[1],!o){i.next=8;break}return i.abrupt("return");case 8:uni.setStorageSync(m,{version:e,savedFilePath:c.savedFilePath});case 9:case"end":return i.stop()}}),i)})))()},deleteSavedFile:function(t){return uni.removeStorageSync(m),uni.removeSavedFile({filePath:t})},jumpToAppStore:function(){plus.runtime.openURL(this.url)}}};e.default=y}).call(this,i("0de9")["default"])},ffbb:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniList:i("52ab").default,uniListItem:i("908c").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","ti-flex flex-column padding-top-80 padding-bottom-80"),attrs:{_i:1}},[i("image",{staticClass:t._$s(2,"sc","image-width-100"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","padding-top-20 colorGray"),attrs:{_i:3}},[i("text",[t._v(t._$s(4,"t0-0",t._s(t.name)))]),i("text",{staticClass:t._$s(5,"sc","padding-left-12"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.version)))])])]),i("uni-list",{attrs:{_i:6}},[i("uni-list-item",{attrs:{title:"\u670d\u52a1\u534f\u8bae",showArrow:!0,clickable:!0,_i:7},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.fwxy)}}}),i("uni-list-item",{attrs:{title:"\u9690\u79c1\u653f\u7b56",showArrow:!0,clickable:!0,_i:8},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.yszc)}}}),i("uni-list-item",{attrs:{title:"\u8d44\u8d28\u8bc1\u7167",showArrow:!0,clickable:!0,_i:9},on:{click:function(e){return t.navTo("/pages/app/web",t.appConfig.zz)}}}),i("uni-list-item",{attrs:{title:"\u68c0\u67e5\u66f4\u65b0",clickable:!0,rightText:t.version,_i:10},on:{click:t.checkVersion}})],1)],1)},a=[]}},[["91a8","app-config","app-confusion"]]]);